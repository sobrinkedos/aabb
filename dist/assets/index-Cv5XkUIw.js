(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function uv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function f2(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var l=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return s[i]}})}),n}var vh={exports:{}},po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function m2(){if(Vx)return po;Vx=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:i,key:d,ref:l!==void 0?l:null,props:u}}return po.Fragment=e,po.jsx=n,po.jsxs=n,po}var qx;function g2(){return qx||(qx=1,vh.exports=m2()),vh.exports}var r=g2(),wh={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function p2(){if($x)return Oe;$x=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function N(A,q,P){this.props=A,this.context=q,this.refs=C,this.updater=P||_}N.prototype.isReactComponent={},N.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=N.prototype;function O(A,q,P){this.props=A,this.context=q,this.refs=C,this.updater=P||_}var E=O.prototype=new k;E.constructor=O,w(E,N.prototype),E.isPureReactComponent=!0;var T=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function z(A,q,P,J,ue,xe){return P=xe.ref,{$$typeof:s,type:A,key:q,ref:P!==void 0?P:null,props:xe}}function $(A,q){return z(A.type,q,void 0,void 0,void 0,A.props)}function F(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function V(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return q[P]})}var W=/\/+/g;function Y(A,q){return typeof A=="object"&&A!==null&&A.key!=null?V(""+A.key):q.toString(36)}function ae(){}function fe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ae,ae):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function se(A,q,P,J,ue){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(xe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case s:case e:me=!0;break;case m:return me=A._init,se(me(A._payload),q,P,J,ue)}}if(me)return ue=ue(A),me=J===""?"."+Y(A,0):J,T(ue)?(P="",me!=null&&(P=me.replace(W,"$&/")+"/"),se(ue,q,P,"",function(De){return De})):ue!=null&&(F(ue)&&(ue=$(ue,P+(ue.key==null||A&&A.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+me)),q.push(ue)),1;me=0;var re=J===""?".":J+":";if(T(A))for(var he=0;he<A.length;he++)J=A[he],xe=re+Y(J,he),me+=se(J,q,P,xe,ue);else if(he=b(A),typeof he=="function")for(A=he.call(A),he=0;!(J=A.next()).done;)J=J.value,xe=re+Y(J,he++),me+=se(J,q,P,xe,ue);else if(xe==="object"){if(typeof A.then=="function")return se(fe(A),q,P,J,ue);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return me}function L(A,q,P){if(A==null)return A;var J=[],ue=0;return se(A,J,"","",function(xe){return q.call(P,xe,ue++)}),J}function D(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var I=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ne(){}return Oe.Children={map:L,forEach:function(A,q,P){L(A,function(){q.apply(this,arguments)},P)},count:function(A){var q=0;return L(A,function(){q++}),q},toArray:function(A){return L(A,function(q){return q})||[]},only:function(A){if(!F(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Oe.Component=N,Oe.Fragment=n,Oe.Profiler=l,Oe.PureComponent=O,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return S.H.useMemoCache(A)}},Oe.cache=function(A){return function(){return A.apply(null,arguments)}},Oe.cloneElement=function(A,q,P){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var J=w({},A.props),ue=A.key,xe=void 0;if(q!=null)for(me in q.ref!==void 0&&(xe=void 0),q.key!==void 0&&(ue=""+q.key),q)!R.call(q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&q.ref===void 0||(J[me]=q[me]);var me=arguments.length-2;if(me===1)J.children=P;else if(1<me){for(var re=Array(me),he=0;he<me;he++)re[he]=arguments[he+2];J.children=re}return z(A.type,ue,void 0,void 0,xe,J)},Oe.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},Oe.createElement=function(A,q,P){var J,ue={},xe=null;if(q!=null)for(J in q.key!==void 0&&(xe=""+q.key),q)R.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ue[J]=q[J]);var me=arguments.length-2;if(me===1)ue.children=P;else if(1<me){for(var re=Array(me),he=0;he<me;he++)re[he]=arguments[he+2];ue.children=re}if(A&&A.defaultProps)for(J in me=A.defaultProps,me)ue[J]===void 0&&(ue[J]=me[J]);return z(A,xe,void 0,void 0,null,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(A){return{$$typeof:f,render:A}},Oe.isValidElement=F,Oe.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:D}},Oe.memo=function(A,q){return{$$typeof:p,type:A,compare:q===void 0?null:q}},Oe.startTransition=function(A){var q=S.T,P={};S.T=P;try{var J=A(),ue=S.S;ue!==null&&ue(P,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ne,I)}catch(xe){I(xe)}finally{S.T=q}},Oe.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Oe.use=function(A){return S.H.use(A)},Oe.useActionState=function(A,q,P){return S.H.useActionState(A,q,P)},Oe.useCallback=function(A,q){return S.H.useCallback(A,q)},Oe.useContext=function(A){return S.H.useContext(A)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(A,q){return S.H.useDeferredValue(A,q)},Oe.useEffect=function(A,q,P){var J=S.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(A,q)},Oe.useId=function(){return S.H.useId()},Oe.useImperativeHandle=function(A,q,P){return S.H.useImperativeHandle(A,q,P)},Oe.useInsertionEffect=function(A,q){return S.H.useInsertionEffect(A,q)},Oe.useLayoutEffect=function(A,q){return S.H.useLayoutEffect(A,q)},Oe.useMemo=function(A,q){return S.H.useMemo(A,q)},Oe.useOptimistic=function(A,q){return S.H.useOptimistic(A,q)},Oe.useReducer=function(A,q,P){return S.H.useReducer(A,q,P)},Oe.useRef=function(A){return S.H.useRef(A)},Oe.useState=function(A){return S.H.useState(A)},Oe.useSyncExternalStore=function(A,q,P){return S.H.useSyncExternalStore(A,q,P)},Oe.useTransition=function(){return S.H.useTransition()},Oe.version="19.1.0",Oe}var Hx;function If(){return Hx||(Hx=1,wh.exports=p2()),wh.exports}var v=If();const Ve=uv(v);var jh={exports:{}},xo={},_h={exports:{}},Nh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function x2(){return Fx||(Fx=1,function(s){function e(L,D){var I=L.length;L.push(D);e:for(;0<I;){var ne=I-1>>>1,A=L[ne];if(0<l(A,D))L[ne]=D,L[I]=A,I=ne;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var D=L[0],I=L.pop();if(I!==D){L[0]=I;e:for(var ne=0,A=L.length,q=A>>>1;ne<q;){var P=2*(ne+1)-1,J=L[P],ue=P+1,xe=L[ue];if(0>l(J,I))ue<A&&0>l(xe,J)?(L[ne]=xe,L[ue]=I,ne=ue):(L[ne]=J,L[P]=I,ne=P);else if(ue<A&&0>l(xe,I))L[ne]=xe,L[ue]=I,ne=ue;else break e}}return D}function l(L,D){var I=L.sortIndex-D.sortIndex;return I!==0?I:L.id-D.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();s.unstable_now=function(){return d.now()-f}}var g=[],p=[],m=1,y=null,b=3,_=!1,w=!1,C=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var D=n(p);D!==null;){if(D.callback===null)i(p);else if(D.startTime<=L)i(p),D.sortIndex=D.expirationTime,e(g,D);else break;D=n(p)}}function S(L){if(C=!1,T(L),!w)if(n(g)!==null)w=!0,R||(R=!0,Y());else{var D=n(p);D!==null&&se(S,D.startTime-L)}}var R=!1,z=-1,$=5,F=-1;function V(){return N?!0:!(s.unstable_now()-F<$)}function W(){if(N=!1,R){var L=s.unstable_now();F=L;var D=!0;try{e:{w=!1,C&&(C=!1,O(z),z=-1),_=!0;var I=b;try{t:{for(T(L),y=n(g);y!==null&&!(y.expirationTime>L&&V());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,b=y.priorityLevel;var A=ne(y.expirationTime<=L);if(L=s.unstable_now(),typeof A=="function"){y.callback=A,T(L),D=!0;break t}y===n(g)&&i(g),T(L)}else i(g);y=n(g)}if(y!==null)D=!0;else{var q=n(p);q!==null&&se(S,q.startTime-L),D=!1}}break e}finally{y=null,b=I,_=!1}D=void 0}}finally{D?Y():R=!1}}}var Y;if(typeof E=="function")Y=function(){E(W)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,fe=ae.port2;ae.port1.onmessage=W,Y=function(){fe.postMessage(null)}}else Y=function(){k(W,0)};function se(L,D){z=k(function(){L(s.unstable_now())},D)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(L){switch(b){case 1:case 2:case 3:var D=3;break;default:D=b}var I=b;b=D;try{return L()}finally{b=I}},s.unstable_requestPaint=function(){N=!0},s.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var I=b;b=L;try{return D()}finally{b=I}},s.unstable_scheduleCallback=function(L,D,I){var ne=s.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ne+I:ne):I=ne,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=I+A,L={id:m++,callback:D,priorityLevel:L,startTime:I,expirationTime:A,sortIndex:-1},I>ne?(L.sortIndex=I,e(p,L),n(g)===null&&L===n(p)&&(C?(O(z),z=-1):C=!0,se(S,I-ne))):(L.sortIndex=A,e(g,L),w||_||(w=!0,R||(R=!0,Y()))),L},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(L){var D=b;return function(){var I=b;b=D;try{return L.apply(this,arguments)}finally{b=I}}}}(Nh)),Nh}var Ix;function y2(){return Ix||(Ix=1,_h.exports=x2()),_h.exports}var Sh={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function b2(){if(Gx)return Ht;Gx=1;var s=If();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:g,containerInfo:p,implementation:m}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(g,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,m)},Ht.flushSync=function(g){var p=d.T,m=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=p,i.p=m,i.d.f()}},Ht.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Ht.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Ht.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var m=p.as,y=f(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):m==="script"&&i.d.X(g,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ht.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=f(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Ht.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=f(m,p.crossOrigin);i.d.L(g,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ht.preloadModule=function(g,p){if(typeof g=="string")if(p){var m=f(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Ht.requestFormReset=function(g){i.d.r(g)},Ht.unstable_batchedUpdates=function(g,p){return g(p)},Ht.useFormState=function(g,p,m){return d.H.useFormState(g,p,m)},Ht.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var Yx;function v2(){if(Yx)return Sh.exports;Yx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sh.exports=b2(),Sh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function w2(){if(Xx)return xo;Xx=1;var s=y2(),e=If(),n=v2();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,o=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(o=a.return),t=a.return;while(t)}return a.tag===3?o:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function g(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(i(188));return a!==t?null:t}for(var o=t,c=a;;){var h=o.return;if(h===null)break;var x=h.alternate;if(x===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===o)return f(h),t;if(x===c)return f(h),a;x=x.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=x;else{for(var j=!1,M=h.child;M;){if(M===o){j=!0,o=h,c=x;break}if(M===c){j=!0,c=h,o=x;break}M=M.sibling}if(!j){for(M=x.child;M;){if(M===o){j=!0,o=x,c=h;break}if(M===c){j=!0,c=x,o=h;break}M=M.sibling}if(!j)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:a}function p(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=p(t),a!==null)return a;t=t.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case S:return"Suspense";case R:return"SuspenseList";case F:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case E:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case T:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return a=t.displayName||null,a!==null?a:fe(t.type)||"Memo";case $:a=t._payload,t=t._init;try{return fe(t(a))}catch{}}return null}var se=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ne=[],A=-1;function q(t){return{current:t}}function P(t){0>A||(t.current=ne[A],ne[A]=null,A--)}function J(t,a){A++,ne[A]=t.current,t.current=a}var ue=q(null),xe=q(null),me=q(null),re=q(null);function he(t,a){switch(J(me,a),J(xe,t),J(ue,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?mx(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=mx(a),t=gx(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(ue),J(ue,t)}function De(){P(ue),P(xe),P(me)}function Xe(t){t.memoizedState!==null&&J(re,t);var a=ue.current,o=gx(a,t.type);a!==o&&(J(xe,t),J(ue,o))}function pt(t){xe.current===t&&(P(ue),P(xe)),re.current===t&&(P(re),uo._currentValue=I)}var At=Object.prototype.hasOwnProperty,rs=s.unstable_scheduleCallback,ks=s.unstable_cancelCallback,Kn=s.unstable_shouldYield,pi=s.unstable_requestPaint,Pt=s.unstable_now,tl=s.unstable_getCurrentPriorityLevel,fn=s.unstable_ImmediatePriority,U=s.unstable_UserBlockingPriority,Q=s.unstable_NormalPriority,ie=s.unstable_LowPriority,ye=s.unstable_IdlePriority,pe=s.log,ge=s.unstable_setDisableYieldValue,we=null,Ae=null;function Pe(t){if(typeof pe=="function"&&ge(t),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(we,t)}catch{}}var ee=Math.clz32?Math.clz32:It,ke=Math.log,qe=Math.LN2;function It(t){return t>>>=0,t===0?32:31-(ke(t)/qe|0)|0}var Vt=256,is=4194304;function xs(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hs(t,a,o){var c=t.pendingLanes;if(c===0)return 0;var h=0,x=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var M=c&134217727;return M!==0?(c=M&~x,c!==0?h=xs(c):(j&=M,j!==0?h=xs(j):o||(o=M&~t,o!==0&&(h=xs(o))))):(M=c&~x,M!==0?h=xs(M):j!==0?h=xs(j):o||(o=c&~t,o!==0&&(h=xs(o)))),h===0?0:a!==0&&a!==h&&(a&x)===0&&(x=h&-h,o=a&-a,x>=o||x===32&&(o&4194048)!==0)?a:h}function Fs(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function mn(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(){var t=Vt;return Vt<<=1,(Vt&4194048)===0&&(Vt=256),t}function yi(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function bi(t){for(var a=[],o=0;31>o;o++)a.push(t);return a}function Qn(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vi(t,a,o,c,h,x){var j=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var M=t.entanglements,B=t.expirationTimes,K=t.hiddenUpdates;for(o=j&~o;0<o;){var oe=31-ee(o),ce=1<<oe;M[oe]=0,B[oe]=-1;var Z=K[oe];if(Z!==null)for(K[oe]=null,oe=0;oe<Z.length;oe++){var te=Z[oe];te!==null&&(te.lane&=-536870913)}o&=~ce}c!==0&&Jm(t,c,0),x!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=x&~(j&~a))}function Jm(t,a,o){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-ee(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|o&4194090}function eg(t,a){var o=t.entangledLanes|=a;for(t=t.entanglements;o;){var c=31-ee(o),h=1<<c;h&a|t[c]&a&&(t[c]|=a),o&=~h}}function uu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function du(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tg(){var t=D.p;return t!==0?t:(t=window.event,t===void 0?32:Rx(t.type))}function s1(t,a){var o=D.p;try{return D.p=t,a()}finally{D.p=o}}var Aa=Math.random().toString(36).slice(2),qt="__reactFiber$"+Aa,Wt="__reactProps$"+Aa,Wn="__reactContainer$"+Aa,hu="__reactEvents$"+Aa,a1="__reactListeners$"+Aa,n1="__reactHandles$"+Aa,sg="__reactResources$"+Aa,wi="__reactMarker$"+Aa;function fu(t){delete t[qt],delete t[Wt],delete t[hu],delete t[a1],delete t[n1]}function Zn(t){var a=t[qt];if(a)return a;for(var o=t.parentNode;o;){if(a=o[Wn]||o[qt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(t=bx(t);t!==null;){if(o=t[qt])return o;t=bx(t)}return a}t=o,o=t.parentNode}return null}function Jn(t){if(t=t[qt]||t[Wn]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function ji(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function er(t){var a=t[sg];return a||(a=t[sg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function kt(t){t[wi]=!0}var ag=new Set,ng={};function gn(t,a){tr(t,a),tr(t+"Capture",a)}function tr(t,a){for(ng[t]=a,t=0;t<a.length;t++)ag.add(a[t])}var r1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rg={},ig={};function i1(t){return At.call(ig,t)?!0:At.call(rg,t)?!1:r1.test(t)?ig[t]=!0:(rg[t]=!0,!1)}function sl(t,a,o){if(i1(a))if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+o)}}function al(t,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+o)}}function na(t,a,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(a,o,""+c)}}var mu,og;function sr(t){if(mu===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);mu=a&&a[1]||"",og=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mu+t+og}var gu=!1;function pu(t,a){if(!t||gu)return"";gu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var Z=te}Reflect.construct(t,[],ce)}else{try{ce.call()}catch(te){Z=te}t.call(ce.prototype)}}else{try{throw Error()}catch(te){Z=te}(ce=t())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),j=x[0],M=x[1];if(j&&M){var B=j.split(`
`),K=M.split(`
`);for(h=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(c===B.length||h===K.length)for(c=B.length-1,h=K.length-1;1<=c&&0<=h&&B[c]!==K[h];)h--;for(;1<=c&&0<=h;c--,h--)if(B[c]!==K[h]){if(c!==1||h!==1)do if(c--,h--,0>h||B[c]!==K[h]){var oe=`
`+B[c].replace(" at new "," at ");return t.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",t.displayName)),oe}while(1<=c&&0<=h);break}}}finally{gu=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?sr(o):""}function o1(t){switch(t.tag){case 26:case 27:case 5:return sr(t.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return pu(t.type,!1);case 11:return pu(t.type.render,!1);case 1:return pu(t.type,!0);case 31:return sr("Activity");default:return""}}function lg(t){try{var a="";do a+=o1(t),t=t.return;while(t);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ys(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cg(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function l1(t){var a=cg(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),c=""+t[a];if(!t.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,x=o.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return h.call(this)},set:function(j){c=""+j,x.call(this,j)}}),Object.defineProperty(t,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(j){c=""+j},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function nl(t){t._valueTracker||(t._valueTracker=l1(t))}function ug(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return t&&(c=cg(t)?t.checked?"true":"false":t.value),t=c,t!==o?(a.setValue(t),!0):!1}function rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var c1=/[\n"\\]/g;function bs(t){return t.replace(c1,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xu(t,a,o,c,h,x,j,M){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),a!=null?j==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+ys(a)):t.value!==""+ys(a)&&(t.value=""+ys(a)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),a!=null?yu(t,j,ys(a)):o!=null?yu(t,j,ys(o)):c!=null&&t.removeAttribute("value"),h==null&&x!=null&&(t.defaultChecked=!!x),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+ys(M):t.removeAttribute("name")}function dg(t,a,o,c,h,x,j,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),a!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;o=o!=null?""+ys(o):"",a=a!=null?""+ys(a):o,M||a===t.value||(t.value=a),t.defaultValue=a}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=M?t.checked:!!c,t.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j)}function yu(t,a,o){a==="number"&&rl(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ar(t,a,o,c){if(t=t.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=a.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&c&&(t[o].defaultSelected=!0)}else{for(o=""+ys(o),a=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}a!==null||t[h].disabled||(a=t[h])}a!==null&&(a.selected=!0)}}function hg(t,a,o){if(a!=null&&(a=""+ys(a),a!==t.value&&(t.value=a),o==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=o!=null?""+ys(o):""}function fg(t,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(i(92));if(se(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=ys(a),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c)}function nr(t,a){if(a){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=a;return}}t.textContent=a}var u1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mg(t,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,o):typeof o!="number"||o===0||u1.has(a)?a==="float"?t.cssFloat=o:t[a]=(""+o).trim():t[a]=o+"px"}function gg(t,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in a)c=a[h],a.hasOwnProperty(h)&&o[h]!==c&&mg(t,h,c)}else for(var x in a)a.hasOwnProperty(x)&&mg(t,x,a[x])}function bu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(t){return h1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vu=null;function wu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rr=null,ir=null;function pg(t){var a=Jn(t);if(a&&(t=a.stateNode)){var o=t[Wt]||null;e:switch(t=a.stateNode,a.type){case"input":if(xu(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bs(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==t&&c.form===t.form){var h=c[Wt]||null;if(!h)throw Error(i(90));xu(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===t.form&&ug(c)}break e;case"textarea":hg(t,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ar(t,!!o.multiple,a,!1)}}}var ju=!1;function xg(t,a,o){if(ju)return t(a,o);ju=!0;try{var c=t(a);return c}finally{if(ju=!1,(rr!==null||ir!==null)&&(Il(),rr&&(a=rr,t=ir,ir=rr=null,pg(a),t)))for(a=0;a<t.length;a++)pg(t[a])}}function _i(t,a){var o=t.stateNode;if(o===null)return null;var c=o[Wt]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(ra)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{_u=!1}var ka=null,Nu=null,ol=null;function yg(){if(ol)return ol;var t,a=Nu,o=a.length,c,h="value"in ka?ka.value:ka.textContent,x=h.length;for(t=0;t<o&&a[t]===h[t];t++);var j=o-t;for(c=1;c<=j&&a[o-c]===h[x-c];c++);return ol=h.slice(t,1<c?1-c:void 0)}function ll(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function cl(){return!0}function bg(){return!1}function Zt(t){function a(o,c,h,x,j){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(o=t[M],this[M]=o?o(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?cl:bg,this.isPropagationStopped=bg,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),a}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Zt(pn),Si=m({},pn,{view:0,detail:0}),f1=Zt(Si),Su,Tu,Ti,dl=m({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Su=t.screenX-Ti.screenX,Tu=t.screenY-Ti.screenY):Tu=Su=0,Ti=t),Su)},movementY:function(t){return"movementY"in t?t.movementY:Tu}}),vg=Zt(dl),m1=m({},dl,{dataTransfer:0}),g1=Zt(m1),p1=m({},Si,{relatedTarget:0}),Cu=Zt(p1),x1=m({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),y1=Zt(x1),b1=m({},pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v1=Zt(b1),w1=m({},pn,{data:0}),wg=Zt(w1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S1(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=N1[t])?!!a[t]:!1}function Eu(){return S1}var T1=m({},Si,{key:function(t){if(t.key){var a=j1[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C1=Zt(T1),E1=m({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jg=Zt(E1),A1=m({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),k1=Zt(A1),M1=m({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),O1=Zt(M1),D1=m({},dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R1=Zt(D1),P1=m({},pn,{newState:0,oldState:0}),L1=Zt(P1),B1=[9,13,27,32],Au=ra&&"CompositionEvent"in window,Ci=null;ra&&"documentMode"in document&&(Ci=document.documentMode);var z1=ra&&"TextEvent"in window&&!Ci,_g=ra&&(!Au||Ci&&8<Ci&&11>=Ci),Ng=" ",Sg=!1;function Tg(t,a){switch(t){case"keyup":return B1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var or=!1;function U1(t,a){switch(t){case"compositionend":return Cg(a);case"keypress":return a.which!==32?null:(Sg=!0,Ng);case"textInput":return t=a.data,t===Ng&&Sg?null:t;default:return null}}function V1(t,a){if(or)return t==="compositionend"||!Au&&Tg(t,a)?(t=yg(),ol=Nu=ka=null,or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _g&&a.locale!=="ko"?null:a.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!q1[t.type]:a==="textarea"}function Ag(t,a,o,c){rr?ir?ir.push(c):ir=[c]:rr=c,a=Wl(a,"onChange"),0<a.length&&(o=new ul("onChange","change",null,o,c),t.push({event:o,listeners:a}))}var Ei=null,Ai=null;function $1(t){cx(t,0)}function hl(t){var a=ji(t);if(ug(a))return t}function kg(t,a){if(t==="change")return a}var Mg=!1;if(ra){var ku;if(ra){var Mu="oninput"in document;if(!Mu){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Mu=typeof Og.oninput=="function"}ku=Mu}else ku=!1;Mg=ku&&(!document.documentMode||9<document.documentMode)}function Dg(){Ei&&(Ei.detachEvent("onpropertychange",Rg),Ai=Ei=null)}function Rg(t){if(t.propertyName==="value"&&hl(Ai)){var a=[];Ag(a,Ai,t,wu(t)),xg($1,a)}}function H1(t,a,o){t==="focusin"?(Dg(),Ei=a,Ai=o,Ei.attachEvent("onpropertychange",Rg)):t==="focusout"&&Dg()}function F1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hl(Ai)}function I1(t,a){if(t==="click")return hl(a)}function G1(t,a){if(t==="input"||t==="change")return hl(a)}function Y1(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var os=typeof Object.is=="function"?Object.is:Y1;function ki(t,a){if(os(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var o=Object.keys(t),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!At.call(a,h)||!os(t[h],a[h]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,a){var o=Pg(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=a&&c>=a)return{node:o,offset:a-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pg(o)}}function Bg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Bg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=rl(t.document);a instanceof t.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)t=a.contentWindow;else break;a=rl(t.document)}return a}function Ou(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var X1=ra&&"documentMode"in document&&11>=document.documentMode,lr=null,Du=null,Mi=null,Ru=!1;function Ug(t,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ru||lr==null||lr!==rl(c)||(c=lr,"selectionStart"in c&&Ou(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mi&&ki(Mi,c)||(Mi=c,c=Wl(Du,"onSelect"),0<c.length&&(a=new ul("onSelect","select",null,a,o),t.push({event:a,listeners:c}),a.target=lr)))}function xn(t,a){var o={};return o[t.toLowerCase()]=a.toLowerCase(),o["Webkit"+t]="webkit"+a,o["Moz"+t]="moz"+a,o}var cr={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionrun:xn("Transition","TransitionRun"),transitionstart:xn("Transition","TransitionStart"),transitioncancel:xn("Transition","TransitionCancel"),transitionend:xn("Transition","TransitionEnd")},Pu={},Vg={};ra&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function yn(t){if(Pu[t])return Pu[t];if(!cr[t])return t;var a=cr[t],o;for(o in a)if(a.hasOwnProperty(o)&&o in Vg)return Pu[t]=a[o];return t}var qg=yn("animationend"),$g=yn("animationiteration"),Hg=yn("animationstart"),K1=yn("transitionrun"),Q1=yn("transitionstart"),W1=yn("transitioncancel"),Fg=yn("transitionend"),Ig=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function Ms(t,a){Ig.set(t,a),gn(a,[t])}var Gg=new WeakMap;function vs(t,a){if(typeof t=="object"&&t!==null){var o=Gg.get(t);return o!==void 0?o:(a={value:t,source:a,stack:lg(a)},Gg.set(t,a),a)}return{value:t,source:a,stack:lg(a)}}var ws=[],ur=0,Bu=0;function fl(){for(var t=ur,a=Bu=ur=0;a<t;){var o=ws[a];ws[a++]=null;var c=ws[a];ws[a++]=null;var h=ws[a];ws[a++]=null;var x=ws[a];if(ws[a++]=null,c!==null&&h!==null){var j=c.pending;j===null?h.next=h:(h.next=j.next,j.next=h),c.pending=h}x!==0&&Yg(o,h,x)}}function ml(t,a,o,c){ws[ur++]=t,ws[ur++]=a,ws[ur++]=o,ws[ur++]=c,Bu|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function zu(t,a,o,c){return ml(t,a,o,c),gl(t)}function dr(t,a){return ml(t,null,null,a),gl(t)}function Yg(t,a,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var h=!1,x=t.return;x!==null;)x.childLanes|=o,c=x.alternate,c!==null&&(c.childLanes|=o),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(h=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,h&&a!==null&&(h=31-ee(o),t=x.hiddenUpdates,c=t[h],c===null?t[h]=[a]:c.push(a),a.lane=o|536870912),x):null}function gl(t){if(50<so)throw so=0,Fd=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var hr={};function Z1(t,a,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(t,a,o,c){return new Z1(t,a,o,c)}function Uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ia(t,a){var o=t.alternate;return o===null?(o=ls(t.tag,a,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=a,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Xg(t,a){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,a=o.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function pl(t,a,o,c,h,x){var j=0;if(c=t,typeof t=="function")Uu(t)&&(j=1);else if(typeof t=="string")j=e2(t,o,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case F:return t=ls(31,o,a,h),t.elementType=F,t.lanes=x,t;case w:return bn(o.children,h,x,a);case C:j=8,h|=24;break;case N:return t=ls(12,o,a,h|2),t.elementType=N,t.lanes=x,t;case S:return t=ls(13,o,a,h),t.elementType=S,t.lanes=x,t;case R:return t=ls(19,o,a,h),t.elementType=R,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case E:j=10;break e;case O:j=9;break e;case T:j=11;break e;case z:j=14;break e;case $:j=16,c=null;break e}j=29,o=Error(i(130,t===null?"null":typeof t,"")),c=null}return a=ls(j,o,a,h),a.elementType=t,a.type=c,a.lanes=x,a}function bn(t,a,o,c){return t=ls(7,t,c,a),t.lanes=o,t}function Vu(t,a,o){return t=ls(6,t,null,a),t.lanes=o,t}function qu(t,a,o){return a=ls(4,t.children!==null?t.children:[],t.key,a),a.lanes=o,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var fr=[],mr=0,xl=null,yl=0,js=[],_s=0,vn=null,oa=1,la="";function wn(t,a){fr[mr++]=yl,fr[mr++]=xl,xl=t,yl=a}function Kg(t,a,o){js[_s++]=oa,js[_s++]=la,js[_s++]=vn,vn=t;var c=oa;t=la;var h=32-ee(c)-1;c&=~(1<<h),o+=1;var x=32-ee(a)+h;if(30<x){var j=h-h%5;x=(c&(1<<j)-1).toString(32),c>>=j,h-=j,oa=1<<32-ee(a)+h|o<<h|c,la=x+t}else oa=1<<x|o<<h|c,la=t}function $u(t){t.return!==null&&(wn(t,1),Kg(t,1,0))}function Hu(t){for(;t===xl;)xl=fr[--mr],fr[mr]=null,yl=fr[--mr],fr[mr]=null;for(;t===vn;)vn=js[--_s],js[_s]=null,la=js[--_s],js[_s]=null,oa=js[--_s],js[_s]=null}var Gt=null,ot=null,Fe=!1,jn=null,Is=!1,Fu=Error(i(519));function _n(t){var a=Error(i(418,""));throw Ri(vs(a,t)),Fu}function Qg(t){var a=t.stateNode,o=t.type,c=t.memoizedProps;switch(a[qt]=t,a[Wt]=c,o){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(o=0;o<no.length;o++)ze(no[o],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":ze("invalid",a),dg(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),nl(a);break;case"select":ze("invalid",a);break;case"textarea":ze("invalid",a),fg(a,c.value,c.defaultValue,c.children),nl(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||fx(a.textContent,o)?(c.popover!=null&&(ze("beforetoggle",a),ze("toggle",a)),c.onScroll!=null&&ze("scroll",a),c.onScrollEnd!=null&&ze("scrollend",a),c.onClick!=null&&(a.onclick=Zl),a=!0):a=!1,a||_n(t)}function Wg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 13:Is=!1;return;case 27:case 3:Is=!0;return;default:Gt=Gt.return}}function Oi(t){if(t!==Gt)return!1;if(!Fe)return Wg(t),Fe=!0,!1;var a=t.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||ih(t.type,t.memoizedProps)),o=!o),o&&ot&&_n(t),Wg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(a===0){ot=Ds(t.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;t=t.nextSibling}ot=null}}else a===27?(a=ot,Ga(t.type)?(t=uh,uh=null,ot=t):ot=a):ot=Gt?Ds(t.stateNode.nextSibling):null;return!0}function Di(){ot=Gt=null,Fe=!1}function Zg(){var t=jn;return t!==null&&(ts===null?ts=t:ts.push.apply(ts,t),jn=null),t}function Ri(t){jn===null?jn=[t]:jn.push(t)}var Iu=q(null),Nn=null,ca=null;function Ma(t,a,o){J(Iu,a._currentValue),a._currentValue=o}function ua(t){t._currentValue=Iu.current,P(Iu)}function Gu(t,a,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===o)break;t=t.return}}function Yu(t,a,o,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var x=h.dependencies;if(x!==null){var j=h.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=h;for(var B=0;B<a.length;B++)if(M.context===a[B]){x.lanes|=o,M=x.alternate,M!==null&&(M.lanes|=o),Gu(x.return,o,t),c||(j=null);break e}x=M.next}}else if(h.tag===18){if(j=h.return,j===null)throw Error(i(341));j.lanes|=o,x=j.alternate,x!==null&&(x.lanes|=o),Gu(j,o,t),j=null}else j=h.child;if(j!==null)j.return=h;else for(j=h;j!==null;){if(j===t){j=null;break}if(h=j.sibling,h!==null){h.return=j.return,j=h;break}j=j.return}h=j}}function Pi(t,a,o,c){t=null;for(var h=a,x=!1;h!==null;){if(!x){if((h.flags&524288)!==0)x=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var j=h.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var M=h.type;os(h.pendingProps.value,j.value)||(t!==null?t.push(M):t=[M])}}else if(h===re.current){if(j=h.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(uo):t=[uo])}h=h.return}t!==null&&Yu(a,t,o,c),a.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!os(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sn(t){Nn=t,ca=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Jg(Nn,t)}function vl(t,a){return Nn===null&&Sn(t),Jg(t,a)}function Jg(t,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},ca===null){if(t===null)throw Error(i(308));ca=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ca=ca.next=a;return o}var J1=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(o){return o()})}},e_=s.unstable_scheduleCallback,t_=s.unstable_NormalPriority,jt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xu(){return{controller:new J1,data:new Map,refCount:0}}function Li(t){t.refCount--,t.refCount===0&&e_(t_,function(){t.controller.abort()})}var Bi=null,Ku=0,gr=0,pr=null;function s_(t,a){if(Bi===null){var o=Bi=[];Ku=0,gr=Wd(),pr={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Ku++,a.then(ep,ep),a}function ep(){if(--Ku===0&&Bi!==null){pr!==null&&(pr.status="fulfilled");var t=Bi;Bi=null,gr=0,pr=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function a_(t,a){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var tp=L.S;L.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&s_(t,a),tp!==null&&tp(t,a)};var Tn=q(null);function Qu(){var t=Tn.current;return t!==null?t:Je.pooledCache}function wl(t,a){a===null?J(Tn,Tn.current):J(Tn,a.pool)}function sp(){var t=Qu();return t===null?null:{parent:jt._currentValue,pool:t}}var zi=Error(i(460)),ap=Error(i(474)),jl=Error(i(542)),Wu={then:function(){}};function np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _l(){}function rp(t,a,o){switch(o=t[o],o===void 0?t.push(a):o!==a&&(a.then(_l,_l),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,op(t),t;default:if(typeof a.status=="string")a.then(_l,_l);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=c}},function(c){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,op(t),t}throw Ui=a,zi}}var Ui=null;function ip(){if(Ui===null)throw Error(i(459));var t=Ui;return Ui=null,t}function op(t){if(t===zi||t===jl)throw Error(i(483))}var Oa=!1;function Zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ju(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(t,a,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ie&2)!==0){var h=c.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a,a=gl(t),Yg(t,null,o),a}return ml(t,c,a,o),gl(t)}function Vi(t,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,o|=c,a.lanes=o,eg(t,o)}}function ed(t,a){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var j={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?h=x=j:x=x.next=j,o=o.next}while(o!==null);x===null?h=x=a:x=x.next=a}else h=x=a;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=a:t.next=a,o.lastBaseUpdate=a}var td=!1;function qi(){if(td){var t=pr;if(t!==null)throw t}}function $i(t,a,o,c){td=!1;var h=t.updateQueue;Oa=!1;var x=h.firstBaseUpdate,j=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var B=M,K=B.next;B.next=null,j===null?x=K:j.next=K,j=B;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==j&&(M===null?oe.firstBaseUpdate=K:M.next=K,oe.lastBaseUpdate=B))}if(x!==null){var ce=h.baseState;j=0,oe=K=B=null,M=x;do{var Z=M.lane&-536870913,te=Z!==M.lane;if(te?($e&Z)===Z:(c&Z)===Z){Z!==0&&Z===gr&&(td=!0),oe!==null&&(oe=oe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ce=t,Se=M;Z=a;var We=o;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){ce=Ce.call(We,ce,Z);break e}ce=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,Z=typeof Ce=="function"?Ce.call(We,ce,Z):Ce,Z==null)break e;ce=m({},ce,Z);break e;case 2:Oa=!0}}Z=M.callback,Z!==null&&(t.flags|=64,te&&(t.flags|=8192),te=h.callbacks,te===null?h.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(K=oe=te,B=ce):oe=oe.next=te,j|=Z;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;te=M,M=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);oe===null&&(B=ce),h.baseState=B,h.firstBaseUpdate=K,h.lastBaseUpdate=oe,x===null&&(h.shared.lanes=0),$a|=j,t.lanes=j,t.memoizedState=ce}}function lp(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function cp(t,a){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)lp(o[t],a)}var xr=q(null),Nl=q(0);function up(t,a){t=xa,J(Nl,t),J(xr,a),xa=t|a.baseLanes}function sd(){J(Nl,xa),J(xr,xr.current)}function ad(){xa=Nl.current,P(xr),P(Nl)}var Pa=0,Re=null,Ke=null,xt=null,Sl=!1,yr=!1,Cn=!1,Tl=0,Hi=0,br=null,n_=0;function dt(){throw Error(i(321))}function nd(t,a){if(a===null)return!1;for(var o=0;o<a.length&&o<t.length;o++)if(!os(t[o],a[o]))return!1;return!0}function rd(t,a,o,c,h,x){return Pa=x,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=t===null||t.memoizedState===null?Yp:Xp,Cn=!1,x=o(c,h),Cn=!1,yr&&(x=hp(a,o,c,h)),dp(t),x}function dp(t){L.H=Ol;var a=Ke!==null&&Ke.next!==null;if(Pa=0,xt=Ke=Re=null,Sl=!1,Hi=0,br=null,a)throw Error(i(300));t===null||Mt||(t=t.dependencies,t!==null&&bl(t)&&(Mt=!0))}function hp(t,a,o,c){Re=t;var h=0;do{if(yr&&(br=null),Hi=0,yr=!1,25<=h)throw Error(i(301));if(h+=1,xt=Ke=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}L.H=d_,x=a(o,c)}while(yr);return x}function r_(){var t=L.H,a=t.useState()[0];return a=typeof a.then=="function"?Fi(a):a,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Re.flags|=1024),a}function id(){var t=Tl!==0;return Tl=0,t}function od(t,a,o){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~o}function ld(t){if(Sl){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Sl=!1}Pa=0,xt=Ke=Re=null,yr=!1,Hi=Tl=0,br=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Re.memoizedState=xt=t:xt=xt.next=t,xt}function yt(){if(Ke===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var a=xt===null?Re.memoizedState:xt.next;if(a!==null)xt=a,Ke=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},xt===null?Re.memoizedState=xt=t:xt=xt.next=t}return xt}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fi(t){var a=Hi;return Hi+=1,br===null&&(br=[]),t=rp(br,t,a),a=Re,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?Yp:Xp),t}function Cl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fi(t);if(t.$$typeof===E)return $t(t)}throw Error(i(438,String(t)))}function ud(t){var a=null,o=Re.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=cd(),Re.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(t),c=0;c<t;c++)o[c]=V;return a.index++,o}function da(t,a){return typeof a=="function"?a(t):a}function El(t){var a=yt();return dd(a,Ke,t)}function dd(t,a,o){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=t.baseQueue,x=c.pending;if(x!==null){if(h!==null){var j=h.next;h.next=x.next,x.next=j}a.baseQueue=h=x,c.pending=null}if(x=t.baseState,h===null)t.memoizedState=x;else{a=h.next;var M=j=null,B=null,K=a,oe=!1;do{var ce=K.lane&-536870913;if(ce!==K.lane?($e&ce)===ce:(Pa&ce)===ce){var Z=K.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ce===gr&&(oe=!0);else if((Pa&Z)===Z){K=K.next,Z===gr&&(oe=!0);continue}else ce={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(M=B=ce,j=x):B=B.next=ce,Re.lanes|=Z,$a|=Z;ce=K.action,Cn&&o(x,ce),x=K.hasEagerState?K.eagerState:o(x,ce)}else Z={lane:ce,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(M=B=Z,j=x):B=B.next=Z,Re.lanes|=ce,$a|=ce;K=K.next}while(K!==null&&K!==a);if(B===null?j=x:B.next=M,!os(x,t.memoizedState)&&(Mt=!0,oe&&(o=pr,o!==null)))throw o;t.memoizedState=x,t.baseState=j,t.baseQueue=B,c.lastRenderedState=x}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function hd(t){var a=yt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var c=o.dispatch,h=o.pending,x=a.memoizedState;if(h!==null){o.pending=null;var j=h=h.next;do x=t(x,j.action),j=j.next;while(j!==h);os(x,a.memoizedState)||(Mt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),o.lastRenderedState=x}return[x,c]}function fp(t,a,o){var c=Re,h=yt(),x=Fe;if(x){if(o===void 0)throw Error(i(407));o=o()}else o=a();var j=!os((Ke||h).memoizedState,o);j&&(h.memoizedState=o,Mt=!0),h=h.queue;var M=pp.bind(null,c,h,t);if(Ii(2048,8,M,[t]),h.getSnapshot!==a||j||xt!==null&&xt.memoizedState.tag&1){if(c.flags|=2048,vr(9,Al(),gp.bind(null,c,h,o,a),null),Je===null)throw Error(i(349));x||(Pa&124)!==0||mp(c,a,o)}return o}function mp(t,a,o){t.flags|=16384,t={getSnapshot:a,value:o},a=Re.updateQueue,a===null?(a=cd(),Re.updateQueue=a,a.stores=[t]):(o=a.stores,o===null?a.stores=[t]:o.push(t))}function gp(t,a,o,c){a.value=o,a.getSnapshot=c,xp(a)&&yp(t)}function pp(t,a,o){return o(function(){xp(a)&&yp(t)})}function xp(t){var a=t.getSnapshot;t=t.value;try{var o=a();return!os(t,o)}catch{return!0}}function yp(t){var a=dr(t,2);a!==null&&fs(a,t,2)}function fd(t){var a=Jt();if(typeof t=="function"){var o=t;if(t=o(),Cn){Pe(!0);try{o()}finally{Pe(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},a}function bp(t,a,o,c){return t.baseState=o,dd(t,Ke,typeof c=="function"?c:da)}function i_(t,a,o,c,h){if(Ml(t))throw Error(i(485));if(t=a.action,t!==null){var x={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){x.listeners.push(j)}};L.T!==null?o(!0):x.isTransition=!1,c(x),o=a.pending,o===null?(x.next=a.pending=x,vp(a,x)):(x.next=o.next,a.pending=o.next=x)}}function vp(t,a){var o=a.action,c=a.payload,h=t.state;if(a.isTransition){var x=L.T,j={};L.T=j;try{var M=o(h,c),B=L.S;B!==null&&B(j,M),wp(t,a,M)}catch(K){md(t,a,K)}finally{L.T=x}}else try{x=o(h,c),wp(t,a,x)}catch(K){md(t,a,K)}}function wp(t,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){jp(t,a,c)},function(c){return md(t,a,c)}):jp(t,a,o)}function jp(t,a,o){a.status="fulfilled",a.value=o,_p(a),t.state=o,a=t.pending,a!==null&&(o=a.next,o===a?t.pending=null:(o=o.next,a.next=o,vp(t,o)))}function md(t,a,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,_p(a),a=a.next;while(a!==c)}t.action=null}function _p(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Np(t,a){return a}function Sp(t,a){if(Fe){var o=Je.formState;if(o!==null){e:{var c=Re;if(Fe){if(ot){t:{for(var h=ot,x=Is;h.nodeType!==8;){if(!x){h=null;break t}if(h=Ds(h.nextSibling),h===null){h=null;break t}}x=h.data,h=x==="F!"||x==="F"?h:null}if(h){ot=Ds(h.nextSibling),c=h.data==="F!";break e}}_n(c)}c=!1}c&&(a=o[0])}}return o=Jt(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:a},o.queue=c,o=Fp.bind(null,Re,c),c.dispatch=o,c=fd(!1),x=bd.bind(null,Re,!1,c.queue),c=Jt(),h={state:a,dispatch:null,action:t,pending:null},c.queue=h,o=i_.bind(null,Re,h,x,o),h.dispatch=o,c.memoizedState=t,[a,o,!1]}function Tp(t){var a=yt();return Cp(a,Ke,t)}function Cp(t,a,o){if(a=dd(t,a,Np)[0],t=El(da)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Fi(a)}catch(j){throw j===zi?jl:j}else c=a;a=yt();var h=a.queue,x=h.dispatch;return o!==a.memoizedState&&(Re.flags|=2048,vr(9,Al(),o_.bind(null,h,o),null)),[c,x,t]}function o_(t,a){t.action=a}function Ep(t){var a=yt(),o=Ke;if(o!==null)return Cp(a,o,t);yt(),a=a.memoizedState,o=yt();var c=o.queue.dispatch;return o.memoizedState=t,[a,c,!1]}function vr(t,a,o,c){return t={tag:t,create:o,deps:c,inst:a,next:null},a=Re.updateQueue,a===null&&(a=cd(),Re.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,a.lastEffect=t),t}function Al(){return{destroy:void 0,resource:void 0}}function Ap(){return yt().memoizedState}function kl(t,a,o,c){var h=Jt();c=c===void 0?null:c,Re.flags|=t,h.memoizedState=vr(1|a,Al(),o,c)}function Ii(t,a,o,c){var h=yt();c=c===void 0?null:c;var x=h.memoizedState.inst;Ke!==null&&c!==null&&nd(c,Ke.memoizedState.deps)?h.memoizedState=vr(a,x,o,c):(Re.flags|=t,h.memoizedState=vr(1|a,x,o,c))}function kp(t,a){kl(8390656,8,t,a)}function Mp(t,a){Ii(2048,8,t,a)}function Op(t,a){return Ii(4,2,t,a)}function Dp(t,a){return Ii(4,4,t,a)}function Rp(t,a){if(typeof a=="function"){t=t();var o=a(t);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Pp(t,a,o){o=o!=null?o.concat([t]):null,Ii(4,4,Rp.bind(null,a,t),o)}function gd(){}function Lp(t,a){var o=yt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&nd(a,c[1])?c[0]:(o.memoizedState=[t,a],t)}function Bp(t,a){var o=yt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&nd(a,c[1]))return c[0];if(c=t(),Cn){Pe(!0);try{t()}finally{Pe(!1)}}return o.memoizedState=[c,a],c}function pd(t,a,o){return o===void 0||(Pa&1073741824)!==0?t.memoizedState=a:(t.memoizedState=o,t=V0(),Re.lanes|=t,$a|=t,o)}function zp(t,a,o,c){return os(o,a)?o:xr.current!==null?(t=pd(t,o,c),os(t,a)||(Mt=!0),t):(Pa&42)===0?(Mt=!0,t.memoizedState=o):(t=V0(),Re.lanes|=t,$a|=t,a)}function Up(t,a,o,c,h){var x=D.p;D.p=x!==0&&8>x?x:8;var j=L.T,M={};L.T=M,bd(t,!1,a,o);try{var B=h(),K=L.S;if(K!==null&&K(M,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=a_(B,c);Gi(t,a,oe,hs(t))}else Gi(t,a,c,hs(t))}catch(ce){Gi(t,a,{then:function(){},status:"rejected",reason:ce},hs())}finally{D.p=x,L.T=j}}function l_(){}function xd(t,a,o,c){if(t.tag!==5)throw Error(i(476));var h=Vp(t).queue;Up(t,h,a,I,o===null?l_:function(){return qp(t),o(c)})}function Vp(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:I},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:o},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function qp(t){var a=Vp(t).next.queue;Gi(t,a,{},hs())}function yd(){return $t(uo)}function $p(){return yt().memoizedState}function Hp(){return yt().memoizedState}function c_(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var o=hs();t=Da(o);var c=Ra(a,t,o);c!==null&&(fs(c,a,o),Vi(c,a,o)),a={cache:Xu()},t.payload=a;return}a=a.return}}function u_(t,a,o){var c=hs();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ml(t)?Ip(a,o):(o=zu(t,a,o,c),o!==null&&(fs(o,t,c),Gp(o,a,c)))}function Fp(t,a,o){var c=hs();Gi(t,a,o,c)}function Gi(t,a,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ml(t))Ip(a,h);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var j=a.lastRenderedState,M=x(j,o);if(h.hasEagerState=!0,h.eagerState=M,os(M,j))return ml(t,a,h,0),Je===null&&fl(),!1}catch{}finally{}if(o=zu(t,a,h,c),o!==null)return fs(o,t,c),Gp(o,a,c),!0}return!1}function bd(t,a,o,c){if(c={lane:2,revertLane:Wd(),action:c,hasEagerState:!1,eagerState:null,next:null},Ml(t)){if(a)throw Error(i(479))}else a=zu(t,o,c,2),a!==null&&fs(a,t,2)}function Ml(t){var a=t.alternate;return t===Re||a!==null&&a===Re}function Ip(t,a){yr=Sl=!0;var o=t.pending;o===null?a.next=a:(a.next=o.next,o.next=a),t.pending=a}function Gp(t,a,o){if((o&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,o|=c,a.lanes=o,eg(t,o)}}var Ol={readContext:$t,use:Cl,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Yp={readContext:$t,use:Cl,useCallback:function(t,a){return Jt().memoizedState=[t,a===void 0?null:a],t},useContext:$t,useEffect:kp,useImperativeHandle:function(t,a,o){o=o!=null?o.concat([t]):null,kl(4194308,4,Rp.bind(null,a,t),o)},useLayoutEffect:function(t,a){return kl(4194308,4,t,a)},useInsertionEffect:function(t,a){kl(4,2,t,a)},useMemo:function(t,a){var o=Jt();a=a===void 0?null:a;var c=t();if(Cn){Pe(!0);try{t()}finally{Pe(!1)}}return o.memoizedState=[c,a],c},useReducer:function(t,a,o){var c=Jt();if(o!==void 0){var h=o(a);if(Cn){Pe(!0);try{o(a)}finally{Pe(!1)}}}else h=a;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=u_.bind(null,Re,t),[c.memoizedState,t]},useRef:function(t){var a=Jt();return t={current:t},a.memoizedState=t},useState:function(t){t=fd(t);var a=t.queue,o=Fp.bind(null,Re,a);return a.dispatch=o,[t.memoizedState,o]},useDebugValue:gd,useDeferredValue:function(t,a){var o=Jt();return pd(o,t,a)},useTransition:function(){var t=fd(!1);return t=Up.bind(null,Re,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,o){var c=Re,h=Jt();if(Fe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Je===null)throw Error(i(349));($e&124)!==0||mp(c,a,o)}h.memoizedState=o;var x={value:o,getSnapshot:a};return h.queue=x,kp(pp.bind(null,c,x,t),[t]),c.flags|=2048,vr(9,Al(),gp.bind(null,c,x,o,a),null),o},useId:function(){var t=Jt(),a=Je.identifierPrefix;if(Fe){var o=la,c=oa;o=(c&~(1<<32-ee(c)-1)).toString(32)+o,a=""+a+"R"+o,o=Tl++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=n_++,a=""+a+"r"+o.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:yd,useFormState:Sp,useActionState:Sp,useOptimistic:function(t){var a=Jt();a.memoizedState=a.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=bd.bind(null,Re,!0,o),o.dispatch=a,[t,a]},useMemoCache:ud,useCacheRefresh:function(){return Jt().memoizedState=c_.bind(null,Re)}},Xp={readContext:$t,use:Cl,useCallback:Lp,useContext:$t,useEffect:Mp,useImperativeHandle:Pp,useInsertionEffect:Op,useLayoutEffect:Dp,useMemo:Bp,useReducer:El,useRef:Ap,useState:function(){return El(da)},useDebugValue:gd,useDeferredValue:function(t,a){var o=yt();return zp(o,Ke.memoizedState,t,a)},useTransition:function(){var t=El(da)[0],a=yt().memoizedState;return[typeof t=="boolean"?t:Fi(t),a]},useSyncExternalStore:fp,useId:$p,useHostTransitionStatus:yd,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,a){var o=yt();return bp(o,Ke,t,a)},useMemoCache:ud,useCacheRefresh:Hp},d_={readContext:$t,use:Cl,useCallback:Lp,useContext:$t,useEffect:Mp,useImperativeHandle:Pp,useInsertionEffect:Op,useLayoutEffect:Dp,useMemo:Bp,useReducer:hd,useRef:Ap,useState:function(){return hd(da)},useDebugValue:gd,useDeferredValue:function(t,a){var o=yt();return Ke===null?pd(o,t,a):zp(o,Ke.memoizedState,t,a)},useTransition:function(){var t=hd(da)[0],a=yt().memoizedState;return[typeof t=="boolean"?t:Fi(t),a]},useSyncExternalStore:fp,useId:$p,useHostTransitionStatus:yd,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,a){var o=yt();return Ke!==null?bp(o,Ke,t,a):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:ud,useCacheRefresh:Hp},wr=null,Yi=0;function Dl(t){var a=Yi;return Yi+=1,wr===null&&(wr=[]),rp(wr,t,a)}function Xi(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Rl(t,a){throw a.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Kp(t){var a=t._init;return a(t._payload)}function Qp(t){function a(G,H){if(t){var X=G.deletions;X===null?(G.deletions=[H],G.flags|=16):X.push(H)}}function o(G,H){if(!t)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function c(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function h(G,H){return G=ia(G,H),G.index=0,G.sibling=null,G}function x(G,H,X){return G.index=X,t?(X=G.alternate,X!==null?(X=X.index,X<H?(G.flags|=67108866,H):X):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function j(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function M(G,H,X,le){return H===null||H.tag!==6?(H=Vu(X,G.mode,le),H.return=G,H):(H=h(H,X),H.return=G,H)}function B(G,H,X,le){var ve=X.type;return ve===w?oe(G,H,X.props.children,le,X.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&Kp(ve)===H.type)?(H=h(H,X.props),Xi(H,X),H.return=G,H):(H=pl(X.type,X.key,X.props,null,G.mode,le),Xi(H,X),H.return=G,H)}function K(G,H,X,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=qu(X,G.mode,le),H.return=G,H):(H=h(H,X.children||[]),H.return=G,H)}function oe(G,H,X,le,ve){return H===null||H.tag!==7?(H=bn(X,G.mode,le,ve),H.return=G,H):(H=h(H,X),H.return=G,H)}function ce(G,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Vu(""+H,G.mode,X),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return X=pl(H.type,H.key,H.props,null,G.mode,X),Xi(X,H),X.return=G,X;case _:return H=qu(H,G.mode,X),H.return=G,H;case $:var le=H._init;return H=le(H._payload),ce(G,H,X)}if(se(H)||Y(H))return H=bn(H,G.mode,X,null),H.return=G,H;if(typeof H.then=="function")return ce(G,Dl(H),X);if(H.$$typeof===E)return ce(G,vl(G,H),X);Rl(G,H)}return null}function Z(G,H,X,le){var ve=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ve!==null?null:M(G,H,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===ve?B(G,H,X,le):null;case _:return X.key===ve?K(G,H,X,le):null;case $:return ve=X._init,X=ve(X._payload),Z(G,H,X,le)}if(se(X)||Y(X))return ve!==null?null:oe(G,H,X,le,null);if(typeof X.then=="function")return Z(G,H,Dl(X),le);if(X.$$typeof===E)return Z(G,H,vl(G,X),le);Rl(G,X)}return null}function te(G,H,X,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(X)||null,M(H,G,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return G=G.get(le.key===null?X:le.key)||null,B(H,G,le,ve);case _:return G=G.get(le.key===null?X:le.key)||null,K(H,G,le,ve);case $:var Le=le._init;return le=Le(le._payload),te(G,H,X,le,ve)}if(se(le)||Y(le))return G=G.get(X)||null,oe(H,G,le,ve,null);if(typeof le.then=="function")return te(G,H,X,Dl(le),ve);if(le.$$typeof===E)return te(G,H,X,vl(H,le),ve);Rl(H,le)}return null}function Ce(G,H,X,le){for(var ve=null,Le=null,je=H,Te=H=0,Dt=null;je!==null&&Te<X.length;Te++){je.index>Te?(Dt=je,je=null):Dt=je.sibling;var He=Z(G,je,X[Te],le);if(He===null){je===null&&(je=Dt);break}t&&je&&He.alternate===null&&a(G,je),H=x(He,H,Te),Le===null?ve=He:Le.sibling=He,Le=He,je=Dt}if(Te===X.length)return o(G,je),Fe&&wn(G,Te),ve;if(je===null){for(;Te<X.length;Te++)je=ce(G,X[Te],le),je!==null&&(H=x(je,H,Te),Le===null?ve=je:Le.sibling=je,Le=je);return Fe&&wn(G,Te),ve}for(je=c(je);Te<X.length;Te++)Dt=te(je,G,Te,X[Te],le),Dt!==null&&(t&&Dt.alternate!==null&&je.delete(Dt.key===null?Te:Dt.key),H=x(Dt,H,Te),Le===null?ve=Dt:Le.sibling=Dt,Le=Dt);return t&&je.forEach(function(Wa){return a(G,Wa)}),Fe&&wn(G,Te),ve}function Se(G,H,X,le){if(X==null)throw Error(i(151));for(var ve=null,Le=null,je=H,Te=H=0,Dt=null,He=X.next();je!==null&&!He.done;Te++,He=X.next()){je.index>Te?(Dt=je,je=null):Dt=je.sibling;var Wa=Z(G,je,He.value,le);if(Wa===null){je===null&&(je=Dt);break}t&&je&&Wa.alternate===null&&a(G,je),H=x(Wa,H,Te),Le===null?ve=Wa:Le.sibling=Wa,Le=Wa,je=Dt}if(He.done)return o(G,je),Fe&&wn(G,Te),ve;if(je===null){for(;!He.done;Te++,He=X.next())He=ce(G,He.value,le),He!==null&&(H=x(He,H,Te),Le===null?ve=He:Le.sibling=He,Le=He);return Fe&&wn(G,Te),ve}for(je=c(je);!He.done;Te++,He=X.next())He=te(je,G,Te,He.value,le),He!==null&&(t&&He.alternate!==null&&je.delete(He.key===null?Te:He.key),H=x(He,H,Te),Le===null?ve=He:Le.sibling=He,Le=He);return t&&je.forEach(function(h2){return a(G,h2)}),Fe&&wn(G,Te),ve}function We(G,H,X,le){if(typeof X=="object"&&X!==null&&X.type===w&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var ve=X.key;H!==null;){if(H.key===ve){if(ve=X.type,ve===w){if(H.tag===7){o(G,H.sibling),le=h(H,X.props.children),le.return=G,G=le;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&Kp(ve)===H.type){o(G,H.sibling),le=h(H,X.props),Xi(le,X),le.return=G,G=le;break e}o(G,H);break}else a(G,H);H=H.sibling}X.type===w?(le=bn(X.props.children,G.mode,le,X.key),le.return=G,G=le):(le=pl(X.type,X.key,X.props,null,G.mode,le),Xi(le,X),le.return=G,G=le)}return j(G);case _:e:{for(ve=X.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o(G,H.sibling),le=h(H,X.children||[]),le.return=G,G=le;break e}else{o(G,H);break}else a(G,H);H=H.sibling}le=qu(X,G.mode,le),le.return=G,G=le}return j(G);case $:return ve=X._init,X=ve(X._payload),We(G,H,X,le)}if(se(X))return Ce(G,H,X,le);if(Y(X)){if(ve=Y(X),typeof ve!="function")throw Error(i(150));return X=ve.call(X),Se(G,H,X,le)}if(typeof X.then=="function")return We(G,H,Dl(X),le);if(X.$$typeof===E)return We(G,H,vl(G,X),le);Rl(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o(G,H.sibling),le=h(H,X),le.return=G,G=le):(o(G,H),le=Vu(X,G.mode,le),le.return=G,G=le),j(G)):o(G,H)}return function(G,H,X,le){try{Yi=0;var ve=We(G,H,X,le);return wr=null,ve}catch(je){if(je===zi||je===jl)throw je;var Le=ls(29,je,null,G.mode);return Le.lanes=le,Le.return=G,Le}finally{}}}var jr=Qp(!0),Wp=Qp(!1),Ns=q(null),Gs=null;function La(t){var a=t.alternate;J(_t,_t.current&1),J(Ns,t),Gs===null&&(a===null||xr.current!==null||a.memoizedState!==null)&&(Gs=t)}function Zp(t){if(t.tag===22){if(J(_t,_t.current),J(Ns,t),Gs===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(Gs=t)}}else Ba()}function Ba(){J(_t,_t.current),J(Ns,Ns.current)}function ha(t){P(Ns),Gs===t&&(Gs=null),P(_t)}var _t=q(0);function Pl(t){for(var a=t;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ch(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function vd(t,a,o,c){a=t.memoizedState,o=o(c,a),o=o==null?a:m({},a,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var wd={enqueueSetState:function(t,a,o){t=t._reactInternals;var c=hs(),h=Da(c);h.payload=a,o!=null&&(h.callback=o),a=Ra(t,h,c),a!==null&&(fs(a,t,c),Vi(a,t,c))},enqueueReplaceState:function(t,a,o){t=t._reactInternals;var c=hs(),h=Da(c);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=Ra(t,h,c),a!==null&&(fs(a,t,c),Vi(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var o=hs(),c=Da(o);c.tag=2,a!=null&&(c.callback=a),a=Ra(t,c,o),a!==null&&(fs(a,t,o),Vi(a,t,o))}};function Jp(t,a,o,c,h,x,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,x,j):a.prototype&&a.prototype.isPureReactComponent?!ki(o,c)||!ki(h,x):!0}function e0(t,a,o,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==t&&wd.enqueueReplaceState(a,a.state,null)}function En(t,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(t=t.defaultProps){o===a&&(o=m({},o));for(var h in t)o[h]===void 0&&(o[h]=t[h])}return o}var Ll=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function t0(t){Ll(t)}function s0(t){console.error(t)}function a0(t){Ll(t)}function Bl(t,a){try{var o=t.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function n0(t,a,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jd(t,a,o){return o=Da(o),o.tag=3,o.payload={element:null},o.callback=function(){Bl(t,a)},o}function r0(t){return t=Da(t),t.tag=3,t}function i0(t,a,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var x=c.value;t.payload=function(){return h(x)},t.callback=function(){n0(a,o,c)}}var j=o.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){n0(a,o,c),typeof h!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function h_(t,a,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Pi(a,o,h,!0),o=Ns.current,o!==null){switch(o.tag){case 13:return Gs===null?Gd():o.alternate===null&&lt===0&&(lt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Wu?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Xd(t,c,h)),!1;case 22:return o.flags|=65536,c===Wu?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Xd(t,c,h)),!1}throw Error(i(435,o.tag))}return Xd(t,c,h),Gd(),!1}if(Fe)return a=Ns.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,c!==Fu&&(t=Error(i(422),{cause:c}),Ri(vs(t,o)))):(c!==Fu&&(a=Error(i(423),{cause:c}),Ri(vs(a,o))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=vs(c,o),h=jd(t.stateNode,c,h),ed(t,h),lt!==4&&(lt=2)),!1;var x=Error(i(520),{cause:c});if(x=vs(x,o),to===null?to=[x]:to.push(x),lt!==4&&(lt=2),a===null)return!0;c=vs(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,t=h&-h,o.lanes|=t,t=jd(o.stateNode,c,t),ed(o,t),!1;case 1:if(a=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ha===null||!Ha.has(x))))return o.flags|=65536,h&=-h,o.lanes|=h,h=r0(h),i0(h,t,o,c),ed(o,h),!1}o=o.return}while(o!==null);return!1}var o0=Error(i(461)),Mt=!1;function Lt(t,a,o,c){a.child=t===null?Wp(a,null,o,c):jr(a,t.child,o,c)}function l0(t,a,o,c,h){o=o.render;var x=a.ref;if("ref"in c){var j={};for(var M in c)M!=="ref"&&(j[M]=c[M])}else j=c;return Sn(a),c=rd(t,a,o,j,x,h),M=id(),t!==null&&!Mt?(od(t,a,h),fa(t,a,h)):(Fe&&M&&$u(a),a.flags|=1,Lt(t,a,c,h),a.child)}function c0(t,a,o,c,h){if(t===null){var x=o.type;return typeof x=="function"&&!Uu(x)&&x.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=x,u0(t,a,x,c,h)):(t=pl(o.type,null,c,a,a.mode,h),t.ref=a.ref,t.return=a,a.child=t)}if(x=t.child,!kd(t,h)){var j=x.memoizedProps;if(o=o.compare,o=o!==null?o:ki,o(j,c)&&t.ref===a.ref)return fa(t,a,h)}return a.flags|=1,t=ia(x,c),t.ref=a.ref,t.return=a,a.child=t}function u0(t,a,o,c,h){if(t!==null){var x=t.memoizedProps;if(ki(x,c)&&t.ref===a.ref)if(Mt=!1,a.pendingProps=c=x,kd(t,h))(t.flags&131072)!==0&&(Mt=!0);else return a.lanes=t.lanes,fa(t,a,h)}return _d(t,a,o,c,h)}function d0(t,a,o){var c=a.pendingProps,h=c.children,x=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=x!==null?x.baseLanes|o:o,t!==null){for(h=a.child=t.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;a.childLanes=x&~c}else a.childLanes=0,a.child=null;return h0(t,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&wl(a,x!==null?x.cachePool:null),x!==null?up(a,x):sd(),Zp(a);else return a.lanes=a.childLanes=536870912,h0(t,a,x!==null?x.baseLanes|o:o,o)}else x!==null?(wl(a,x.cachePool),up(a,x),Ba(),a.memoizedState=null):(t!==null&&wl(a,null),sd(),Ba());return Lt(t,a,h,o),a.child}function h0(t,a,o,c){var h=Qu();return h=h===null?null:{parent:jt._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},t!==null&&wl(a,null),sd(),Zp(a),t!==null&&Pi(t,a,c,!0),null}function zl(t,a){var o=a.ref;if(o===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(t===null||t.ref!==o)&&(a.flags|=4194816)}}function _d(t,a,o,c,h){return Sn(a),o=rd(t,a,o,c,void 0,h),c=id(),t!==null&&!Mt?(od(t,a,h),fa(t,a,h)):(Fe&&c&&$u(a),a.flags|=1,Lt(t,a,o,h),a.child)}function f0(t,a,o,c,h,x){return Sn(a),a.updateQueue=null,o=hp(a,c,o,h),dp(t),c=id(),t!==null&&!Mt?(od(t,a,x),fa(t,a,x)):(Fe&&c&&$u(a),a.flags|=1,Lt(t,a,o,x),a.child)}function m0(t,a,o,c,h){if(Sn(a),a.stateNode===null){var x=hr,j=o.contextType;typeof j=="object"&&j!==null&&(x=$t(j)),x=new o(c,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=wd,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=c,x.state=a.memoizedState,x.refs={},Zu(a),j=o.contextType,x.context=typeof j=="object"&&j!==null?$t(j):hr,x.state=a.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(vd(a,o,j,c),x.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(j=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),j!==x.state&&wd.enqueueReplaceState(x,x.state,null),$i(a,c,x,h),qi(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){x=a.stateNode;var M=a.memoizedProps,B=En(o,M);x.props=B;var K=x.context,oe=o.contextType;j=hr,typeof oe=="object"&&oe!==null&&(j=$t(oe));var ce=o.getDerivedStateFromProps;oe=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||K!==j)&&e0(a,x,c,j),Oa=!1;var Z=a.memoizedState;x.state=Z,$i(a,c,x,h),qi(),K=a.memoizedState,M||Z!==K||Oa?(typeof ce=="function"&&(vd(a,o,ce,c),K=a.memoizedState),(B=Oa||Jp(a,o,B,c,Z,K,j))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),x.props=c,x.state=K,x.context=j,c=B):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{x=a.stateNode,Ju(t,a),j=a.memoizedProps,oe=En(o,j),x.props=oe,ce=a.pendingProps,Z=x.context,K=o.contextType,B=hr,typeof K=="object"&&K!==null&&(B=$t(K)),M=o.getDerivedStateFromProps,(K=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==ce||Z!==B)&&e0(a,x,c,B),Oa=!1,Z=a.memoizedState,x.state=Z,$i(a,c,x,h),qi();var te=a.memoizedState;j!==ce||Z!==te||Oa||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof M=="function"&&(vd(a,o,M,c),te=a.memoizedState),(oe=Oa||Jp(a,o,oe,c,Z,te,B)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(K||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,te,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,te,B)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===t.memoizedProps&&Z===t.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&Z===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),x.props=c,x.state=te,x.context=B,c=oe):(typeof x.componentDidUpdate!="function"||j===t.memoizedProps&&Z===t.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&Z===t.memoizedState||(a.flags|=1024),c=!1)}return x=c,zl(t,a),c=(a.flags&128)!==0,x||c?(x=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,t!==null&&c?(a.child=jr(a,t.child,null,h),a.child=jr(a,null,o,h)):Lt(t,a,o,h),a.memoizedState=x.state,t=a.child):t=fa(t,a,h),t}function g0(t,a,o,c){return Di(),a.flags|=256,Lt(t,a,o,c),a.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:sp()}}function Td(t,a,o){return t=t!==null?t.childLanes&~o:0,a&&(t|=Ss),t}function p0(t,a,o){var c=a.pendingProps,h=!1,x=(a.flags&128)!==0,j;if((j=x)||(j=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),j&&(h=!0,a.flags&=-129),j=(a.flags&32)!==0,a.flags&=-33,t===null){if(Fe){if(h?La(a):Ba(),Fe){var M=ot,B;if(B=M){e:{for(B=M,M=Is;B.nodeType!==8;){if(!M){M=null;break e}if(B=Ds(B.nextSibling),B===null){M=null;break e}}M=B}M!==null?(a.memoizedState={dehydrated:M,treeContext:vn!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},B=ls(18,null,null,0),B.stateNode=M,B.return=a,a.child=B,Gt=a,ot=null,B=!0):B=!1}B||_n(a)}if(M=a.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return ch(M)?a.lanes=32:a.lanes=536870912,null;ha(a)}return M=c.children,c=c.fallback,h?(Ba(),h=a.mode,M=Ul({mode:"hidden",children:M},h),c=bn(c,h,o,null),M.return=a,c.return=a,M.sibling=c,a.child=M,h=a.child,h.memoizedState=Sd(o),h.childLanes=Td(t,j,o),a.memoizedState=Nd,c):(La(a),Cd(a,M))}if(B=t.memoizedState,B!==null&&(M=B.dehydrated,M!==null)){if(x)a.flags&256?(La(a),a.flags&=-257,a=Ed(t,a,o)):a.memoizedState!==null?(Ba(),a.child=t.child,a.flags|=128,a=null):(Ba(),h=c.fallback,M=a.mode,c=Ul({mode:"visible",children:c.children},M),h=bn(h,M,o,null),h.flags|=2,c.return=a,h.return=a,c.sibling=h,a.child=c,jr(a,t.child,null,o),c=a.child,c.memoizedState=Sd(o),c.childLanes=Td(t,j,o),a.memoizedState=Nd,a=h);else if(La(a),ch(M)){if(j=M.nextSibling&&M.nextSibling.dataset,j)var K=j.dgst;j=K,c=Error(i(419)),c.stack="",c.digest=j,Ri({value:c,source:null,stack:null}),a=Ed(t,a,o)}else if(Mt||Pi(t,a,o,!1),j=(o&t.childLanes)!==0,Mt||j){if(j=Je,j!==null&&(c=o&-o,c=(c&42)!==0?1:uu(c),c=(c&(j.suspendedLanes|o))!==0?0:c,c!==0&&c!==B.retryLane))throw B.retryLane=c,dr(t,c),fs(j,t,c),o0;M.data==="$?"||Gd(),a=Ed(t,a,o)}else M.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=B.treeContext,ot=Ds(M.nextSibling),Gt=a,Fe=!0,jn=null,Is=!1,t!==null&&(js[_s++]=oa,js[_s++]=la,js[_s++]=vn,oa=t.id,la=t.overflow,vn=a),a=Cd(a,c.children),a.flags|=4096);return a}return h?(Ba(),h=c.fallback,M=a.mode,B=t.child,K=B.sibling,c=ia(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,K!==null?h=ia(K,h):(h=bn(h,M,o,null),h.flags|=2),h.return=a,c.return=a,c.sibling=h,a.child=c,c=h,h=a.child,M=t.child.memoizedState,M===null?M=Sd(o):(B=M.cachePool,B!==null?(K=jt._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=sp(),M={baseLanes:M.baseLanes|o,cachePool:B}),h.memoizedState=M,h.childLanes=Td(t,j,o),a.memoizedState=Nd,c):(La(a),o=t.child,t=o.sibling,o=ia(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,t!==null&&(j=a.deletions,j===null?(a.deletions=[t],a.flags|=16):j.push(t)),a.child=o,a.memoizedState=null,o)}function Cd(t,a){return a=Ul({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Ul(t,a){return t=ls(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ed(t,a,o){return jr(a,t.child,null,o),t=Cd(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function x0(t,a,o){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),Gu(t.return,a,o)}function Ad(t,a,o,c,h){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=h)}function y0(t,a,o){var c=a.pendingProps,h=c.revealOrder,x=c.tail;if(Lt(t,a,c.children,o),c=_t.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x0(t,o,a);else if(t.tag===19)x0(t,o,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(J(_t,c),h){case"forwards":for(o=a.child,h=null;o!==null;)t=o.alternate,t!==null&&Pl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Ad(a,!1,h,o,x);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(t=h.alternate,t!==null&&Pl(t)===null){a.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ad(a,!0,o,null,x);break;case"together":Ad(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fa(t,a,o){if(t!==null&&(a.dependencies=t.dependencies),$a|=a.lanes,(o&a.childLanes)===0)if(t!==null){if(Pi(t,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,o=ia(t,t.pendingProps),a.child=o,o.return=a;t.sibling!==null;)t=t.sibling,o=o.sibling=ia(t,t.pendingProps),o.return=a;o.sibling=null}return a.child}function kd(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function f_(t,a,o){switch(a.tag){case 3:he(a,a.stateNode.containerInfo),Ma(a,jt,t.memoizedState.cache),Di();break;case 27:case 5:Xe(a);break;case 4:he(a,a.stateNode.containerInfo);break;case 10:Ma(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(La(a),a.flags|=128,null):(o&a.child.childLanes)!==0?p0(t,a,o):(La(a),t=fa(t,a,o),t!==null?t.sibling:null);La(a);break;case 19:var h=(t.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Pi(t,a,o,!1),c=(o&a.childLanes)!==0),h){if(c)return y0(t,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(_t,_t.current),c)break;return null;case 22:case 23:return a.lanes=0,d0(t,a,o);case 24:Ma(a,jt,t.memoizedState.cache)}return fa(t,a,o)}function b0(t,a,o){if(t!==null)if(t.memoizedProps!==a.pendingProps)Mt=!0;else{if(!kd(t,o)&&(a.flags&128)===0)return Mt=!1,f_(t,a,o);Mt=(t.flags&131072)!==0}else Mt=!1,Fe&&(a.flags&1048576)!==0&&Kg(a,yl,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var c=a.elementType,h=c._init;if(c=h(c._payload),a.type=c,typeof c=="function")Uu(c)?(t=En(c,t),a.tag=1,a=m0(null,a,c,t,o)):(a.tag=0,a=_d(null,a,c,t,o));else{if(c!=null){if(h=c.$$typeof,h===T){a.tag=11,a=l0(null,a,c,t,o);break e}else if(h===z){a.tag=14,a=c0(null,a,c,t,o);break e}}throw a=fe(c)||c,Error(i(306,a,""))}}return a;case 0:return _d(t,a,a.type,a.pendingProps,o);case 1:return c=a.type,h=En(c,a.pendingProps),m0(t,a,c,h,o);case 3:e:{if(he(a,a.stateNode.containerInfo),t===null)throw Error(i(387));c=a.pendingProps;var x=a.memoizedState;h=x.element,Ju(t,a),$i(a,c,null,o);var j=a.memoizedState;if(c=j.cache,Ma(a,jt,c),c!==x.cache&&Yu(a,[jt],o,!0),qi(),c=j.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:j.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=g0(t,a,c,o);break e}else if(c!==h){h=vs(Error(i(424)),a),Ri(h),a=g0(t,a,c,o);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Ds(t.firstChild),Gt=a,Fe=!0,jn=null,Is=!0,o=Wp(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Di(),c===h){a=fa(t,a,o);break e}Lt(t,a,c,o)}a=a.child}return a;case 26:return zl(t,a),t===null?(o=_x(a.type,null,a.pendingProps,null))?a.memoizedState=o:Fe||(o=a.type,t=a.pendingProps,c=Jl(me.current).createElement(o),c[qt]=a,c[Wt]=t,zt(c,o,t),kt(c),a.stateNode=c):a.memoizedState=_x(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Xe(a),t===null&&Fe&&(c=a.stateNode=vx(a.type,a.pendingProps,me.current),Gt=a,Is=!0,h=ot,Ga(a.type)?(uh=h,ot=Ds(c.firstChild)):ot=h),Lt(t,a,a.pendingProps.children,o),zl(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Fe&&((h=c=ot)&&(c=q_(c,a.type,a.pendingProps,Is),c!==null?(a.stateNode=c,Gt=a,ot=Ds(c.firstChild),Is=!1,h=!0):h=!1),h||_n(a)),Xe(a),h=a.type,x=a.pendingProps,j=t!==null?t.memoizedProps:null,c=x.children,ih(h,x)?c=null:j!==null&&ih(h,j)&&(a.flags|=32),a.memoizedState!==null&&(h=rd(t,a,r_,null,null,o),uo._currentValue=h),zl(t,a),Lt(t,a,c,o),a.child;case 6:return t===null&&Fe&&((t=o=ot)&&(o=$_(o,a.pendingProps,Is),o!==null?(a.stateNode=o,Gt=a,ot=null,t=!0):t=!1),t||_n(a)),null;case 13:return p0(t,a,o);case 4:return he(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=jr(a,null,c,o):Lt(t,a,c,o),a.child;case 11:return l0(t,a,a.type,a.pendingProps,o);case 7:return Lt(t,a,a.pendingProps,o),a.child;case 8:return Lt(t,a,a.pendingProps.children,o),a.child;case 12:return Lt(t,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,Ma(a,a.type,c.value),Lt(t,a,c.children,o),a.child;case 9:return h=a.type._context,c=a.pendingProps.children,Sn(a),h=$t(h),c=c(h),a.flags|=1,Lt(t,a,c,o),a.child;case 14:return c0(t,a,a.type,a.pendingProps,o);case 15:return u0(t,a,a.type,a.pendingProps,o);case 19:return y0(t,a,o);case 31:return c=a.pendingProps,o=a.mode,c={mode:c.mode,children:c.children},t===null?(o=Ul(c,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ia(t.child,c),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return d0(t,a,o);case 24:return Sn(a),c=$t(jt),t===null?(h=Qu(),h===null&&(h=Je,x=Xu(),h.pooledCache=x,x.refCount++,x!==null&&(h.pooledCacheLanes|=o),h=x),a.memoizedState={parent:c,cache:h},Zu(a),Ma(a,jt,h)):((t.lanes&o)!==0&&(Ju(t,a),$i(a,null,null,o),qi()),h=t.memoizedState,x=a.memoizedState,h.parent!==c?(h={parent:c,cache:c},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),Ma(a,jt,c)):(c=x.cache,Ma(a,jt,c),c!==h.cache&&Yu(a,[jt],o,!0))),Lt(t,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ma(t){t.flags|=4}function v0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ex(a)){if(a=Ns.current,a!==null&&(($e&4194048)===$e?Gs!==null:($e&62914560)!==$e&&($e&536870912)===0||a!==Gs))throw Ui=Wu,ap;t.flags|=8192}}function Vl(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?yi():536870912,t.lanes|=a,Tr|=a)}function Ki(t,a){if(!Fe)switch(t.tailMode){case"hidden":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function rt(t){var a=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(a)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=o,a}function m_(t,a,o){var c=a.pendingProps;switch(Hu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(a),null;case 1:return rt(a),null;case 3:return o=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ua(jt),De(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Oi(a)?ma(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zg())),rt(a),null;case 26:return o=a.memoizedState,t===null?(ma(a),o!==null?(rt(a),v0(a,o)):(rt(a),a.flags&=-16777217)):o?o!==t.memoizedState?(ma(a),rt(a),v0(a,o)):(rt(a),a.flags&=-16777217):(t.memoizedProps!==c&&ma(a),rt(a),a.flags&=-16777217),null;case 27:pt(a),o=me.current;var h=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==c&&ma(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return rt(a),null}t=ue.current,Oi(a)?Qg(a):(t=vx(h,c,o),a.stateNode=t,ma(a))}return rt(a),null;case 5:if(pt(a),o=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&ma(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return rt(a),null}if(t=ue.current,Oi(a))Qg(a);else{switch(h=Jl(me.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}t[qt]=a,t[Wt]=c;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=t;e:switch(zt(t,o,c),o){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ma(a)}}return rt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&ma(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(t=me.current,Oi(a)){if(t=a.stateNode,o=a.memoizedProps,c=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[qt]=a,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||fx(t.nodeValue,o)),t||_n(a)}else t=Jl(t).createTextNode(c),t[qt]=a,a.stateNode=t}return rt(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oi(a),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[qt]=a}else Di(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),h=!1}else h=Zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(ha(a),a):(ha(a),null)}if(ha(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,t=t!==null&&t.memoizedState!==null,o){c=a.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var x=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==h&&(c.flags|=2048)}return o!==t&&o&&(a.child.flags|=8192),Vl(a,a.updateQueue),rt(a),null;case 4:return De(),t===null&&th(a.stateNode.containerInfo),rt(a),null;case 10:return ua(a.type),rt(a),null;case 19:if(P(_t),h=a.memoizedState,h===null)return rt(a),null;if(c=(a.flags&128)!==0,x=h.rendering,x===null)if(c)Ki(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(x=Pl(t),x!==null){for(a.flags|=128,Ki(h,!1),t=x.updateQueue,a.updateQueue=t,Vl(a,t),a.subtreeFlags=0,t=o,o=a.child;o!==null;)Xg(o,t),o=o.sibling;return J(_t,_t.current&1|2),a.child}t=t.sibling}h.tail!==null&&Pt()>Hl&&(a.flags|=128,c=!0,Ki(h,!1),a.lanes=4194304)}else{if(!c)if(t=Pl(x),t!==null){if(a.flags|=128,c=!0,t=t.updateQueue,a.updateQueue=t,Vl(a,t),Ki(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!Fe)return rt(a),null}else 2*Pt()-h.renderingStartTime>Hl&&o!==536870912&&(a.flags|=128,c=!0,Ki(h,!1),a.lanes=4194304);h.isBackwards?(x.sibling=a.child,a.child=x):(t=h.last,t!==null?t.sibling=x:a.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Pt(),a.sibling=null,t=_t.current,J(_t,c?t&1|2:t&1),a):(rt(a),null);case 22:case 23:return ha(a),ad(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(rt(a),a.subtreeFlags&6&&(a.flags|=8192)):rt(a),o=a.updateQueue,o!==null&&Vl(a,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),t!==null&&P(Tn),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ua(jt),rt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function g_(t,a){switch(Hu(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ua(jt),De(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return pt(a),null;case 13:if(ha(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Di()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return P(_t),null;case 4:return De(),null;case 10:return ua(a.type),null;case 22:case 23:return ha(a),ad(),t!==null&&P(Tn),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ua(jt),null;case 25:return null;default:return null}}function w0(t,a){switch(Hu(a),a.tag){case 3:ua(jt),De();break;case 26:case 27:case 5:pt(a);break;case 4:De();break;case 13:ha(a);break;case 19:P(_t);break;case 10:ua(a.type);break;case 22:case 23:ha(a),ad(),t!==null&&P(Tn);break;case 24:ua(jt)}}function Qi(t,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&t)===t){c=void 0;var x=o.create,j=o.inst;c=x(),j.destroy=c}o=o.next}while(o!==h)}}catch(M){Ze(a,a.return,M)}}function za(t,a,o){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var x=h.next;c=x;do{if((c.tag&t)===t){var j=c.inst,M=j.destroy;if(M!==void 0){j.destroy=void 0,h=a;var B=o,K=M;try{K()}catch(oe){Ze(h,B,oe)}}}c=c.next}while(c!==x)}}catch(oe){Ze(a,a.return,oe)}}function j0(t){var a=t.updateQueue;if(a!==null){var o=t.stateNode;try{cp(a,o)}catch(c){Ze(t,t.return,c)}}}function _0(t,a,o){o.props=En(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(t,a,c)}}function Wi(t,a){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(h){Ze(t,a,h)}}function Ys(t,a){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){Ze(t,a,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Ze(t,a,h)}else o.current=null}function N0(t){var a=t.type,o=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){Ze(t,t.return,h)}}function Md(t,a,o){try{var c=t.stateNode;L_(c,t.type,o,a),c[Wt]=a}catch(h){Ze(t,t.return,h)}}function S0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ga(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,a,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(t),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Zl));else if(c!==4&&(c===27&&Ga(t.type)&&(o=t.stateNode,a=null),t=t.child,t!==null))for(Dd(t,a,o),t=t.sibling;t!==null;)Dd(t,a,o),t=t.sibling}function ql(t,a,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?o.insertBefore(t,a):o.appendChild(t);else if(c!==4&&(c===27&&Ga(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(ql(t,a,o),t=t.sibling;t!==null;)ql(t,a,o),t=t.sibling}function T0(t){var a=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);zt(a,c,o),a[qt]=t,a[Wt]=o}catch(x){Ze(t,t.return,x)}}var ga=!1,ht=!1,Rd=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function p_(t,a){if(t=t.containerInfo,nh=rc,t=zg(t),Ou(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var j=0,M=-1,B=-1,K=0,oe=0,ce=t,Z=null;t:for(;;){for(var te;ce!==o||h!==0&&ce.nodeType!==3||(M=j+h),ce!==x||c!==0&&ce.nodeType!==3||(B=j+c),ce.nodeType===3&&(j+=ce.nodeValue.length),(te=ce.firstChild)!==null;)Z=ce,ce=te;for(;;){if(ce===t)break t;if(Z===o&&++K===h&&(M=j),Z===x&&++oe===c&&(B=j),(te=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=te}o=M===-1||B===-1?null:{start:M,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(rh={focusedElem:t,selectionRange:o},rc=!1,Ot=a;Ot!==null;)if(a=Ot,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Ot=t;else for(;Ot!==null;){switch(a=Ot,x=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,o=a,h=x.memoizedProps,x=x.memoizedState,c=o.stateNode;try{var Ce=En(o.type,h,o.elementType===o.type);t=c.getSnapshotBeforeUpdate(Ce,x),c.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Ze(o,o.return,Se)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,o=t.nodeType,o===9)lh(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Ot=t;break}Ot=a.return}}function E0(t,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ua(t,o),c&4&&Qi(5,o);break;case 1:if(Ua(t,o),c&4)if(t=o.stateNode,a===null)try{t.componentDidMount()}catch(j){Ze(o,o.return,j)}else{var h=En(o.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(h,a,t.__reactInternalSnapshotBeforeUpdate)}catch(j){Ze(o,o.return,j)}}c&64&&j0(o),c&512&&Wi(o,o.return);break;case 3:if(Ua(t,o),c&64&&(t=o.updateQueue,t!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{cp(t,a)}catch(j){Ze(o,o.return,j)}}break;case 27:a===null&&c&4&&T0(o);case 26:case 5:Ua(t,o),a===null&&c&4&&N0(o),c&512&&Wi(o,o.return);break;case 12:Ua(t,o);break;case 13:Ua(t,o),c&4&&M0(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=S_.bind(null,o),H_(t,o))));break;case 22:if(c=o.memoizedState!==null||ga,!c){a=a!==null&&a.memoizedState!==null||ht,h=ga;var x=ht;ga=c,(ht=a)&&!x?Va(t,o,(o.subtreeFlags&8772)!==0):Ua(t,o),ga=h,ht=x}break;case 30:break;default:Ua(t,o)}}function A0(t){var a=t.alternate;a!==null&&(t.alternate=null,A0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&fu(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,es=!1;function pa(t,a,o){for(o=o.child;o!==null;)k0(t,a,o),o=o.sibling}function k0(t,a,o){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(we,o)}catch{}switch(o.tag){case 26:ht||Ys(o,a),pa(t,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ht||Ys(o,a);var c=st,h=es;Ga(o.type)&&(st=o.stateNode,es=!1),pa(t,a,o),io(o.stateNode),st=c,es=h;break;case 5:ht||Ys(o,a);case 6:if(c=st,h=es,st=null,pa(t,a,o),st=c,es=h,st!==null)if(es)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(x){Ze(o,a,x)}else try{st.removeChild(o.stateNode)}catch(x){Ze(o,a,x)}break;case 18:st!==null&&(es?(t=st,yx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),go(t)):yx(st,o.stateNode));break;case 4:c=st,h=es,st=o.stateNode.containerInfo,es=!0,pa(t,a,o),st=c,es=h;break;case 0:case 11:case 14:case 15:ht||za(2,o,a),ht||za(4,o,a),pa(t,a,o);break;case 1:ht||(Ys(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&_0(o,a,c)),pa(t,a,o);break;case 21:pa(t,a,o);break;case 22:ht=(c=ht)||o.memoizedState!==null,pa(t,a,o),ht=c;break;default:pa(t,a,o)}}function M0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{go(t)}catch(o){Ze(a,a.return,o)}}function x_(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new C0),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new C0),a;default:throw Error(i(435,t.tag))}}function Pd(t,a){var o=x_(t);a.forEach(function(c){var h=T_.bind(null,t,c);o.has(c)||(o.add(c),c.then(h,h))})}function cs(t,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],x=t,j=a,M=j;e:for(;M!==null;){switch(M.tag){case 27:if(Ga(M.type)){st=M.stateNode,es=!1;break e}break;case 5:st=M.stateNode,es=!1;break e;case 3:case 4:st=M.stateNode.containerInfo,es=!0;break e}M=M.return}if(st===null)throw Error(i(160));k0(x,j,h),st=null,es=!1,x=h.alternate,x!==null&&(x.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)O0(a,t),a=a.sibling}var Os=null;function O0(t,a){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cs(a,t),us(t),c&4&&(za(3,t,t.return),Qi(3,t),za(5,t,t.return));break;case 1:cs(a,t),us(t),c&512&&(ht||o===null||Ys(o,o.return)),c&64&&ga&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Os;if(cs(a,t),us(t),c&512&&(ht||o===null||Ys(o,o.return)),c&4){var x=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){e:{c=t.type,o=t.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":x=h.getElementsByTagName("title")[0],(!x||x[wi]||x[qt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=h.createElement(c),h.head.insertBefore(x,h.querySelector("head > title"))),zt(x,c,o),x[qt]=t,kt(x),c=x;break e;case"link":var j=Tx("link","href",h).get(c+(o.href||""));if(j){for(var M=0;M<j.length;M++)if(x=j[M],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){j.splice(M,1);break t}}x=h.createElement(c),zt(x,c,o),h.head.appendChild(x);break;case"meta":if(j=Tx("meta","content",h).get(c+(o.content||""))){for(M=0;M<j.length;M++)if(x=j[M],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){j.splice(M,1);break t}}x=h.createElement(c),zt(x,c,o),h.head.appendChild(x);break;default:throw Error(i(468,c))}x[qt]=t,kt(x),c=x}t.stateNode=c}else Cx(h,t.type,t.stateNode);else t.stateNode=Sx(h,c,t.memoizedProps);else x!==c?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,c===null?Cx(h,t.type,t.stateNode):Sx(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Md(t,t.memoizedProps,o.memoizedProps)}break;case 27:cs(a,t),us(t),c&512&&(ht||o===null||Ys(o,o.return)),o!==null&&c&4&&Md(t,t.memoizedProps,o.memoizedProps);break;case 5:if(cs(a,t),us(t),c&512&&(ht||o===null||Ys(o,o.return)),t.flags&32){h=t.stateNode;try{nr(h,"")}catch(te){Ze(t,t.return,te)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,Md(t,h,o!==null?o.memoizedProps:h)),c&1024&&(Rd=!0);break;case 6:if(cs(a,t),us(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(te){Ze(t,t.return,te)}}break;case 3:if(sc=null,h=Os,Os=ec(a.containerInfo),cs(a,t),Os=h,us(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{go(a.containerInfo)}catch(te){Ze(t,t.return,te)}Rd&&(Rd=!1,D0(t));break;case 4:c=Os,Os=ec(t.stateNode.containerInfo),cs(a,t),us(t),Os=c;break;case 12:cs(a,t),us(t);break;case 13:cs(a,t),us(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qd=Pt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Pd(t,c)));break;case 22:h=t.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,K=ga,oe=ht;if(ga=K||h,ht=oe||B,cs(a,t),ht=oe,ga=K,us(t),c&8192)e:for(a=t.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||B||ga||ht||An(t)),o=null,a=t;;){if(a.tag===5||a.tag===26){if(o===null){B=o=a;try{if(x=B.stateNode,h)j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{M=B.stateNode;var ce=B.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;M.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(te){Ze(B,B.return,te)}}}else if(a.tag===6){if(o===null){B=a;try{B.stateNode.nodeValue=h?"":B.memoizedProps}catch(te){Ze(B,B.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Pd(t,o))));break;case 19:cs(a,t),us(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Pd(t,c)));break;case 30:break;case 21:break;default:cs(a,t),us(t)}}function us(t){var a=t.flags;if(a&2){try{for(var o,c=t.return;c!==null;){if(S0(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,x=Od(t);ql(t,x,h);break;case 5:var j=o.stateNode;o.flags&32&&(nr(j,""),o.flags&=-33);var M=Od(t);ql(t,M,j);break;case 3:case 4:var B=o.stateNode.containerInfo,K=Od(t);Dd(t,K,B);break;default:throw Error(i(161))}}catch(oe){Ze(t,t.return,oe)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function D0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;D0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ua(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)E0(t,a.alternate,a),a=a.sibling}function An(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:za(4,a,a.return),An(a);break;case 1:Ys(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&_0(a,a.return,o),An(a);break;case 27:io(a.stateNode);case 26:case 5:Ys(a,a.return),An(a);break;case 22:a.memoizedState===null&&An(a);break;case 30:An(a);break;default:An(a)}t=t.sibling}}function Va(t,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,h=t,x=a,j=x.flags;switch(x.tag){case 0:case 11:case 15:Va(h,x,o),Qi(4,x);break;case 1:if(Va(h,x,o),c=x,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){Ze(c,c.return,K)}if(c=x,h=c.updateQueue,h!==null){var M=c.stateNode;try{var B=h.shared.hiddenCallbacks;if(B!==null)for(h.shared.hiddenCallbacks=null,h=0;h<B.length;h++)lp(B[h],M)}catch(K){Ze(c,c.return,K)}}o&&j&64&&j0(x),Wi(x,x.return);break;case 27:T0(x);case 26:case 5:Va(h,x,o),o&&c===null&&j&4&&N0(x),Wi(x,x.return);break;case 12:Va(h,x,o);break;case 13:Va(h,x,o),o&&j&4&&M0(h,x);break;case 22:x.memoizedState===null&&Va(h,x,o),Wi(x,x.return);break;case 30:break;default:Va(h,x,o)}a=a.sibling}}function Ld(t,a){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Li(o))}function Bd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Li(t))}function Xs(t,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)R0(t,a,o,c),a=a.sibling}function R0(t,a,o,c){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Xs(t,a,o,c),h&2048&&Qi(9,a);break;case 1:Xs(t,a,o,c);break;case 3:Xs(t,a,o,c),h&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Li(t)));break;case 12:if(h&2048){Xs(t,a,o,c),t=a.stateNode;try{var x=a.memoizedProps,j=x.id,M=x.onPostCommit;typeof M=="function"&&M(j,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(B){Ze(a,a.return,B)}}else Xs(t,a,o,c);break;case 13:Xs(t,a,o,c);break;case 23:break;case 22:x=a.stateNode,j=a.alternate,a.memoizedState!==null?x._visibility&2?Xs(t,a,o,c):Zi(t,a):x._visibility&2?Xs(t,a,o,c):(x._visibility|=2,_r(t,a,o,c,(a.subtreeFlags&10256)!==0)),h&2048&&Ld(j,a);break;case 24:Xs(t,a,o,c),h&2048&&Bd(a.alternate,a);break;default:Xs(t,a,o,c)}}function _r(t,a,o,c,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=t,j=a,M=o,B=c,K=j.flags;switch(j.tag){case 0:case 11:case 15:_r(x,j,M,B,h),Qi(8,j);break;case 23:break;case 22:var oe=j.stateNode;j.memoizedState!==null?oe._visibility&2?_r(x,j,M,B,h):Zi(x,j):(oe._visibility|=2,_r(x,j,M,B,h)),h&&K&2048&&Ld(j.alternate,j);break;case 24:_r(x,j,M,B,h),h&&K&2048&&Bd(j.alternate,j);break;default:_r(x,j,M,B,h)}a=a.sibling}}function Zi(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=t,c=a,h=c.flags;switch(c.tag){case 22:Zi(o,c),h&2048&&Ld(c.alternate,c);break;case 24:Zi(o,c),h&2048&&Bd(c.alternate,c);break;default:Zi(o,c)}a=a.sibling}}var Ji=8192;function Nr(t){if(t.subtreeFlags&Ji)for(t=t.child;t!==null;)P0(t),t=t.sibling}function P0(t){switch(t.tag){case 26:Nr(t),t.flags&Ji&&t.memoizedState!==null&&s2(Os,t.memoizedState,t.memoizedProps);break;case 5:Nr(t);break;case 3:case 4:var a=Os;Os=ec(t.stateNode.containerInfo),Nr(t),Os=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Ji,Ji=16777216,Nr(t),Ji=a):Nr(t));break;default:Nr(t)}}function L0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function eo(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Ot=c,z0(c,t)}L0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B0(t),t=t.sibling}function B0(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&za(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,$l(t)):eo(t);break;default:eo(t)}}function $l(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Ot=c,z0(c,t)}L0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:za(8,a,a.return),$l(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,$l(a));break;default:$l(a)}t=t.sibling}}function z0(t,a){for(;Ot!==null;){var o=Ot;switch(o.tag){case 0:case 11:case 15:za(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Li(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ot=c;else e:for(o=t;Ot!==null;){c=Ot;var h=c.sibling,x=c.return;if(A0(c),c===o){Ot=null;break e}if(h!==null){h.return=x,Ot=h;break e}Ot=x}}}var y_={getCacheForType:function(t){var a=$t(jt),o=a.data.get(t);return o===void 0&&(o=t(),a.data.set(t,o)),o}},b_=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Je=null,Be=null,$e=0,Ge=0,ds=null,qa=!1,Sr=!1,zd=!1,xa=0,lt=0,$a=0,kn=0,Ud=0,Ss=0,Tr=0,to=null,ts=null,Vd=!1,qd=0,Hl=1/0,Fl=null,Ha=null,Bt=0,Fa=null,Cr=null,Er=0,$d=0,Hd=null,U0=null,so=0,Fd=null;function hs(){if((Ie&2)!==0&&$e!==0)return $e&-$e;if(L.T!==null){var t=gr;return t!==0?t:Wd()}return tg()}function V0(){Ss===0&&(Ss=($e&536870912)===0||Fe?xi():536870912);var t=Ns.current;return t!==null&&(t.flags|=32),Ss}function fs(t,a,o){(t===Je&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Ar(t,0),Ia(t,$e,Ss,!1)),Qn(t,o),((Ie&2)===0||t!==Je)&&(t===Je&&((Ie&2)===0&&(kn|=o),lt===4&&Ia(t,$e,Ss,!1)),Ks(t))}function q0(t,a,o){if((Ie&6)!==0)throw Error(i(327));var c=!o&&(a&124)===0&&(a&t.expiredLanes)===0||Fs(t,a),h=c?j_(t,a):Yd(t,a,!0),x=c;do{if(h===0){Sr&&!c&&Ia(t,a,0,!1);break}else{if(o=t.current.alternate,x&&!v_(o)){h=Yd(t,a,!1),x=!1;continue}if(h===2){if(x=a,t.errorRecoveryDisabledLanes&x)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){a=j;e:{var M=t;h=to;var B=M.current.memoizedState.isDehydrated;if(B&&(Ar(M,j).flags|=256),j=Yd(M,j,!1),j!==2){if(zd&&!B){M.errorRecoveryDisabledLanes|=x,kn|=x,h=4;break e}x=ts,ts=h,x!==null&&(ts===null?ts=x:ts.push.apply(ts,x))}h=j}if(x=!1,h!==2)continue}}if(h===1){Ar(t,0),Ia(t,a,0,!0);break}e:{switch(c=t,x=h,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ia(c,a,Ss,!qa);break e;case 2:ts=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=qd+300-Pt(),10<h)){if(Ia(c,a,Ss,!qa),Hs(c,0,!0)!==0)break e;c.timeoutHandle=px($0.bind(null,c,o,ts,Fl,Vd,a,Ss,kn,Tr,qa,x,2,-0,0),h);break e}$0(c,o,ts,Fl,Vd,a,Ss,kn,Tr,qa,x,0,-0,0)}}break}while(!0);Ks(t)}function $0(t,a,o,c,h,x,j,M,B,K,oe,ce,Z,te){if(t.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(co={stylesheets:null,count:0,unsuspend:t2},P0(a),ce=a2(),ce!==null)){t.cancelPendingCommit=ce(K0.bind(null,t,a,x,o,c,h,j,M,B,oe,1,Z,te)),Ia(t,x,j,!K);return}K0(t,a,x,o,c,h,j,M,B)}function v_(t){for(var a=t;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],x=h.getSnapshot;h=h.value;try{if(!os(x(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ia(t,a,o,c){a&=~Ud,a&=~kn,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var h=a;0<h;){var x=31-ee(h),j=1<<x;c[x]=-1,h&=~j}o!==0&&Jm(t,o,a)}function Il(){return(Ie&6)===0?(ao(0),!1):!0}function Id(){if(Be!==null){if(Ge===0)var t=Be.return;else t=Be,ca=Nn=null,ld(t),wr=null,Yi=0,t=Be;for(;t!==null;)w0(t.alternate,t),t=t.return;Be=null}}function Ar(t,a){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,z_(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Id(),Je=t,Be=o=ia(t.current,null),$e=a,Ge=0,ds=null,qa=!1,Sr=Fs(t,a),zd=!1,Tr=Ss=Ud=kn=$a=lt=0,ts=to=null,Vd=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var h=31-ee(c),x=1<<h;a|=t[h],c&=~x}return xa=a,fl(),o}function H0(t,a){Re=null,L.H=Ol,a===zi||a===jl?(a=ip(),Ge=3):a===ap?(a=ip(),Ge=4):Ge=a===o0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ds=a,Be===null&&(lt=1,Bl(t,vs(a,t.current)))}function F0(){var t=L.H;return L.H=Ol,t===null?Ol:t}function I0(){var t=L.A;return L.A=y_,t}function Gd(){lt=4,qa||($e&4194048)!==$e&&Ns.current!==null||(Sr=!0),($a&134217727)===0&&(kn&134217727)===0||Je===null||Ia(Je,$e,Ss,!1)}function Yd(t,a,o){var c=Ie;Ie|=2;var h=F0(),x=I0();(Je!==t||$e!==a)&&(Fl=null,Ar(t,a)),a=!1;var j=lt;e:do try{if(Ge!==0&&Be!==null){var M=Be,B=ds;switch(Ge){case 8:Id(),j=6;break e;case 3:case 2:case 9:case 6:Ns.current===null&&(a=!0);var K=Ge;if(Ge=0,ds=null,kr(t,M,B,K),o&&Sr){j=0;break e}break;default:K=Ge,Ge=0,ds=null,kr(t,M,B,K)}}w_(),j=lt;break}catch(oe){H0(t,oe)}while(!0);return a&&t.shellSuspendCounter++,ca=Nn=null,Ie=c,L.H=h,L.A=x,Be===null&&(Je=null,$e=0,fl()),j}function w_(){for(;Be!==null;)G0(Be)}function j_(t,a){var o=Ie;Ie|=2;var c=F0(),h=I0();Je!==t||$e!==a?(Fl=null,Hl=Pt()+500,Ar(t,a)):Sr=Fs(t,a);e:do try{if(Ge!==0&&Be!==null){a=Be;var x=ds;t:switch(Ge){case 1:Ge=0,ds=null,kr(t,a,x,1);break;case 2:case 9:if(np(x)){Ge=0,ds=null,Y0(a);break}a=function(){Ge!==2&&Ge!==9||Je!==t||(Ge=7),Ks(t)},x.then(a,a);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:np(x)?(Ge=0,ds=null,Y0(a)):(Ge=0,ds=null,kr(t,a,x,7));break;case 5:var j=null;switch(Be.tag){case 26:j=Be.memoizedState;case 5:case 27:var M=Be;if(!j||Ex(j)){Ge=0,ds=null;var B=M.sibling;if(B!==null)Be=B;else{var K=M.return;K!==null?(Be=K,Gl(K)):Be=null}break t}}Ge=0,ds=null,kr(t,a,x,5);break;case 6:Ge=0,ds=null,kr(t,a,x,6);break;case 8:Id(),lt=6;break e;default:throw Error(i(462))}}__();break}catch(oe){H0(t,oe)}while(!0);return ca=Nn=null,L.H=c,L.A=h,Ie=o,Be!==null?0:(Je=null,$e=0,fl(),lt)}function __(){for(;Be!==null&&!Kn();)G0(Be)}function G0(t){var a=b0(t.alternate,t,xa);t.memoizedProps=t.pendingProps,a===null?Gl(t):Be=a}function Y0(t){var a=t,o=a.alternate;switch(a.tag){case 15:case 0:a=f0(o,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=f0(o,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:ld(a);default:w0(o,a),a=Be=Xg(a,xa),a=b0(o,a,xa)}t.memoizedProps=t.pendingProps,a===null?Gl(t):Be=a}function kr(t,a,o,c){ca=Nn=null,ld(a),wr=null,Yi=0;var h=a.return;try{if(h_(t,h,a,o,$e)){lt=1,Bl(t,vs(o,t.current)),Be=null;return}}catch(x){if(h!==null)throw Be=h,x;lt=1,Bl(t,vs(o,t.current)),Be=null;return}a.flags&32768?(Fe||c===1?t=!0:Sr||($e&536870912)!==0?t=!1:(qa=t=!0,(c===2||c===9||c===3||c===6)&&(c=Ns.current,c!==null&&c.tag===13&&(c.flags|=16384))),X0(a,t)):Gl(a)}function Gl(t){var a=t;do{if((a.flags&32768)!==0){X0(a,qa);return}t=a.return;var o=m_(a.alternate,a,xa);if(o!==null){Be=o;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=t}while(a!==null);lt===0&&(lt=5)}function X0(t,a){do{var o=g_(t.alternate,t);if(o!==null){o.flags&=32767,Be=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(t=t.sibling,t!==null)){Be=t;return}Be=t=o}while(t!==null);lt=6,Be=null}function K0(t,a,o,c,h,x,j,M,B){t.cancelPendingCommit=null;do Yl();while(Bt!==0);if((Ie&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=Bu,vi(t,o,x,j,M,B),t===Je&&(Be=Je=null,$e=0),Cr=a,Fa=t,Er=o,$d=x,Hd=h,U0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,C_(Q,function(){return ex(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,h=D.p,D.p=2,j=Ie,Ie|=4;try{p_(t,a,o)}finally{Ie=j,D.p=h,L.T=c}}Bt=1,Q0(),W0(),Z0()}}function Q0(){if(Bt===1){Bt=0;var t=Fa,a=Cr,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var c=D.p;D.p=2;var h=Ie;Ie|=4;try{O0(a,t);var x=rh,j=zg(t.containerInfo),M=x.focusedElem,B=x.selectionRange;if(j!==M&&M&&M.ownerDocument&&Bg(M.ownerDocument.documentElement,M)){if(B!==null&&Ou(M)){var K=B.start,oe=B.end;if(oe===void 0&&(oe=K),"selectionStart"in M)M.selectionStart=K,M.selectionEnd=Math.min(oe,M.value.length);else{var ce=M.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ce=M.textContent.length,Se=Math.min(B.start,Ce),We=B.end===void 0?Se:Math.min(B.end,Ce);!te.extend&&Se>We&&(j=We,We=Se,Se=j);var G=Lg(M,Se),H=Lg(M,We);if(G&&H&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var X=ce.createRange();X.setStart(G.node,G.offset),te.removeAllRanges(),Se>We?(te.addRange(X),te.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),te.addRange(X))}}}}for(ce=[],te=M;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ce.length;M++){var le=ce[M];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}rc=!!nh,rh=nh=null}finally{Ie=h,D.p=c,L.T=o}}t.current=a,Bt=2}}function W0(){if(Bt===2){Bt=0;var t=Fa,a=Cr,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var c=D.p;D.p=2;var h=Ie;Ie|=4;try{E0(t,a.alternate,a)}finally{Ie=h,D.p=c,L.T=o}}Bt=3}}function Z0(){if(Bt===4||Bt===3){Bt=0,pi();var t=Fa,a=Cr,o=Er,c=U0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Bt=5:(Bt=0,Cr=Fa=null,J0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ha=null),du(o),a=a.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(we,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=L.T,h=D.p,D.p=2,L.T=null;try{for(var x=t.onRecoverableError,j=0;j<c.length;j++){var M=c[j];x(M.value,{componentStack:M.stack})}}finally{L.T=a,D.p=h}}(Er&3)!==0&&Yl(),Ks(t),h=t.pendingLanes,(o&4194090)!==0&&(h&42)!==0?t===Fd?so++:(so=0,Fd=t):so=0,ao(0)}}function J0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Li(a)))}function Yl(t){return Q0(),W0(),Z0(),ex()}function ex(){if(Bt!==5)return!1;var t=Fa,a=$d;$d=0;var o=du(Er),c=L.T,h=D.p;try{D.p=32>o?32:o,L.T=null,o=Hd,Hd=null;var x=Fa,j=Er;if(Bt=0,Cr=Fa=null,Er=0,(Ie&6)!==0)throw Error(i(331));var M=Ie;if(Ie|=4,B0(x.current),R0(x,x.current,j,o),Ie=M,ao(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(we,x)}catch{}return!0}finally{D.p=h,L.T=c,J0(t,a)}}function tx(t,a,o){a=vs(o,a),a=jd(t.stateNode,a,2),t=Ra(t,a,2),t!==null&&(Qn(t,2),Ks(t))}function Ze(t,a,o){if(t.tag===3)tx(t,t,o);else for(;a!==null;){if(a.tag===3){tx(a,t,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ha===null||!Ha.has(c))){t=vs(o,t),o=r0(2),c=Ra(a,o,2),c!==null&&(i0(o,c,a,t),Qn(c,2),Ks(c));break}}a=a.return}}function Xd(t,a,o){var c=t.pingCache;if(c===null){c=t.pingCache=new b_;var h=new Set;c.set(a,h)}else h=c.get(a),h===void 0&&(h=new Set,c.set(a,h));h.has(o)||(zd=!0,h.add(o),t=N_.bind(null,t,a,o),a.then(t,t))}function N_(t,a,o){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Je===t&&($e&o)===o&&(lt===4||lt===3&&($e&62914560)===$e&&300>Pt()-qd?(Ie&2)===0&&Ar(t,0):Ud|=o,Tr===$e&&(Tr=0)),Ks(t)}function sx(t,a){a===0&&(a=yi()),t=dr(t,a),t!==null&&(Qn(t,a),Ks(t))}function S_(t){var a=t.memoizedState,o=0;a!==null&&(o=a.retryLane),sx(t,o)}function T_(t,a){var o=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),sx(t,o)}function C_(t,a){return rs(t,a)}var Xl=null,Mr=null,Kd=!1,Kl=!1,Qd=!1,Mn=0;function Ks(t){t!==Mr&&t.next===null&&(Mr===null?Xl=Mr=t:Mr=Mr.next=t),Kl=!0,Kd||(Kd=!0,A_())}function ao(t,a){if(!Qd&&Kl){Qd=!0;do for(var o=!1,c=Xl;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var x=0;else{var j=c.suspendedLanes,M=c.pingedLanes;x=(1<<31-ee(42|t)+1)-1,x&=h&~(j&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,ix(c,x))}else x=$e,x=Hs(c,c===Je?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||Fs(c,x)||(o=!0,ix(c,x));c=c.next}while(o);Qd=!1}}function E_(){ax()}function ax(){Kl=Kd=!1;var t=0;Mn!==0&&(B_()&&(t=Mn),Mn=0);for(var a=Pt(),o=null,c=Xl;c!==null;){var h=c.next,x=nx(c,a);x===0?(c.next=null,o===null?Xl=h:o.next=h,h===null&&(Mr=o)):(o=c,(t!==0||(x&3)!==0)&&(Kl=!0)),c=h}ao(t)}function nx(t,a){for(var o=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var j=31-ee(x),M=1<<j,B=h[j];B===-1?((M&o)===0||(M&c)!==0)&&(h[j]=mn(M,a)):B<=a&&(t.expiredLanes|=M),x&=~M}if(a=Je,o=$e,o=Hs(t,t===a?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===a&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ks(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Fs(t,o)){if(a=o&-o,a===t.callbackPriority)return a;switch(c!==null&&ks(c),du(o)){case 2:case 8:o=U;break;case 32:o=Q;break;case 268435456:o=ye;break;default:o=Q}return c=rx.bind(null,t),o=rs(o,c),t.callbackPriority=a,t.callbackNode=o,a}return c!==null&&c!==null&&ks(c),t.callbackPriority=2,t.callbackNode=null,2}function rx(t,a){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Yl()&&t.callbackNode!==o)return null;var c=$e;return c=Hs(t,t===Je?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(q0(t,c,a),nx(t,Pt()),t.callbackNode!=null&&t.callbackNode===o?rx.bind(null,t):null)}function ix(t,a){if(Yl())return null;q0(t,a,!0)}function A_(){U_(function(){(Ie&6)!==0?rs(fn,E_):ax()})}function Wd(){return Mn===0&&(Mn=xi()),Mn}function ox(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:il(""+t)}function lx(t,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,t.id&&o.setAttribute("form",t.id),a.parentNode.insertBefore(o,a),t=new FormData(t),o.parentNode.removeChild(o),t}function k_(t,a,o,c,h){if(a==="submit"&&o&&o.stateNode===h){var x=ox((h[Wt]||null).action),j=c.submitter;j&&(a=(a=j[Wt]||null)?ox(a.formAction):j.getAttribute("formAction"),a!==null&&(x=a,j=null));var M=new ul("action","action",null,c,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Mn!==0){var B=j?lx(h,j):new FormData(h);xd(o,{pending:!0,data:B,method:h.method,action:x},null,B)}}else typeof x=="function"&&(M.preventDefault(),B=j?lx(h,j):new FormData(h),xd(o,{pending:!0,data:B,method:h.method,action:x},x,B))},currentTarget:h}]})}}for(var Zd=0;Zd<Lu.length;Zd++){var Jd=Lu[Zd],M_=Jd.toLowerCase(),O_=Jd[0].toUpperCase()+Jd.slice(1);Ms(M_,"on"+O_)}Ms(qg,"onAnimationEnd"),Ms($g,"onAnimationIteration"),Ms(Hg,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(K1,"onTransitionRun"),Ms(Q1,"onTransitionStart"),Ms(W1,"onTransitionCancel"),Ms(Fg,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function cx(t,a){a=(a&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],h=c.event;c=c.listeners;e:{var x=void 0;if(a)for(var j=c.length-1;0<=j;j--){var M=c[j],B=M.instance,K=M.currentTarget;if(M=M.listener,B!==x&&h.isPropagationStopped())break e;x=M,h.currentTarget=K;try{x(h)}catch(oe){Ll(oe)}h.currentTarget=null,x=B}else for(j=0;j<c.length;j++){if(M=c[j],B=M.instance,K=M.currentTarget,M=M.listener,B!==x&&h.isPropagationStopped())break e;x=M,h.currentTarget=K;try{x(h)}catch(oe){Ll(oe)}h.currentTarget=null,x=B}}}}function ze(t,a){var o=a[hu];o===void 0&&(o=a[hu]=new Set);var c=t+"__bubble";o.has(c)||(ux(a,t,2,!1),o.add(c))}function eh(t,a,o){var c=0;a&&(c|=4),ux(o,t,c,a)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function th(t){if(!t[Ql]){t[Ql]=!0,ag.forEach(function(o){o!=="selectionchange"&&(D_.has(o)||eh(o,!1,t),eh(o,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Ql]||(a[Ql]=!0,eh("selectionchange",!1,a))}}function ux(t,a,o,c){switch(Rx(a)){case 2:var h=i2;break;case 8:h=o2;break;default:h=gh}o=h.bind(null,a,o,t),h=void 0,!_u||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(a,o,{capture:!0,passive:h}):t.addEventListener(a,o,!0):h!==void 0?t.addEventListener(a,o,{passive:h}):t.addEventListener(a,o,!1)}function sh(t,a,o,c,h){var x=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var M=c.stateNode.containerInfo;if(M===h)break;if(j===4)for(j=c.return;j!==null;){var B=j.tag;if((B===3||B===4)&&j.stateNode.containerInfo===h)return;j=j.return}for(;M!==null;){if(j=Zn(M),j===null)return;if(B=j.tag,B===5||B===6||B===26||B===27){c=x=j;continue e}M=M.parentNode}}c=c.return}xg(function(){var K=x,oe=wu(o),ce=[];e:{var Z=Ig.get(t);if(Z!==void 0){var te=ul,Ce=t;switch(t){case"keypress":if(ll(o)===0)break e;case"keydown":case"keyup":te=C1;break;case"focusin":Ce="focus",te=Cu;break;case"focusout":Ce="blur",te=Cu;break;case"beforeblur":case"afterblur":te=Cu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=g1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=k1;break;case qg:case $g:case Hg:te=y1;break;case Fg:te=O1;break;case"scroll":case"scrollend":te=f1;break;case"wheel":te=R1;break;case"copy":case"cut":case"paste":te=v1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=jg;break;case"toggle":case"beforetoggle":te=L1}var Se=(a&4)!==0,We=!Se&&(t==="scroll"||t==="scrollend"),G=Se?Z!==null?Z+"Capture":null:Z;Se=[];for(var H=K,X;H!==null;){var le=H;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||G===null||(le=_i(H,G),le!=null&&Se.push(ro(H,le,X))),We)break;H=H.return}0<Se.length&&(Z=new te(Z,Ce,null,o,oe),ce.push({event:Z,listeners:Se}))}}if((a&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",Z&&o!==vu&&(Ce=o.relatedTarget||o.fromElement)&&(Zn(Ce)||Ce[Wn]))break e;if((te||Z)&&(Z=oe.window===oe?oe:(Z=oe.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ce=o.relatedTarget||o.toElement,te=K,Ce=Ce?Zn(Ce):null,Ce!==null&&(We=u(Ce),Se=Ce.tag,Ce!==We||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(te=null,Ce=K),te!==Ce)){if(Se=vg,le="onMouseLeave",G="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Se=jg,le="onPointerLeave",G="onPointerEnter",H="pointer"),We=te==null?Z:ji(te),X=Ce==null?Z:ji(Ce),Z=new Se(le,H+"leave",te,o,oe),Z.target=We,Z.relatedTarget=X,le=null,Zn(oe)===K&&(Se=new Se(G,H+"enter",Ce,o,oe),Se.target=X,Se.relatedTarget=We,le=Se),We=le,te&&Ce)t:{for(Se=te,G=Ce,H=0,X=Se;X;X=Or(X))H++;for(X=0,le=G;le;le=Or(le))X++;for(;0<H-X;)Se=Or(Se),H--;for(;0<X-H;)G=Or(G),X--;for(;H--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=Or(Se),G=Or(G)}Se=null}else Se=null;te!==null&&dx(ce,Z,te,Se,!1),Ce!==null&&We!==null&&dx(ce,We,Ce,Se,!0)}}e:{if(Z=K?ji(K):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var ve=kg;else if(Eg(Z))if(Mg)ve=G1;else{ve=F1;var Le=H1}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&bu(K.elementType)&&(ve=kg):ve=I1;if(ve&&(ve=ve(t,K))){Ag(ce,ve,o,oe);break e}Le&&Le(t,Z,K),t==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&yu(Z,"number",Z.value)}switch(Le=K?ji(K):window,t){case"focusin":(Eg(Le)||Le.contentEditable==="true")&&(lr=Le,Du=K,Mi=null);break;case"focusout":Mi=Du=lr=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Ug(ce,o,oe);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":Ug(ce,o,oe)}var je;if(Au)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else or?Tg(t,o)&&(Te="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(_g&&o.locale!=="ko"&&(or||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&or&&(je=yg()):(ka=oe,Nu="value"in ka?ka.value:ka.textContent,or=!0)),Le=Wl(K,Te),0<Le.length&&(Te=new wg(Te,t,null,o,oe),ce.push({event:Te,listeners:Le}),je?Te.data=je:(je=Cg(o),je!==null&&(Te.data=je)))),(je=z1?U1(t,o):V1(t,o))&&(Te=Wl(K,"onBeforeInput"),0<Te.length&&(Le=new wg("onBeforeInput","beforeinput",null,o,oe),ce.push({event:Le,listeners:Te}),Le.data=je)),k_(ce,t,K,o,oe)}cx(ce,a)})}function ro(t,a,o){return{instance:t,listener:a,currentTarget:o}}function Wl(t,a){for(var o=a+"Capture",c=[];t!==null;){var h=t,x=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||x===null||(h=_i(t,o),h!=null&&c.unshift(ro(t,h,x)),h=_i(t,a),h!=null&&c.push(ro(t,h,x))),t.tag===3)return c;t=t.return}return[]}function Or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dx(t,a,o,c,h){for(var x=a._reactName,j=[];o!==null&&o!==c;){var M=o,B=M.alternate,K=M.stateNode;if(M=M.tag,B!==null&&B===c)break;M!==5&&M!==26&&M!==27||K===null||(B=K,h?(K=_i(o,x),K!=null&&j.unshift(ro(o,K,B))):h||(K=_i(o,x),K!=null&&j.push(ro(o,K,B)))),o=o.return}j.length!==0&&t.push({event:a,listeners:j})}var R_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function hx(t){return(typeof t=="string"?t:""+t).replace(R_,`
`).replace(P_,"")}function fx(t,a){return a=hx(a),hx(t)===a}function Zl(){}function Qe(t,a,o,c,h,x){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||nr(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&nr(t,""+c);break;case"className":al(t,"class",c);break;case"tabIndex":al(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":al(t,o,c);break;case"style":gg(t,c,x);break;case"data":if(a!=="object"){al(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=il(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(a!=="input"&&Qe(t,a,"name",h.name,h,null),Qe(t,a,"formEncType",h.formEncType,h,null),Qe(t,a,"formMethod",h.formMethod,h,null),Qe(t,a,"formTarget",h.formTarget,h,null)):(Qe(t,a,"encType",h.encType,h,null),Qe(t,a,"method",h.method,h,null),Qe(t,a,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=il(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=Zl);break;case"onScroll":c!=null&&ze("scroll",t);break;case"onScrollEnd":c!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=il(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":ze("beforetoggle",t),ze("toggle",t),sl(t,"popover",c);break;case"xlinkActuate":na(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":na(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":na(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":na(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":na(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":na(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":na(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":na(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":na(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":sl(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=d1.get(o)||o,sl(t,o,c))}}function ah(t,a,o,c,h,x){switch(o){case"style":gg(t,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"children":typeof c=="string"?nr(t,c):(typeof c=="number"||typeof c=="bigint")&&nr(t,""+c);break;case"onScroll":c!=null&&ze("scroll",t);break;case"onScrollEnd":c!=null&&ze("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Zl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ng.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),x=t[Wt]||null,x=x!=null?x[o]:null,typeof x=="function"&&t.removeEventListener(a,x,h),typeof c=="function")){typeof x!="function"&&x!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(a,c,h);break e}o in t?t[o]=c:c===!0?t.setAttribute(o,""):sl(t,o,c)}}}function zt(t,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var c=!1,h=!1,x;for(x in o)if(o.hasOwnProperty(x)){var j=o[x];if(j!=null)switch(x){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Qe(t,a,x,j,o,null)}}h&&Qe(t,a,"srcSet",o.srcSet,o,null),c&&Qe(t,a,"src",o.src,o,null);return;case"input":ze("invalid",t);var M=x=j=h=null,B=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var oe=o[c];if(oe!=null)switch(c){case"name":h=oe;break;case"type":j=oe;break;case"checked":B=oe;break;case"defaultChecked":K=oe;break;case"value":x=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:Qe(t,a,c,oe,o,null)}}dg(t,x,M,B,K,j,h,!1),nl(t);return;case"select":ze("invalid",t),c=j=x=null;for(h in o)if(o.hasOwnProperty(h)&&(M=o[h],M!=null))switch(h){case"value":x=M;break;case"defaultValue":j=M;break;case"multiple":c=M;default:Qe(t,a,h,M,o,null)}a=x,o=j,t.multiple=!!c,a!=null?ar(t,!!c,a,!1):o!=null&&ar(t,!!c,o,!0);return;case"textarea":ze("invalid",t),x=h=c=null;for(j in o)if(o.hasOwnProperty(j)&&(M=o[j],M!=null))switch(j){case"value":c=M;break;case"defaultValue":h=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Qe(t,a,j,M,o,null)}fg(t,c,h,x),nl(t);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Qe(t,a,B,c,o,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(c=0;c<no.length;c++)ze(no[c],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Qe(t,a,K,c,o,null)}return;default:if(bu(a)){for(oe in o)o.hasOwnProperty(oe)&&(c=o[oe],c!==void 0&&ah(t,a,oe,c,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null&&Qe(t,a,M,c,o,null))}function L_(t,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,x=null,j=null,M=null,B=null,K=null,oe=null;for(te in o){var ce=o[te];if(o.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=ce;default:c.hasOwnProperty(te)||Qe(t,a,te,null,c,ce)}}for(var Z in c){var te=c[Z];if(ce=o[Z],c.hasOwnProperty(Z)&&(te!=null||ce!=null))switch(Z){case"type":x=te;break;case"name":h=te;break;case"checked":K=te;break;case"defaultChecked":oe=te;break;case"value":j=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==ce&&Qe(t,a,Z,te,c,ce)}}xu(t,j,M,B,K,oe,x,h);return;case"select":te=j=M=Z=null;for(x in o)if(B=o[x],o.hasOwnProperty(x)&&B!=null)switch(x){case"value":break;case"multiple":te=B;default:c.hasOwnProperty(x)||Qe(t,a,x,null,c,B)}for(h in c)if(x=c[h],B=o[h],c.hasOwnProperty(h)&&(x!=null||B!=null))switch(h){case"value":Z=x;break;case"defaultValue":M=x;break;case"multiple":j=x;default:x!==B&&Qe(t,a,h,x,c,B)}a=M,o=j,c=te,Z!=null?ar(t,!!o,Z,!1):!!c!=!!o&&(a!=null?ar(t,!!o,a,!0):ar(t,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(M in o)if(h=o[M],o.hasOwnProperty(M)&&h!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Qe(t,a,M,null,c,h)}for(j in c)if(h=c[j],x=o[j],c.hasOwnProperty(j)&&(h!=null||x!=null))switch(j){case"value":Z=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==x&&Qe(t,a,j,h,c,x)}hg(t,Z,te);return;case"option":for(var Ce in o)if(Z=o[Ce],o.hasOwnProperty(Ce)&&Z!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":t.selected=!1;break;default:Qe(t,a,Ce,null,c,Z)}for(B in c)if(Z=c[B],te=o[B],c.hasOwnProperty(B)&&Z!==te&&(Z!=null||te!=null))switch(B){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Qe(t,a,B,Z,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)Z=o[Se],o.hasOwnProperty(Se)&&Z!=null&&!c.hasOwnProperty(Se)&&Qe(t,a,Se,null,c,Z);for(K in c)if(Z=c[K],te=o[K],c.hasOwnProperty(K)&&Z!==te&&(Z!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Qe(t,a,K,Z,c,te)}return;default:if(bu(a)){for(var We in o)Z=o[We],o.hasOwnProperty(We)&&Z!==void 0&&!c.hasOwnProperty(We)&&ah(t,a,We,void 0,c,Z);for(oe in c)Z=c[oe],te=o[oe],!c.hasOwnProperty(oe)||Z===te||Z===void 0&&te===void 0||ah(t,a,oe,Z,c,te);return}}for(var G in o)Z=o[G],o.hasOwnProperty(G)&&Z!=null&&!c.hasOwnProperty(G)&&Qe(t,a,G,null,c,Z);for(ce in c)Z=c[ce],te=o[ce],!c.hasOwnProperty(ce)||Z===te||Z==null&&te==null||Qe(t,a,ce,Z,c,te)}var nh=null,rh=null;function Jl(t){return t.nodeType===9?t:t.ownerDocument}function mx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gx(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function ih(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var oh=null;function B_(){var t=window.event;return t&&t.type==="popstate"?t===oh?!1:(oh=t,!0):(oh=null,!1)}var px=typeof setTimeout=="function"?setTimeout:void 0,z_=typeof clearTimeout=="function"?clearTimeout:void 0,xx=typeof Promise=="function"?Promise:void 0,U_=typeof queueMicrotask=="function"?queueMicrotask:typeof xx<"u"?function(t){return xx.resolve(null).then(t).catch(V_)}:px;function V_(t){setTimeout(function(){throw t})}function Ga(t){return t==="head"}function yx(t,a){var o=a,c=0,h=0;do{var x=o.nextSibling;if(t.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(0<c&&8>c){o=c;var j=t.ownerDocument;if(o&1&&io(j.documentElement),o&2&&io(j.body),o&4)for(o=j.head,io(o),j=o.firstChild;j;){var M=j.nextSibling,B=j.nodeName;j[wi]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&j.rel.toLowerCase()==="stylesheet"||o.removeChild(j),j=M}}if(h===0){t.removeChild(x),go(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:c=o.charCodeAt(0)-48;else c=0;o=x}while(o);go(a)}function lh(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":lh(o),fu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function q_(t,a,o,c){for(;t.nodeType===1;){var h=o;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[wi])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var x=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=Ds(t.nextSibling),t===null)break}return null}function $_(t,a,o){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Ds(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function H_(t,a){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Ds(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var uh=null;function bx(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return t;a--}else o==="/$"&&a++}t=t.previousSibling}return null}function vx(t,a,o){switch(a=Jl(o),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function io(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);fu(t)}var Ts=new Map,wx=new Set;function ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ya=D.d;D.d={f:F_,r:I_,D:G_,C:Y_,L:X_,m:K_,X:W_,S:Q_,M:Z_};function F_(){var t=ya.f(),a=Il();return t||a}function I_(t){var a=Jn(t);a!==null&&a.tag===5&&a.type==="form"?qp(a):ya.r(t)}var Dr=typeof document>"u"?null:document;function jx(t,a,o){var c=Dr;if(c&&typeof a=="string"&&a){var h=bs(a);h='link[rel="'+t+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),wx.has(h)||(wx.add(h),t={rel:t,crossOrigin:o,href:a},c.querySelector(h)===null&&(a=c.createElement("link"),zt(a,"link",t),kt(a),c.head.appendChild(a)))}}function G_(t){ya.D(t),jx("dns-prefetch",t,null)}function Y_(t,a){ya.C(t,a),jx("preconnect",t,a)}function X_(t,a,o){ya.L(t,a,o);var c=Dr;if(c&&t&&a){var h='link[rel="preload"][as="'+bs(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+bs(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+bs(o.imageSizes)+'"]')):h+='[href="'+bs(t)+'"]';var x=h;switch(a){case"style":x=Rr(t);break;case"script":x=Pr(t)}Ts.has(x)||(t=m({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:t,as:a},o),Ts.set(x,t),c.querySelector(h)!==null||a==="style"&&c.querySelector(oo(x))||a==="script"&&c.querySelector(lo(x))||(a=c.createElement("link"),zt(a,"link",t),kt(a),c.head.appendChild(a)))}}function K_(t,a){ya.m(t,a);var o=Dr;if(o&&t){var c=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+bs(c)+'"][href="'+bs(t)+'"]',x=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Pr(t)}if(!Ts.has(x)&&(t=m({rel:"modulepreload",href:t},a),Ts.set(x,t),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lo(x)))return}c=o.createElement("link"),zt(c,"link",t),kt(c),o.head.appendChild(c)}}}function Q_(t,a,o){ya.S(t,a,o);var c=Dr;if(c&&t){var h=er(c).hoistableStyles,x=Rr(t);a=a||"default";var j=h.get(x);if(!j){var M={loading:0,preload:null};if(j=c.querySelector(oo(x)))M.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":a},o),(o=Ts.get(x))&&dh(t,o);var B=j=c.createElement("link");kt(B),zt(B,"link",t),B._p=new Promise(function(K,oe){B.onload=K,B.onerror=oe}),B.addEventListener("load",function(){M.loading|=1}),B.addEventListener("error",function(){M.loading|=2}),M.loading|=4,tc(j,a,c)}j={type:"stylesheet",instance:j,count:1,state:M},h.set(x,j)}}}function W_(t,a){ya.X(t,a);var o=Dr;if(o&&t){var c=er(o).hoistableScripts,h=Pr(t),x=c.get(h);x||(x=o.querySelector(lo(h)),x||(t=m({src:t,async:!0},a),(a=Ts.get(h))&&hh(t,a),x=o.createElement("script"),kt(x),zt(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(h,x))}}function Z_(t,a){ya.M(t,a);var o=Dr;if(o&&t){var c=er(o).hoistableScripts,h=Pr(t),x=c.get(h);x||(x=o.querySelector(lo(h)),x||(t=m({src:t,async:!0,type:"module"},a),(a=Ts.get(h))&&hh(t,a),x=o.createElement("script"),kt(x),zt(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(h,x))}}function _x(t,a,o,c){var h=(h=me.current)?ec(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Rr(o.href),o=er(h).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Rr(o.href);var x=er(h).hoistableStyles,j=x.get(t);if(j||(h=h.ownerDocument||h,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,j),(x=h.querySelector(oo(t)))&&!x._p&&(j.instance=x,j.state.loading=5),Ts.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ts.set(t,o),x||J_(h,t,o,j.state))),a&&c===null)throw Error(i(528,""));return j}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pr(o),o=er(h).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Rr(t){return'href="'+bs(t)+'"'}function oo(t){return'link[rel="stylesheet"]['+t+"]"}function Nx(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function J_(t,a,o,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),zt(a,"link",o),kt(a),t.head.appendChild(a))}function Pr(t){return'[src="'+bs(t)+'"]'}function lo(t){return"script[async]"+t}function Sx(t,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+bs(o.href)+'"]');if(c)return a.instance=c,kt(c),c;var h=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),kt(c),zt(c,"style",h),tc(c,o.precedence,t),a.instance=c;case"stylesheet":h=Rr(o.href);var x=t.querySelector(oo(h));if(x)return a.state.loading|=4,a.instance=x,kt(x),x;c=Nx(o),(h=Ts.get(h))&&dh(c,h),x=(t.ownerDocument||t).createElement("link"),kt(x);var j=x;return j._p=new Promise(function(M,B){j.onload=M,j.onerror=B}),zt(x,"link",c),a.state.loading|=4,tc(x,o.precedence,t),a.instance=x;case"script":return x=Pr(o.src),(h=t.querySelector(lo(x)))?(a.instance=h,kt(h),h):(c=o,(h=Ts.get(x))&&(c=m({},o),hh(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),zt(h,"link",c),t.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,tc(c,o.precedence,t));return a.instance}function tc(t,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,x=h,j=0;j<c.length;j++){var M=c[j];if(M.dataset.precedence===a)x=M;else if(x!==h)break}x?x.parentNode.insertBefore(t,x.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(t,a.firstChild))}function dh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function hh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var sc=null;function Tx(t,a,o){if(sc===null){var c=new Map,h=sc=new Map;h.set(o,c)}else h=sc,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),h=0;h<o.length;h++){var x=o[h];if(!(x[wi]||x[qt]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var j=x.getAttribute(a)||"";j=t+j;var M=c.get(j);M?M.push(x):c.set(j,[x])}}return c}function Cx(t,a,o){t=t.ownerDocument||t,t.head.insertBefore(o,a==="title"?t.querySelector("head > title"):null)}function e2(t,a,o){if(o===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ex(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var co=null;function t2(){}function s2(t,a,o){if(co===null)throw Error(i(475));var c=co;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Rr(o.href),x=t.querySelector(oo(h));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=ac.bind(c),t.then(c,c)),a.state.loading|=4,a.instance=x,kt(x);return}x=t.ownerDocument||t,o=Nx(o),(h=Ts.get(h))&&dh(o,h),x=x.createElement("link"),kt(x);var j=x;j._p=new Promise(function(M,B){j.onload=M,j.onerror=B}),zt(x,"link",o),a.instance=x}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ac.bind(c),t.addEventListener("load",a),t.addEventListener("error",a))}}function a2(){if(co===null)throw Error(i(475));var t=co;return t.stylesheets&&t.count===0&&fh(t,t.stylesheets),0<t.count?function(a){var o=setTimeout(function(){if(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function fh(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,a.forEach(n2,t),nc=null,ac.call(t))}function n2(t,a){if(!(a.state.loading&4)){var o=nc.get(t);if(o)var c=o.get(null);else{o=new Map,nc.set(t,o);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<h.length;x++){var j=h[x];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(o.set(j.dataset.precedence,j),c=j)}c&&o.set(null,c)}h=a.instance,j=h.getAttribute("data-precedence"),x=o.get(j)||c,x===c&&o.set(null,h),o.set(j,h),this.count++,c=ac.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),x?x.parentNode.insertBefore(h,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),a.state.loading|=4}}var uo={$$typeof:E,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function r2(t,a,o,c,h,x,j,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=x,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Ax(t,a,o,c,h,x,j,M,B,K,oe,ce){return t=new r2(t,a,o,j,M,B,K,ce),a=1,x===!0&&(a|=24),x=ls(3,null,null,a),t.current=x,x.stateNode=t,a=Xu(),a.refCount++,t.pooledCache=a,a.refCount++,x.memoizedState={element:c,isDehydrated:o,cache:a},Zu(x),t}function kx(t){return t?(t=hr,t):hr}function Mx(t,a,o,c,h,x){h=kx(h),c.context===null?c.context=h:c.pendingContext=h,c=Da(a),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=Ra(t,c,a),o!==null&&(fs(o,t,a),Vi(o,t,a))}function Ox(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<a?o:a}}function mh(t,a){Ox(t,a),(t=t.alternate)&&Ox(t,a)}function Dx(t){if(t.tag===13){var a=dr(t,67108864);a!==null&&fs(a,t,67108864),mh(t,67108864)}}var rc=!0;function i2(t,a,o,c){var h=L.T;L.T=null;var x=D.p;try{D.p=2,gh(t,a,o,c)}finally{D.p=x,L.T=h}}function o2(t,a,o,c){var h=L.T;L.T=null;var x=D.p;try{D.p=8,gh(t,a,o,c)}finally{D.p=x,L.T=h}}function gh(t,a,o,c){if(rc){var h=ph(c);if(h===null)sh(t,a,c,ic,o),Px(t,c);else if(c2(h,t,a,o,c))c.stopPropagation();else if(Px(t,c),a&4&&-1<l2.indexOf(t)){for(;h!==null;){var x=Jn(h);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var j=xs(x.pendingLanes);if(j!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;j;){var B=1<<31-ee(j);M.entanglements[1]|=B,j&=~B}Ks(x),(Ie&6)===0&&(Hl=Pt()+500,ao(0))}}break;case 13:M=dr(x,2),M!==null&&fs(M,x,2),Il(),mh(x,2)}if(x=ph(c),x===null&&sh(t,a,c,ic,o),x===h)break;h=x}h!==null&&c.stopPropagation()}else sh(t,a,c,null,o)}}function ph(t){return t=wu(t),xh(t)}var ic=null;function xh(t){if(ic=null,t=Zn(t),t!==null){var a=u(t);if(a===null)t=null;else{var o=a.tag;if(o===13){if(t=d(a),t!==null)return t;t=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return ic=t,null}function Rx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tl()){case fn:return 2;case U:return 8;case Q:case ie:return 32;case ye:return 268435456;default:return 32}default:return 32}}var yh=!1,Ya=null,Xa=null,Ka=null,ho=new Map,fo=new Map,Qa=[],l2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Px(t,a){switch(t){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":ho.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(a.pointerId)}}function mo(t,a,o,c,h,x){return t===null||t.nativeEvent!==x?(t={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:x,targetContainers:[h]},a!==null&&(a=Jn(a),a!==null&&Dx(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),t)}function c2(t,a,o,c,h){switch(a){case"focusin":return Ya=mo(Ya,t,a,o,c,h),!0;case"dragenter":return Xa=mo(Xa,t,a,o,c,h),!0;case"mouseover":return Ka=mo(Ka,t,a,o,c,h),!0;case"pointerover":var x=h.pointerId;return ho.set(x,mo(ho.get(x)||null,t,a,o,c,h)),!0;case"gotpointercapture":return x=h.pointerId,fo.set(x,mo(fo.get(x)||null,t,a,o,c,h)),!0}return!1}function Lx(t){var a=Zn(t.target);if(a!==null){var o=u(a);if(o!==null){if(a=o.tag,a===13){if(a=d(o),a!==null){t.blockedOn=a,s1(t.priority,function(){if(o.tag===13){var c=hs();c=uu(c);var h=dr(o,c);h!==null&&fs(h,o,c),mh(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var o=ph(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);vu=c,o.target.dispatchEvent(c),vu=null}else return a=Jn(o),a!==null&&Dx(a),t.blockedOn=o,!1;a.shift()}return!0}function Bx(t,a,o){oc(t)&&o.delete(a)}function u2(){yh=!1,Ya!==null&&oc(Ya)&&(Ya=null),Xa!==null&&oc(Xa)&&(Xa=null),Ka!==null&&oc(Ka)&&(Ka=null),ho.forEach(Bx),fo.forEach(Bx)}function lc(t,a){t.blockedOn===a&&(t.blockedOn=null,yh||(yh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,u2)))}var cc=null;function zx(t){cc!==t&&(cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){cc===t&&(cc=null);for(var a=0;a<t.length;a+=3){var o=t[a],c=t[a+1],h=t[a+2];if(typeof c!="function"){if(xh(c||o)===null)continue;break}var x=Jn(o);x!==null&&(t.splice(a,3),a-=3,xd(x,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function go(t){function a(B){return lc(B,t)}Ya!==null&&lc(Ya,t),Xa!==null&&lc(Xa,t),Ka!==null&&lc(Ka,t),ho.forEach(a),fo.forEach(a);for(var o=0;o<Qa.length;o++){var c=Qa[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Qa.length&&(o=Qa[0],o.blockedOn===null);)Lx(o),o.blockedOn===null&&Qa.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],x=o[c+1],j=h[Wt]||null;if(typeof x=="function")j||zx(o);else if(j){var M=null;if(x&&x.hasAttribute("formAction")){if(h=x,j=x[Wt]||null)M=j.formAction;else if(xh(h)!==null)continue}else M=j.action;typeof M=="function"?o[c+1]=M:(o.splice(c,3),c-=3),zx(o)}}}function bh(t){this._internalRoot=t}uc.prototype.render=bh.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,c=hs();Mx(o,c,t,a,null,null)},uc.prototype.unmount=bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Mx(t.current,2,null,t,null,null),Il(),a[Wn]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var a=tg();t={blockedOn:null,target:t,priority:a};for(var o=0;o<Qa.length&&a!==0&&a<Qa[o].priority;o++);Qa.splice(o,0,t),o===0&&Lx(t)}};var Ux=e.version;if(Ux!=="19.1.0")throw Error(i(527,Ux,"19.1.0"));D.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(a),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var d2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{we=dc.inject(d2),Ae=dc}catch{}}return xo.createRoot=function(t,a){if(!l(t))throw Error(i(299));var o=!1,c="",h=t0,x=s0,j=a0,M=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks)),a=Ax(t,1,!1,null,null,o,c,h,x,j,M,null),t[Wn]=a.current,th(t),new bh(a)},xo.hydrateRoot=function(t,a,o){if(!l(t))throw Error(i(299));var c=!1,h="",x=t0,j=s0,M=a0,B=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),a=Ax(t,1,!0,a,o??null,c,h,x,j,M,B,K),a.context=kx(null),o=a.current,c=hs(),c=uu(c),h=Da(c),h.callback=null,Ra(o,h,c),o=c,a.current.lanes=o,Qn(a,o),Ks(a),t[Wn]=a.current,th(t),new uc(a)},xo.version="19.1.0",xo}var Kx;function j2(){if(Kx)return jh.exports;Kx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jh.exports=w2(),jh.exports}var _2=j2();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qx="popstate";function N2(s={}){function e(i,l){let{pathname:u,search:d,hash:f}=i.location;return nf("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:Po(l)}return T2(e,n,null,s)}function nt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Us(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S2(){return Math.random().toString(36).substring(2,10)}function Wx(s,e){return{usr:s.state,key:s.key,idx:e}}function nf(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?li(e):e,state:n,key:e&&e.key||i||S2()}}function Po({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function li(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function T2(s,e,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,f="POP",g=null,p=m();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function m(){return(d.state||{idx:null}).idx}function y(){f="POP";let N=m(),k=N==null?null:N-p;p=N,g&&g({action:f,location:C.location,delta:k})}function b(N,k){f="PUSH";let O=nf(C.location,N,k);p=m()+1;let E=Wx(O,p),T=C.createHref(O);try{d.pushState(E,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;l.location.assign(T)}u&&g&&g({action:f,location:C.location,delta:1})}function _(N,k){f="REPLACE";let O=nf(C.location,N,k);p=m();let E=Wx(O,p),T=C.createHref(O);d.replaceState(E,"",T),u&&g&&g({action:f,location:C.location,delta:0})}function w(N){return C2(N)}let C={get action(){return f},get location(){return s(l,d)},listen(N){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Qx,y),g=N,()=>{l.removeEventListener(Qx,y),g=null}},createHref(N){return e(l,N)},createURL:w,encodeLocation(N){let k=w(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:_,go(N){return d.go(N)}};return C}function C2(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nt(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Po(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function dv(s,e,n="/"){return E2(s,e,n,!1)}function E2(s,e,n,i){let l=typeof e=="string"?li(e):e,u=Sa(l.pathname||"/",n);if(u==null)return null;let d=hv(s);A2(d);let f=null;for(let g=0;f==null&&g<d.length;++g){let p=V2(u);f=z2(d[g],p,i)}return f}function hv(s,e=[],n=[],i="",l=!1){let u=(d,f,g=l,p)=>{let m={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&g)return;nt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let y=_a([i,m.relativePath]),b=n.concat(m);d.children&&d.children.length>0&&(nt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),hv(d.children,e,b,y,g)),!(d.path==null&&!d.index)&&e.push({path:y,score:L2(y,d.index),routesMeta:b})};return s.forEach((d,f)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))u(d,f);else for(let p of fv(d.path))u(d,f,!0,p)}),e}function fv(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=fv(i.join("/")),f=[];return f.push(...d.map(g=>g===""?u:[u,g].join("/"))),l&&f.push(...d),f.map(g=>s.startsWith("/")&&g===""?"/":g)}function A2(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:B2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var k2=/^:[\w-]+$/,M2=3,O2=2,D2=1,R2=10,P2=-2,Zx=s=>s==="*";function L2(s,e){let n=s.split("/"),i=n.length;return n.some(Zx)&&(i+=P2),e&&(i+=O2),n.filter(l=>!Zx(l)).reduce((l,u)=>l+(k2.test(u)?M2:u===""?D2:R2),i)}function B2(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function z2(s,e,n=!1){let{routesMeta:i}=s,l={},u="/",d=[];for(let f=0;f<i.length;++f){let g=i[f],p=f===i.length-1,m=u==="/"?e:e.slice(u.length)||"/",y=kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},m),b=g.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},m)),!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:_a([u,y.pathname]),pathnameBase:F2(_a([u,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(u=_a([u,y.pathnameBase]))}return d}function kc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=U2(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:y},b)=>{if(m==="*"){let w=f[b]||"";d=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const _=f[b];return y&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function U2(s,e=!1,n=!0){Us(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function V2(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Us(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Sa(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function q2(s,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof s=="string"?li(s):s;return{pathname:n?n.startsWith("/")?n:$2(n,e):e,search:I2(i),hash:G2(l)}}function $2(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Th(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H2(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gf(s){let e=H2(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Yf(s,e,n,i=!1){let l;typeof s=="string"?l=li(s):(l={...s},nt(!l.pathname||!l.pathname.includes("?"),Th("?","pathname","search",l)),nt(!l.pathname||!l.pathname.includes("#"),Th("#","pathname","hash",l)),nt(!l.search||!l.search.includes("#"),Th("#","search","hash",l)));let u=s===""||l.pathname==="",d=u?"/":l.pathname,f;if(d==null)f=n;else{let y=e.length-1;if(!i&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}f=y>=0?e[y]:"/"}let g=q2(l,f),p=d&&d!=="/"&&d.endsWith("/"),m=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||m)&&(g.pathname+="/"),g}var _a=s=>s.join("/").replace(/\/\/+/g,"/"),F2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),I2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,G2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Y2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var mv=["POST","PUT","PATCH","DELETE"];new Set(mv);var X2=["GET",...mv];new Set(X2);var ci=v.createContext(null);ci.displayName="DataRouter";var Qc=v.createContext(null);Qc.displayName="DataRouterState";v.createContext(!1);var gv=v.createContext({isTransitioning:!1});gv.displayName="ViewTransition";var K2=v.createContext(new Map);K2.displayName="Fetchers";var Q2=v.createContext(null);Q2.displayName="Await";var qs=v.createContext(null);qs.displayName="Navigation";var Fo=v.createContext(null);Fo.displayName="Location";var $s=v.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var Xf=v.createContext(null);Xf.displayName="RouteError";function W2(s,{relative:e}={}){nt(ui(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=v.useContext(qs),{hash:l,pathname:u,search:d}=Io(s,{relative:e}),f=u;return n!=="/"&&(f=u==="/"?n:_a([n,u])),i.createHref({pathname:f,search:d,hash:l})}function ui(){return v.useContext(Fo)!=null}function un(){return nt(ui(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Fo).location}var pv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xv(s){v.useContext(qs).static||v.useLayoutEffect(s)}function di(){let{isDataRoute:s}=v.useContext($s);return s?hN():Z2()}function Z2(){nt(ui(),"useNavigate() may be used only in the context of a <Router> component.");let s=v.useContext(ci),{basename:e,navigator:n}=v.useContext(qs),{matches:i}=v.useContext($s),{pathname:l}=un(),u=JSON.stringify(Gf(i)),d=v.useRef(!1);return xv(()=>{d.current=!0}),v.useCallback((g,p={})=>{if(Us(d.current,pv),!d.current)return;if(typeof g=="number"){n.go(g);return}let m=Yf(g,JSON.parse(u),l,p.relative==="path");s==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:_a([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,u,l,s])}var J2=v.createContext(null);function eN(s){let e=v.useContext($s).outlet;return e&&v.createElement(J2.Provider,{value:s},e)}function Io(s,{relative:e}={}){let{matches:n}=v.useContext($s),{pathname:i}=un(),l=JSON.stringify(Gf(n));return v.useMemo(()=>Yf(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function tN(s,e){return yv(s,e)}function yv(s,e,n,i,l){var O;nt(ui(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=v.useContext(qs),{matches:d}=v.useContext($s),f=d[d.length-1],g=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",y=f&&f.route;{let E=y&&y.path||"";bv(p,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=un(),_;if(e){let E=typeof e=="string"?li(e):e;nt(m==="/"||((O=E.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),_=E}else _=b;let w=_.pathname||"/",C=w;if(m!=="/"){let E=m.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=dv(s,{pathname:C});Us(y||N!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Us(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=iN(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},g,E.params),pathname:_a([m,u.encodeLocation?u.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:_a([m,u.encodeLocation?u.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),d,n,i,l);return e&&k?v.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function sN(){let s=dN(),e=Y2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:l},n):null,d)}var aN=v.createElement(sN,null),nN=class extends v.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?v.createElement($s.Provider,{value:this.props.routeContext},v.createElement(Xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rN({routeContext:s,match:e,children:n}){let i=v.useContext(ci);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement($s.Provider,{value:s},n)}function iN(s,e=[],n=null,i=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n==null?void 0:n.errors;if(d!=null){let p=u.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let f=!1,g=-1;if(n)for(let p=0;p<u.length;p++){let m=u[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(g=p),m.route.id){let{loaderData:y,errors:b}=n,_=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||_){f=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,m,y)=>{let b,_=!1,w=null,C=null;n&&(b=d&&m.route.id?d[m.route.id]:void 0,w=m.route.errorElement||aN,f&&(g<0&&y===0?(bv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):g===y&&(_=!0,C=m.route.hydrateFallbackElement||null)));let N=e.concat(u.slice(0,y+1)),k=()=>{let O;return b?O=w:_?O=C:m.route.Component?O=v.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=p,v.createElement(rN,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?v.createElement(nN,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:i}):k()},null)}function Kf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(s){let e=v.useContext(ci);return nt(e,Kf(s)),e}function lN(s){let e=v.useContext(Qc);return nt(e,Kf(s)),e}function cN(s){let e=v.useContext($s);return nt(e,Kf(s)),e}function Qf(s){let e=cN(s),n=e.matches[e.matches.length-1];return nt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function uN(){return Qf("useRouteId")}function dN(){var i;let s=v.useContext(Xf),e=lN("useRouteError"),n=Qf("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[n]}function hN(){let{router:s}=oN("useNavigate"),e=Qf("useNavigate"),n=v.useRef(!1);return xv(()=>{n.current=!0}),v.useCallback(async(l,u={})=>{Us(n.current,pv),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var Jx={};function bv(s,e,n){!e&&!Jx[s]&&(Jx[s]=!0,Us(!1,n))}v.memo(fN);function fN({routes:s,future:e,state:n,unstable_onError:i}){return yv(s,void 0,n,i,e)}function Wf({to:s,replace:e,state:n,relative:i}){nt(ui(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=v.useContext(qs);Us(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=v.useContext($s),{pathname:d}=un(),f=di(),g=Yf(s,Gf(u),d,i==="path"),p=JSON.stringify(g);return v.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:i})},[f,p,i,e,n]),null}function mN(s){return eN(s.context)}function Tt(s){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gN({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){nt(!ui(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof n=="string"&&(n=li(n));let{pathname:g="/",search:p="",hash:m="",state:y=null,key:b="default"}=n,_=v.useMemo(()=>{let w=Sa(g,d);return w==null?null:{location:{pathname:w,search:p,hash:m,state:y,key:b},navigationType:i}},[d,g,p,m,y,b,i]);return Us(_!=null,`<Router basename="${d}"> is not able to match the URL "${g}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:v.createElement(qs.Provider,{value:f},v.createElement(Fo.Provider,{children:e,value:_}))}function vv({children:s,location:e}){return tN(rf(s),e)}function rf(s,e=[]){let n=[];return v.Children.forEach(s,(i,l)=>{if(!v.isValidElement(i))return;let u=[...e,l];if(i.type===v.Fragment){n.push.apply(n,rf(i.props.children,u));return}nt(i.type===Tt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=rf(i.props.children,u)),n.push(d)}),n}var jc="get",_c="application/x-www-form-urlencoded";function Wc(s){return s!=null&&typeof s.tagName=="string"}function pN(s){return Wc(s)&&s.tagName.toLowerCase()==="button"}function xN(s){return Wc(s)&&s.tagName.toLowerCase()==="form"}function yN(s){return Wc(s)&&s.tagName.toLowerCase()==="input"}function bN(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function vN(s,e){return s.button===0&&(!e||e==="_self")&&!bN(s)}var hc=null;function wN(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var jN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(s){return s!=null&&!jN.has(s)?(Us(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):s}function _N(s,e){let n,i,l,u,d;if(xN(s)){let f=s.getAttribute("action");i=f?Sa(f,e):null,n=s.getAttribute("method")||jc,l=Ch(s.getAttribute("enctype"))||_c,u=new FormData(s)}else if(pN(s)||yN(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||f.getAttribute("action");if(i=g?Sa(g,e):null,n=s.getAttribute("formmethod")||f.getAttribute("method")||jc,l=Ch(s.getAttribute("formenctype"))||Ch(f.getAttribute("enctype"))||_c,u=new FormData(f,s),!wN()){let{name:p,type:m,value:y}=s;if(m==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,y)}}else{if(Wc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jc,i=null,l=_c,d=s}return u&&l==="text/plain"&&(d=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zf(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function NN(s,e,n){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Sa(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function SN(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TN(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function CN(s,e,n){let i=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await SN(u,n);return d.links?d.links():[]}return[]}));return MN(i.flat(1).filter(TN).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ey(s,e,n,i,l,u){let d=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,f=(g,p)=>{var m;return n[p].pathname!==g.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>d(g,p)||f(g,p)):u==="data"?e.filter((g,p)=>{var y;let m=i.routes[g.route.id];if(!m||!m.hasLoader)return!1;if(d(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function EN(s,e,{includeHydrateFallback:n}={}){return AN(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function AN(s){return[...new Set(s)]}function kN(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function MN(s,e){let n=new Set;return new Set(e),s.reduce((i,l)=>{let u=JSON.stringify(kN(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}function wv(){let s=v.useContext(ci);return Zf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function ON(){let s=v.useContext(Qc);return Zf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Jf=v.createContext(void 0);Jf.displayName="FrameworkContext";function jv(){let s=v.useContext(Jf);return Zf(s,"You must render this element inside a <HydratedRouter> element"),s}function DN(s,e){let n=v.useContext(Jf),[i,l]=v.useState(!1),[u,d]=v.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,b=v.useRef(null);v.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let C=k=>{k.forEach(O=>{d(O.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[s]),v.useEffect(()=>{if(i){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{l(!0)},w=()=>{l(!1),d(!1)};return n?s!=="intent"?[u,b,{}]:[u,b,{onFocus:yo(f,_),onBlur:yo(g,w),onMouseEnter:yo(p,_),onMouseLeave:yo(m,w),onTouchStart:yo(y,_)}]:[!1,b,{}]}function yo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function RN({page:s,...e}){let{router:n}=wv(),i=v.useMemo(()=>dv(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?v.createElement(LN,{page:s,matches:i,...e}):null}function PN(s){let{manifest:e,routeModules:n}=jv(),[i,l]=v.useState([]);return v.useEffect(()=>{let u=!1;return CN(s,e,n).then(d=>{u||l(d)}),()=>{u=!0}},[s,e,n]),i}function LN({page:s,matches:e,...n}){let i=un(),{manifest:l,routeModules:u}=jv(),{basename:d}=wv(),{loaderData:f,matches:g}=ON(),p=v.useMemo(()=>ey(s,e,g,l,i,"data"),[s,e,g,l,i]),m=v.useMemo(()=>ey(s,e,g,l,i,"assets"),[s,e,g,l,i]),y=v.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let w=new Set,C=!1;if(e.forEach(k=>{var E;let O=l.routes[k.route.id];!O||!O.hasLoader||(!p.some(T=>T.route.id===k.route.id)&&k.route.id in f&&((E=u[k.route.id])!=null&&E.shouldRevalidate)||O.hasClientLoader?C=!0:w.add(k.route.id))}),w.size===0)return[];let N=NN(s,d,"data");return C&&w.size>0&&N.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[d,f,i,l,p,e,s,u]),b=v.useMemo(()=>EN(m,l),[m,l]),_=PN(m);return v.createElement(v.Fragment,null,y.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),b.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:C})=>v.createElement("link",{key:w,nonce:n.nonce,...C})))}function BN(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_v&&(window.__reactRouterVersion="7.8.2")}catch{}function zN({basename:s,children:e,window:n}){let i=v.useRef();i.current==null&&(i.current=N2({window:n,v5Compat:!0}));let l=i.current,[u,d]=v.useState({action:l.action,location:l.location}),f=v.useCallback(g=>{v.startTransition(()=>d(g))},[d]);return v.useLayoutEffect(()=>l.listen(f),[l,f]),v.createElement(gN,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=v.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:f,target:g,to:p,preventScrollReset:m,viewTransition:y,...b},_){let{basename:w}=v.useContext(qs),C=typeof p=="string"&&Nv.test(p),N,k=!1;if(typeof p=="string"&&C&&(N=p,_v))try{let F=new URL(window.location.href),V=p.startsWith("//")?new URL(F.protocol+p):new URL(p),W=Sa(V.pathname,w);V.origin===F.origin&&W!=null?p=W+V.search+V.hash:k=!0}catch{Us(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=W2(p,{relative:l}),[E,T,S]=DN(i,b),R=qN(p,{replace:d,state:f,target:g,preventScrollReset:m,relative:l,viewTransition:y});function z(F){e&&e(F),F.defaultPrevented||R(F)}let $=v.createElement("a",{...b,...S,href:N||O,onClick:k||u?e:z,ref:BN(_,T),target:g,"data-discover":!C&&n==="render"?"true":void 0});return E&&!C?v.createElement(v.Fragment,null,$,v.createElement(RN,{page:O})):$});an.displayName="Link";var Sv=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:d,viewTransition:f,children:g,...p},m){let y=Io(d,{relative:p.relative}),b=un(),_=v.useContext(Qc),{navigator:w,basename:C}=v.useContext(qs),N=_!=null&&GN(y)&&f===!0,k=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,O=b.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&C&&(E=Sa(E,C)||E);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let S=O===k||!l&&O.startsWith(k)&&O.charAt(T)==="/",R=E!=null&&(E===k||!l&&E.startsWith(k)&&E.charAt(k.length)==="/"),z={isActive:S,isPending:R,isTransitioning:N},$=S?e:void 0,F;typeof i=="function"?F=i(z):F=[i,S?"active":null,R?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(z):u;return v.createElement(an,{...p,"aria-current":$,className:F,ref:m,style:V,to:d,viewTransition:f},typeof g=="function"?g(z):g)});Sv.displayName="NavLink";var UN=v.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:u,method:d=jc,action:f,onSubmit:g,relative:p,preventScrollReset:m,viewTransition:y,...b},_)=>{let w=FN(),C=IN(f,{relative:p}),N=d.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&Nv.test(f),O=E=>{if(g&&g(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,S=(T==null?void 0:T.getAttribute("formmethod"))||d;w(T||E.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:y})};return v.createElement("form",{ref:_,method:N,action:C,onSubmit:i?g:O,...b,"data-discover":!k&&s==="render"?"true":void 0})});UN.displayName="Form";function VN(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tv(s){let e=v.useContext(ci);return nt(e,VN(s)),e}function qN(s,{target:e,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:d}={}){let f=di(),g=un(),p=Io(s,{relative:u});return v.useCallback(m=>{if(vN(m,e)){m.preventDefault();let y=n!==void 0?n:Po(g)===Po(p);f(s,{replace:y,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[g,f,p,n,i,e,s,l,u,d])}var $N=0,HN=()=>`__${String(++$N)}__`;function FN(){let{router:s}=Tv("useSubmit"),{basename:e}=v.useContext(qs),n=uN();return v.useCallback(async(i,l={})=>{let{action:u,method:d,encType:f,formData:g,body:p}=_N(i,e);if(l.navigate===!1){let m=l.fetcherKey||HN();await s.fetch(m,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function IN(s,{relative:e}={}){let{basename:n}=v.useContext(qs),i=v.useContext($s);nt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Io(s||".",{relative:e})},d=un();if(s==null){u.search=d.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(m=>m==="")){f.delete("index"),g.filter(y=>y).forEach(y=>f.append("index",y));let m=f.toString();u.search=m?`?${m}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_a([n,u.pathname])),Po(u)}function GN(s,{relative:e}={}){let n=v.useContext(gv);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Tv("useViewTransitionState"),l=Io(s,{relative:e});if(!n.isTransitioning)return!1;let u=Sa(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=Sa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return kc(l.pathname,d)!=null||kc(l.pathname,u)!=null}const YN="modulepreload",XN=function(s){return"/"+s},ty={},Go=function(e,n,i){let l=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=d(n.map(p=>{if(p=XN(p),p in ty)return;ty[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":YN,m||(b.as="script"),b.crossOrigin="",b.href=p,g&&b.setAttribute("nonce",g),document.head.appendChild(b),m)return new Promise((_,w)=>{b.addEventListener("load",_),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return e().catch(u)})},KN=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...n)=>Go(async()=>{const{default:i}=await Promise.resolve().then(()=>hi);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class em extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class QN extends em{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sy extends em{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ay extends em{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var of;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(of||(of={}));var WN=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};class ZN{constructor(e,{headers:n={},customFetch:i,region:l=of.Any}={}){this.url=e,this.headers=n,this.region=l,this.fetch=KN(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return WN(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:d}=n;let f={},{region:g}=n;g||(g=this.region);const p=new URL(`${this.url}/${e}`);g&&g!=="any"&&(f["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let m;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=d):typeof d=="string"?(f["Content-Type"]="text/plain",m=d):typeof FormData<"u"&&d instanceof FormData?m=d:(f["Content-Type"]="application/json",m=JSON.stringify(d)));const y=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:m}).catch(C=>{throw new QN(C)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new sy(y);if(!y.ok)throw new ay(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield y.json():_==="application/octet-stream"?w=yield y.blob():_==="text/event-stream"?w=y:_==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof ay||l instanceof sy?l.context:void 0}}})}}var Rt={},Lr={},Br={},zr={},Ur={},Vr={},JN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ri=JN();const eS=ri.fetch,Cv=ri.fetch.bind(ri),Ev=ri.Headers,tS=ri.Request,sS=ri.Response,hi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ev,Request:tS,Response:sS,default:Cv,fetch:eS},Symbol.toStringTag,{value:"Module"})),aS=f2(hi);var fc={},ny;function Av(){if(ny)return fc;ny=1,Object.defineProperty(fc,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return fc.default=s,fc}var ry;function kv(){if(ry)return Vr;ry=1;var s=Vr&&Vr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Vr,"__esModule",{value:!0});const e=s(aS),n=s(Av());class i{constructor(u){var d,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,y,b,_;let w=null,C=null,N=null,k=p.status,O=p.statusText;if(p.ok){if(this.method!=="HEAD"){const R=await p.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?C=R:C=JSON.parse(R))}const T=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),S=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");T&&S&&S.length>1&&(N=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(w={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,N=null,k=406,O="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const T=await p.text();try{w=JSON.parse(T),Array.isArray(w)&&p.status===404&&(C=[],w=null,k=200,O="OK")}catch{p.status===404&&T===""?(k=204,O="No Content"):w={message:T}}if(w&&this.isMaybeSingle&&(!((_=w==null?void 0:w.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,k=200,O="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:C,count:N,status:k,statusText:O}});return this.shouldThrowOnError||(g=g.catch(p=>{var m,y,b;return{error:{message:`${(m=p==null?void 0:p.name)!==null&&m!==void 0?m:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,d)}returns(){return this}overrideTypes(){return this}}return Vr.default=i,Vr}var iy;function Mv(){if(iy)return Ur;iy=1;var s=Ur&&Ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=s(kv());class n extends e.default{select(l){let u=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:f,referencedTable:g=f}={}){const p=g?`${g}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:f=d}={}){const g=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:f=!1,wal:g=!1,format:p="text"}={}){var m;const y=[l?"analyze":null,u?"verbose":null,d?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Ur.default=n,Ur}var oy;function tm(){if(oy)return zr;oy=1;var s=zr&&zr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zr,"__esModule",{value:!0});const e=s(Mv());class n extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${g}fts${p}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return zr.default=n,zr}var ly;function Ov(){if(ly)return Br;ly=1;var s=Br&&Br.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Br,"__esModule",{value:!0});const e=s(tm());class n{constructor(l,{headers:u={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=f}select(l,{head:u=!1,count:d}={}){const f=u?"HEAD":"GET";let g=!1;const p=(l??"*").split("").map(m=>/\s/.test(m)&&!g?"":(m==='"'&&(g=!g),m)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var f;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:f,defaultToNull:g=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(y.length>0){const b=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:u}={}){var d;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Br.default=n,Br}var cy;function nS(){if(cy)return Lr;cy=1;var s=Lr&&Lr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Lr,"__esModule",{value:!0});const e=s(Ov()),n=s(tm());class i{constructor(u,{headers:d={},schema:f,fetch:g}={}){this.url=u,this.headers=new Headers(d),this.schemaName=f,this.fetch=g}from(u){const d=new URL(`${this.url}/${u}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:g=!1,count:p}={}){var m;let y;const b=new URL(`${this.url}/rpc/${u}`);let _;f||g?(y=f?"HEAD":"GET",Object.entries(d).filter(([C,N])=>N!==void 0).map(([C,N])=>[C,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([C,N])=>{b.searchParams.append(C,N)})):(y="POST",_=d);const w=new Headers(this.headers);return p&&w.set("Prefer",`count=${p}`),new n.default({method:y,url:b,headers:w,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Lr.default=i,Lr}var uy;function rS(){if(uy)return Rt;uy=1;var s=Rt&&Rt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PostgrestError=Rt.PostgrestBuilder=Rt.PostgrestTransformBuilder=Rt.PostgrestFilterBuilder=Rt.PostgrestQueryBuilder=Rt.PostgrestClient=void 0;const e=s(nS());Rt.PostgrestClient=e.default;const n=s(Ov());Rt.PostgrestQueryBuilder=n.default;const i=s(tm());Rt.PostgrestFilterBuilder=i.default;const l=s(Mv());Rt.PostgrestTransformBuilder=l.default;const u=s(kv());Rt.PostgrestBuilder=u.default;const d=s(Av());return Rt.PostgrestError=d.default,Rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},Rt}var iS=rS();const oS=uv(iS),{PostgrestClient:lS,PostgrestQueryBuilder:_O,PostgrestFilterBuilder:NO,PostgrestTransformBuilder:SO,PostgrestBuilder:TO,PostgrestError:CO}=oS;class cS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const uS="2.15.4",dS=`realtime-js/${uS}`,hS="1.0.0",lf=1e4,fS=1e3,mS=100;var So;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(So||(So={}));var Nt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Nt||(Nt={}));var Ls;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ls||(Ls={}));var cf;(function(s){s.websocket="websocket"})(cf||(cf={}));var zn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(zn||(zn={}));class gS{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const l=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const f=i.decode(e.slice(d,d+l));d=d+l;const g=i.decode(e.slice(d,d+u));d=d+u;const p=JSON.parse(i.decode(e.slice(d,e.byteLength)));return{ref:null,topic:f,event:g,payload:p}}}let Dv=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var et;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(et||(et={}));const dy=(s,e,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((u,d)=>(u[d]=pS(d,s,e,l),u),{})},pS=(s,e,n,i)=>{const l=e.find(f=>f.name===s),u=l==null?void 0:l.type,d=n[s];return u&&!i.includes(u)?Rv(u,d):uf(d)},Rv=(s,e)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return vS(e,n)}switch(s){case et.bool:return xS(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return yS(e);case et.json:case et.jsonb:return bS(e);case et.timestamp:return wS(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return uf(e);default:return uf(e)}},uf=s=>s,xS=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},yS=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},bS=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},vS=(s,e)=>{if(typeof s!="string")return s;const n=s.length-1,i=s[n];if(s[0]==="{"&&i==="}"){let u;const d=s.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>Rv(e,f))}return s},wS=s=>typeof s=="string"?s.replace(" ","T"):s,Pv=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Eh{constructor(e,n,i={},l=lf){this.channel=e,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hy;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(hy||(hy={}));class To{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=To.syncState(this.state,l,u,d),this.pendingDiffs.forEach(g=>{this.state=To.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=To.syncDiff(this.state,l,u,d),f())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,l){const u=this.cloneDeep(e),d=this.transformState(n),f={},g={};return this.map(u,(p,m)=>{d[p]||(g[p]=m)}),this.map(d,(p,m)=>{const y=u[p];if(y){const b=m.map(N=>N.presence_ref),_=y.map(N=>N.presence_ref),w=m.filter(N=>_.indexOf(N.presence_ref)<0),C=y.filter(N=>b.indexOf(N.presence_ref)<0);w.length>0&&(f[p]=w),C.length>0&&(g[p]=C)}else f[p]=m}),this.syncDiff(u,{joins:f,leaves:g},i,l)}static syncDiff(e,n,i,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(f,g)=>{var p;const m=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(g),m.length>0){const y=e[f].map(_=>_.presence_ref),b=m.filter(_=>y.indexOf(_.presence_ref)<0);e[f].unshift(...b)}i(f,m,g)}),this.map(d,(f,g)=>{let p=e[f];if(!p)return;const m=g.map(y=>y.presence_ref);p=p.filter(y=>m.indexOf(y.presence_ref)<0),e[f]=p,l(f,p,g),p.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const l=e[i];return"metas"in l?n[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[i]=l,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fy;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(fy||(fy={}));var Co;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Co||(Co={}));var wa;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class sm{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eh(this,Ls.join,this.params,this.timeout),this.rejoinTimer=new Dv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ls.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new To(this),this.broadcastEndpointURL=Pv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:d,presence:f,private:g}}=this.params,p=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[Co.PRESENCE]&&this.bindings[Co.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},b={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(wa.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(wa.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){e==null||e(wa.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,N=(w=C==null?void 0:C.length)!==null&&w!==void 0?w:0,k=[];for(let O=0;O<N;O++){const E=C[O],{filter:{event:T,schema:S,table:R,filter:z}}=E,$=_&&_[O];if($&&$.event===T&&$.schema===S&&$.table===R&&$.filter===z)k.push(Object.assign(Object.assign({},E),{id:$.id}));else{this.unsubscribe(),this.state=Nt.errored,e==null||e(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(wa.SUBSCRIBED);return}}).receive("error",_=>{this.state=Nt.errored,e==null||e(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Nt.joined&&e===Co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async send(e,n={}){var i,l;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:d}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,g;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Nt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ls.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Eh(this,Ls.leave,{},e),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Eh(this,e,n,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var l,u;const d=e.toLocaleLowerCase(),{close:f,error:g,leave:p,join:m}=Ls;if(i&&[f,g,p,m].indexOf(d)>=0&&i!==this._joinRef())return;let b=this._onMessage(d,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var w,C,N;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(C=_.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(_=>_.callback(b,i)):(u=this.bindings[d])===null||u===void 0||u.filter(_=>{var w,C,N,k,O,E;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const T=_.id,S=(w=_.filter)===null||w===void 0?void 0:w.event;return T&&((C=n.ids)===null||C===void 0?void 0:C.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const T=(O=(k=_==null?void 0:_.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return T==="*"||T===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:C,table:N,commit_timestamp:k,type:O,errors:E}=w;b=Object.assign(Object.assign({},{schema:C,table:N,commit_timestamp:k,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(w))}_.callback(b,i)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const l=e.toLocaleLowerCase(),u={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&sm.isEqual(l.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ls.close,{},e)}_onError(e){this._on(Ls.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dy(e.columns,e.old_record)),n}}const Ah=()=>{},mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jS=[1e3,2e3,5e3,1e4],_S=1e4,NS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SS{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lf,this.transport=null,this.heartbeatIntervalMs=mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ah,this.ref=0,this.reconnectTimer=null,this.logger=Ah,this.conn=null,this.sendBuffer=[],this.serializer=new gS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>Go(async()=>{const{default:f}=await Promise.resolve().then(()=>hi);return{default:f}},void 0).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${cf.websocket}`,this.httpEndpoint=Pv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hS}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case So.connecting:return zn.Connecting;case So.open:return zn.Open;case So.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new sm(`realtime:${e}`,n,this);return this.channels.push(u),u}}push(e){const{topic:n,event:i,payload:l,ref:u}=e,d=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${n} ${i} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:d}=n,f=d?`(${d})`:"",g=u.status||"";this.log("receive",`${g} ${i} ${l} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ls.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${e}${i}${l}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([NS],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:dS};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Ls.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Dv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,l,u,d,f,g,p,m;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:lf,this.heartbeatIntervalMs=(l=e==null?void 0:e.heartbeatIntervalMs)!==null&&l!==void 0?l:mc.HEARTBEAT_INTERVAL,this.worker=(u=e==null?void 0:e.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:Ah,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:y=>jS[y-1]||_S,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(y,b)=>b(JSON.stringify(y)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class am extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ct(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class TS extends am{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class df extends am{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var CS=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};const Lv=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...n)=>Go(async()=>{const{default:i}=await Promise.resolve().then(()=>hi);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},ES=()=>CS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Go(()=>Promise.resolve().then(()=>hi),void 0)).Response:Response}),hf=s=>{if(Array.isArray(s))return s.map(n=>hf(n));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[l]=hf(i)}),e},AS=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var Yn=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};const kh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),kS=(s,e,n)=>Yn(void 0,void 0,void 0,function*(){const i=yield ES();s instanceof i&&!(n!=null&&n.noResolveJson)?s.json().then(l=>{const u=s.status||500,d=(l==null?void 0:l.statusCode)||u+"";e(new TS(kh(l),u,d))}).catch(l=>{e(new df(kh(l),l))}):e(new df(kh(s),s))}),MS=(s,e,n,i)=>{const l={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!i?l:(AS(i)?(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(i)):l.body=i,e!=null&&e.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),n))};function Yo(s,e,n,i,l,u){return Yn(this,void 0,void 0,function*(){return new Promise((d,f)=>{s(n,MS(e,i,l,u)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>kS(g,f,i))})})}function Mc(s,e,n,i){return Yn(this,void 0,void 0,function*(){return Yo(s,"GET",e,n,i)})}function Qs(s,e,n,i,l){return Yn(this,void 0,void 0,function*(){return Yo(s,"POST",e,i,l,n)})}function ff(s,e,n,i,l){return Yn(this,void 0,void 0,function*(){return Yo(s,"PUT",e,i,l,n)})}function OS(s,e,n,i){return Yn(this,void 0,void 0,function*(){return Yo(s,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Bv(s,e,n,i,l){return Yn(this,void 0,void 0,function*(){return Yo(s,"DELETE",e,i,l,n)})}var Yt=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};const DS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},my={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class RS{constructor(e,n={},i,l){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Lv(l)}uploadOrUpdate(e,n,i,l){return Yt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},my),l);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=i,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),y=yield(e=="PUT"?ff:Qs)(this.fetch,`${this.url}/object/${m}`,u,Object.assign({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}upload(e,n,i){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,l){return Yt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),d=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:my.upsert},l),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const y=yield ff(this.fetch,f.toString(),g,{headers:m});return{data:{path:u,fullPath:y.Key},error:null}}catch(g){if(Ct(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return Yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield Qs(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+u.url),f=d.searchParams.get("token");if(!f)throw new am("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:f},error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}update(e,n,i){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Yt(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}copy(e,n,i){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}createSignedUrl(e,n,i){return Yt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),u=yield Qs(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}createSignedUrls(e,n,i){return Yt(this,void 0,void 0,function*(){try{const l=yield Qs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}download(e,n){return Yt(this,void 0,void 0,function*(){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"";try{const f=this._getFinalPath(e);return{data:yield(yield Mc(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Ct(f))return{data:null,error:f};throw f}})}info(e){return Yt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Mc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:hf(i),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}exists(e){return Yt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield OS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ct(i)&&i instanceof df){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&l.push(g);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${p}`)}}}remove(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}list(e,n,i){return Yt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},DS),n),{prefix:e||""});return{data:yield Qs(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}listV2(e,n){return Yt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Qs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const PS="2.11.0",LS={"X-Client-Info":`storage-js/${PS}`};var qr=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};class BS{constructor(e,n={},i,l){const u=new URL(e);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},LS),n),this.fetch=Lv(i)}listBuckets(){return qr(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ct(e))return{data:null,error:e};throw e}})}getBucket(e){return qr(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return qr(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return qr(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}emptyBucket(e){return qr(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}deleteBucket(e){return qr(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}}class zS extends BS{constructor(e,n={},i,l){super(e,n,i,l)}from(e){return new RS(this.url,this.headers,e,this.fetch)}}const US="2.56.1";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const VS={"X-Client-Info":`supabase-js-${_o}/${US}`},qS={headers:VS},$S={schema:"public"},HS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FS={};var IS=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};const GS=s=>{let e;return s?e=s:typeof fetch>"u"?e=Cv:e=fetch,(...n)=>e(...n)},YS=()=>typeof Headers>"u"?Ev:Headers,XS=(s,e,n)=>{const i=GS(n),l=YS();return(u,d)=>IS(void 0,void 0,void 0,function*(){var f;const g=(f=yield e())!==null&&f!==void 0?f:s;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(u,Object.assign(Object.assign({},d),{headers:p}))})};var KS=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};function QS(s){return s.endsWith("/")?s:s+"/"}function WS(s,e){var n,i;const{db:l,auth:u,realtime:d,global:f}=s,{db:g,auth:p,realtime:m,global:y}=e,b={db:Object.assign(Object.assign({},g),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},m),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>KS(this,void 0,void 0,function*(){return""})};return s.accessToken?b.accessToken=s.accessToken:delete b.accessToken,b}const zv="2.71.1",Qr=30*1e3,mf=3,Mh=mf*Qr,ZS="http://localhost:9999",JS="supabase.auth.token",eT={"X-Client-Info":`gotrue-js/${zv}`},gf="X-Supabase-Api-Version",Uv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sT=10*60*1e3;class nm extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Me(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class aT extends nm{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function nT(s){return Me(s)&&s.name==="AuthApiError"}class Vv extends nm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class dn extends nm{constructor(e,n,i,l){super(e,i,l),this.name=n,this.status=i}}class tn extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rT(s){return Me(s)&&s.name==="AuthSessionMissingError"}class gc extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends dn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xc extends dn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iT(s){return Me(s)&&s.name==="AuthImplicitGrantRedirectError"}class gy extends dn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pf extends dn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Oh(s){return Me(s)&&s.name==="AuthRetryableFetchError"}class py extends dn{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class xf extends dn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xy=` 	
\r=`.split(""),oT=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<xy.length;e+=1)s[xy[e].charCodeAt(0)]=-2;for(let e=0;e<Oc.length;e+=1)s[Oc[e].charCodeAt(0)]=e;return s})();function yy(s,e,n){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Oc[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Oc[i]),e.queuedBits-=6}}function qv(s,e,n){const i=oT[s];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function by(s){const e=[],n=d=>{e.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{uT(d,i,n)};for(let d=0;d<s.length;d+=1)qv(s.charCodeAt(d),l,u);return e.join("")}function lT(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function cT(s,e){for(let n=0;n<s.length;n+=1){let i=s.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}lT(i,e)}}function uT(s,e,n){if(e.utf8seq===0){if(s<=127){n(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dT(s){const e=[],n={queue:0,queuedBits:0},i=l=>{e.push(l)};for(let l=0;l<s.length;l+=1)qv(s.charCodeAt(l),n,i);return new Uint8Array(e)}function hT(s){const e=[];return cT(s,n=>e.push(n)),new Uint8Array(e)}function fT(s){const e=[],n={queue:0,queuedBits:0},i=l=>{e.push(l)};return s.forEach(l=>yy(l,n,i)),yy(null,n,i),e.join("")}function mT(s){return Math.round(Date.now()/1e3)+s}function gT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const Rs=()=>typeof window<"u"&&typeof document<"u",On={tested:!1,writable:!1},$v=()=>{if(!Rs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(On.tested)return On.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),On.tested=!0,On.writable=!0}catch{On.tested=!0,On.writable=!1}return On.writable};function pT(s){const e={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{e[u]=l})}catch{}return n.searchParams.forEach((i,l)=>{e[l]=i}),e}const Hv=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...n)=>Go(async()=>{const{default:i}=await Promise.resolve().then(()=>hi);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},xT=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Wr=async(s,e,n)=>{await s.setItem(e,JSON.stringify(n))},Dn=async(s,e)=>{const n=await s.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Za=async(s,e)=>{await s.removeItem(e)};class Zc{constructor(){this.promise=new Zc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Zc.promiseConstructor=Promise;function Dh(s){const e=s.split(".");if(e.length!==3)throw new xf("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!tT.test(e[i]))throw new xf("JWT not in base64url format");return{header:JSON.parse(by(e[0])),payload:JSON.parse(by(e[1])),signature:dT(e[2]),raw:{header:e[0],payload:e[1]}}}async function yT(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function bT(s,e){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await s(u);if(!e(u,null,d)){i(d);return}}catch(d){if(!e(u,d)){l(d);return}}})()})}function vT(s){return("0"+s.toString(16)).substr(-2)}function wT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(e),Array.from(e,vT).join("")}async function jT(s){const n=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function _T(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await jT(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(s,e,n=!1){const i=wT();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await Wr(s,`${e}-code-verifier`,l);const u=await _T(i);return[u,i===u?"plain":"s256"]}const NT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ST(s){const e=s.headers.get(gf);if(!e||!e.match(NT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TT(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function CT(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ET=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hr(s){if(!ET.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rh(){const s={};return new Proxy(s,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vy(s){return JSON.parse(JSON.stringify(s))}var AT=function(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(n[i[l]]=s[i[l]]);return n};const Pn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),kT=[502,503,504];async function wy(s){var e;if(!xT(s))throw new pf(Pn(s),0);if(kT.includes(s.status))throw new pf(Pn(s),s.status);let n;try{n=await s.json()}catch(u){throw new Vv(Pn(u),u)}let i;const l=ST(s);if(l&&l.getTime()>=Uv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new py(Pn(n),s.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new tn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new py(Pn(n),s.status,n.weak_password.reasons);throw new aT(Pn(n),s.status||500,i)}const MT=(s,e,n,i)=>{const l={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function Ue(s,e,n,i){var l;const u=Object.assign({},i==null?void 0:i.headers);u[gf]||(u[gf]=Uv["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await OT(s,e,n+f,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function OT(s,e,n,i,l,u){const d=MT(e,i,l,u);let f;try{f=await s(n,Object.assign({},d))}catch(g){throw console.error(g),new pf(Pn(g),0)}if(f.ok||await wy(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(g){await wy(g)}}function va(s){var e;let n=null;LT(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=mT(s.expires_in)));const i=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:n,user:i},error:null}}function jy(s){const e=va(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=s.weak_password),e}function nn(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function DT(s){return{data:s,error:null}}function RT(s){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u}=s,d=AT(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u},g=Object.assign({},d);return{data:{properties:f,user:g},error:null}}function PT(s){return s}function LT(s){return s.access_token&&s.refresh_token&&s.expires_in}const Ph=["global","local","others"];var BT=function(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(n[i[l]]=s[i[l]]);return n};class zT{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Hv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ph[0]){if(Ph.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ph.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nn})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=BT(e,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:RT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nn})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,l,u,d,f,g;try{const p={nextPage:null,lastPage:0,total:0},m=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:PT});if(m.error)throw m.error;const y=await m.json(),b=(d=m.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(g=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(w=>{const C=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);p[`${N}Page`]=C}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(Me(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Hr(e);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nn})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Hr(e);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:nn})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Hr(e);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:nn})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Hr(e.userId);try{const{data:n,error:i}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Hr(e.userId),Hr(e.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}function _y(s={}){return{getItem:e=>s[e]||null,setItem:(e,n)=>{s[e]=n},removeItem:e=>{delete s[e]}}}function UT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fr={debug:!!(globalThis&&$v()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VT extends Fv{}async function qT(s,e,n){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(e===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new VT(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Fr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}UT();const $T={url:ZS,storageKey:JS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ny(s,e,n){return await n()}const Ir={};class Lo{constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Lo.nextInstanceID,Lo.nextInstanceID+=1,this.instanceID>0&&Rs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},$T),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new zT({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Hv(l.fetch),this.lock=l.lock||Ny,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Rs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qT:this.lock=Ny,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:$v()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_y(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=_y(this.memoryStorage)),Rs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Ir[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ir[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=pT(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Rs()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),iT(u)){const g=(e=u.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Me(n)?{error:n}:{error:new Vv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,l;try{const u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:va}),{data:d,error:f}=u;if(f||!d)return{data:{user:null,session:null},error:f};const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(u){if(Me(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(e){var n,i,l;try{let u;if("email"in e){const{email:m,password:y,options:b}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await $r(this.storage,this.storageKey)),u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:m,password:y,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:_,code_challenge_method:w},xform:va})}else if("phone"in e){const{phone:m,password:y,options:b}=e;u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(l=b==null?void 0:b.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:va})}else throw new pc("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return{data:{user:null,session:null},error:f};const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(u){if(Me(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{let n;if("email"in e){const{email:u,password:d,options:f}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jy})}else if("phone"in e){const{phone:u,password:d,options:f}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jy})}else throw new pc("You must provide either an email or phone number and a password");const{data:i,error:l}=n;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new gc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,l,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,l,u,d,f,g,p,m,y,b,_;let w,C;if("message"in e)w=e.message,C=e.signature;else{const{chain:N,wallet:k,statement:O,options:E}=e;let T;if(Rs())if(typeof k=="object")T=k;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))T=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=k}const S=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const R=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),O?{statement:O}:null));let z;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")z=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)z=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)w=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),C=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(l=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(m=E==null?void 0:E.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const R=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=R}}try{const{data:N,error:k}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:fT(C)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:va});if(k)throw k;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new gc}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:k})}catch(N){if(Me(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const n=await Dn(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:u,error:d}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:va});if(await Za(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new gc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(Me(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(e){try{const{options:n,provider:i,token:l,access_token:u,nonce:d}=e,f=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:va}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new gc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,l,u,d;try{if("email"in e){const{email:f,options:g}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await $r(this.storage,this.storageKey));const{error:y}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:f,options:g}=e,{data:p,error:m}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new pc("You must provide either an email or phone number.")}catch(f){if(Me(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,i;try{let l,u;"options"in e&&(l=(n=e.options)===null||n===void 0?void 0:n.redirectTo,u=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:f}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:va});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,p=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var n,i,l;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await $r(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:DT})}catch(u){if(Me(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new tn;const{error:l}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:l,options:u}=e,{error:d}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:i,type:l,options:u}=e,{data:d,error:f}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new pc("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Mh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const d=await Dn(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=Rh()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,m)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,m))})}return{data:{session:e},error:null}}const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nn}):await this._useSession(async n=>{var i,l,u;const{data:d,error:f}=n;if(f)throw f;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:nn})})}catch(n){if(Me(n))return rT(n)&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new tn;const d=l.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await $r(this.storage,this.storageKey));const{data:p,error:m}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:d.access_token,xform:nn});if(m)throw m;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tn;const n=Date.now()/1e3;let i=n,l=!0,u=null;const{payload:d}=Dh(e.access_token);if(d.exp&&(i=d.exp,l=i<=n),l){const{session:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;u={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(Me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:d,error:f}=n;if(f)throw f;e=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new tn;const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Rs())throw new xc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gy("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:g,token_type:p}=e;if(!u||!f||!d||!p)throw new xc("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(f);let b=m+y;g&&(b=parseInt(g));const _=b-m;_*1e3<=Qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const w=b-y;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,m);const{data:C,error:N}=await this._getUser(u);if(N)throw N;const k={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:b,refresh_token:d,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(i){if(Me(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Dn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return{error:u};const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:f}=await this.admin.signOut(d,e);if(f&&!(nT(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=gT(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await $r(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(Me(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:l}=await this._useSession(async u=>{var d,f,g,p,m;const{data:y,error:b}=u;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return Rs()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Me(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,l;const{data:u,error:d}=n;if(d)throw d;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await bT(async l=>(l>0&&await yT(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:va})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Oh(u)&&Date.now()+d-i<Qr})}catch(i){if(this._debug(n,"error",i),Me(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Rs()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Dn(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Wr(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:Rh()}else if(l&&!l.user&&!l.user){const d=await Dn(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await Za(this.storage,this.storageKey+"-user"),await Wr(this.storage,this.storageKey,l)):l.user=Rh()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mh;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Mh}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Oh(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Zc;const{data:u,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!u.session)throw new tn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Me(u)){const d={session:null,error:u};return Oh(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,n,i=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Wr(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=vy(l);await Wr(this.storage,this.storageKey,u)}else{const l=vy(n);await Wr(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Za(this.storage,this.storageKey),await Za(this.storage,this.storageKey+"-code-verifier"),await Za(this.storage,this.storageKey+"-user"),this.userStorage&&await Za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Rs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-e)/Qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Qr}ms, refresh threshold is ${mf} ticks`),l<=mf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await $r(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;return u?{data:null,error:u}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,l;const{data:u,error:d}=n;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:p}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((l=g==null?void 0:g.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const{data:d,error:f}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;return u?{data:null,error:u}:await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],l=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:l},error:u}=e;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Dh(l.access_token);let f=null;d.aal&&(f=d.aal);let g=f;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const m=d.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(f=>f.kid===e);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+sT>l)return i;const{data:u,error:d}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};i=_.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:g}}=Dh(i);n!=null&&n.allowExpired||TT(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:u,header:l,signature:d},error:null}}const m=CT(l.alg),y=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,d,hT(`${f}.${g}`)))throw new xf("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}}Lo.nextInstanceID=0;const HT=Lo;class FT extends HT{constructor(e){super(e)}}var IT=function(s,e,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(m){try{p(i.next(m))}catch(y){d(y)}}function g(m){try{p(i.throw(m))}catch(y){d(y)}}function p(m){m.done?u(m.value):l(m.value).then(f,g)}p((i=i.apply(s,e||[])).next())})};class GT{constructor(e,n,i){var l,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=QS(e),g=new URL(f);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,m={db:$S,realtime:FS,auth:Object.assign(Object.assign({},HS),{storageKey:p}),global:qS},y=WS(i??{},m);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=XS(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new lS(new URL("rest/v1",g).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new zS(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new ZN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return IT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:l,storageKey:u,flowType:d,lock:f,debug:g},p,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FT({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:l,flowType:d,lock:f,debug:g,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new SS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YT=(s,e,n)=>new GT(s,e,n);function XT(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}XT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Iv="https://wznycskqsavpmejwpksp.supabase.co",KT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6bnljc2txc2F2cG1landwa3NwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2MzA2NjUsImV4cCI6MjA3MjIwNjY2NX0.uYXbBwQDo1pLeBrmtZnBR2M3a3_TsYDa637pcKSVC_8",Dc=Iv.includes(".supabase.co");Dc||(console.warn(" Supabase credentials not configured. Using mock mode for development."),console.info(" To use real Supabase:"),console.info("1. Update .env.local with your Supabase credentials"),console.info("2. Get credentials from: https://supabase.com/dashboard"));const QT="https://mock.supabase.co",WT="mock-anon-key",de=YT(Dc?Iv:QT,Dc?KT:WT),bo=Dc,Gv=v.createContext(void 0),ps=()=>{const s=v.useContext(Gv);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},ZT=({children:s})=>{const[e,n]=v.useState(null),[i,l]=v.useState(null),[u,d]=v.useState(!0);v.useEffect(()=>{if(!bo){d(!1);return}de.auth.getSession().then(({data:{session:y}})=>{l(y),d(!1)}).catch(y=>{console.warn("Erro ao verificar sesso, usando modo mock:",y),d(!1)});const{data:m}=de.auth.onAuthStateChange((y,b)=>{l(b)});return()=>{m.subscription.unsubscribe()}},[]),v.useEffect(()=>{bo&&(i?de.from("profiles").select("*").eq("id",i.user.id).single().then(({data:m,error:y})=>{if(y||!m)console.error("Perfil no encontrado ou erro na busca, deslogando.",y),de.auth.signOut();else{const b={id:m.id,name:m.name||i.user.email||"Usurio",email:i.user.email,role:m.role,avatar:m.avatar_url||`https://api.dicebear.com/8.x/initials/svg?seed=${m.name||i.user.email}`};n(b)}}):n(null))},[i]);const f=async(m,y)=>{if(!bo)return console.info(" Usando autenticao mock para desenvolvimento"),m==="demo@clubmanager.com"&&y==="demo123456"?(n({id:"demo-user-id",name:"Usurio Demonstrao",email:"demo@clubmanager.com",role:"admin",avatar:"https://api.dicebear.com/8.x/initials/svg?seed=Demo"}),{success:!0,error:null}):{success:!1,error:"Credenciais invlidas. Use: demo@clubmanager.com / demo123456"};try{const{error:b}=await de.auth.signInWithPassword({email:m,password:y});return{success:!b,error:(b==null?void 0:b.message)||null}}catch(b){return console.error("Erro de conexo com Supabase:",b),{success:!1,error:"Erro de conexo. Verifique a configurao do Supabase."}}},g=async()=>f("demo@clubmanager.com","demo123456"),p=async()=>{if(!bo){n(null);return}await de.auth.signOut()};return r.jsxs(Gv.Provider,{value:{user:e,login:f,loginAsDemo:g,logout:p,isLoading:u},children:[!bo&&r.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-black px-4 py-2 text-sm z-50",children:[" ",r.jsx("strong",{children:"Modo Desenvolvimento:"})," Supabase no configurado. Use: demo@clubmanager.com / demo123456"]}),u?r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-slate-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),r.jsx("p",{className:"mt-4 text-white font-semibold",children:"Carregando Sesso..."})]})}):s]})},Lh=s=>({id:s.id,name:s.name,categoryId:s.category_id||void 0,currentStock:s.current_stock,minStock:s.min_stock,unit:s.unit,lastUpdated:new Date(s.last_updated||s.created_at),supplier:s.supplier||void 0,cost:s.cost||0,availableForSale:s.available_for_sale||!1,image_url:s.image_url||void 0}),JT=s=>({id:s.id,name:s.name,description:s.description||void 0,color:s.color||"#6B7280",icon:s.icon||void 0,isActive:s.is_active||!0,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at||s.created_at)}),Bh=s=>({id:s.id,name:s.name,email:s.email,phone:s.phone||"",avatar:s.avatar_url||`https://api.dicebear.com/8.x/initials/svg?seed=${s.name}`,status:s.status,joinDate:new Date(s.join_date),membershipType:s.membership_type}),zh=s=>{const e=s.item_type==="direct",n=s.inventory_items;return{id:s.id,name:e&&(n!=null&&n.name)?n.name:s.name,description:s.description||"",price:s.price,category:s.category,image_url:e&&(n!=null&&n.image_url)?n.image_url:s.image_url||void 0,available:s.available,preparation_time:s.preparation_time||void 0,item_type:s.item_type||"prepared",direct_inventory_item_id:s.direct_inventory_item_id||void 0}},Sy=s=>({id:s.id,tableNumber:s.table_number||void 0,items:s.order_items.map(e=>({id:e.id.toString(),menuItemId:e.menu_item_id,quantity:e.quantity,price:e.price,notes:e.notes||void 0})),status:s.status,total:s.total,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at||s.created_at),employeeId:s.employee_id||"",notes:s.notes||void 0}),Yv=v.createContext(void 0),wt=()=>{const s=v.useContext(Yv);if(s===void 0)throw new Error("useApp must be used within an AppProvider");return s},eC=({children:s})=>{const[e,n]=v.useState([]),[i,l]=v.useState([]),[u,d]=v.useState([]),[f,g]=v.useState([]),[p,m]=v.useState([]),[y,b]=v.useState([]);v.useEffect(()=>{(async()=>{const[I,ne,A,q]=await Promise.all([de.from("menu_items").select(`
          *,
          inventory_items!left(name, image_url)
        `).order("name"),de.from("inventory_items").select("*").order("name"),de.from("inventory_categories").select("*").eq("is_active",!0).order("name"),de.from("members").select("*").order("name")]);I.data&&n(I.data.map(zh)),ne.data&&d(ne.data.map(Lh)),A.data&&g(A.data.map(JT)),q.data&&m(q.data.map(Bh))})()},[]),v.useEffect(()=>{const D=async A=>{var J,ue;const{data:q,error:P}=await de.from("orders").select("*, order_items(*)").order("created_at",{ascending:!1});if(P)console.error("Error fetching orders after realtime event:",P);else if(q){const xe=q.map(Sy);l(xe),A.eventType!=="INSERT"&&z(`Pedido #${(ue=(J=A.new)==null?void 0:J.id)==null?void 0:ue.slice(0,4)} atualizado para ${A.new.status}`)}},I=de.channel("realtime-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},D).subscribe();return(async()=>{const{data:A,error:q}=await de.from("orders").select("*, order_items(*)").order("created_at",{ascending:!1});q?console.error("Error fetching initial orders:",q):A&&l(A.map(Sy))})(),()=>{de.removeChannel(I)}},[]);const _=async D=>{console.log("=== addMenuItem INICIADO ==="),console.log("Dados recebidos:",D);const I={name:D.name,description:D.description||null,price:D.price,category:D.category,available:D.available,preparation_time:D.preparation_time||null,item_type:D.item_type||"prepared",direct_inventory_item_id:D.direct_inventory_item_id||null,image_url:D.image_url||null};console.log("Dados formatados para Supabase:",I);const{data:ne,error:A}=await de.from("menu_items").insert(I).select().single();if(console.log("Resposta do Supabase:"),console.log("- Data:",ne),console.log("- Error:",A),A)throw console.error("=== ERRO NO SUPABASE ==="),console.error("Cdigo do erro:",A.code),console.error("Mensagem do erro:",A.message),console.error("Detalhes do erro:",A.details),console.error("Hint do erro:",A.hint),A;ne&&(console.log("Item inserido com sucesso, atualizando estado..."),n(q=>[zh(ne),...q].sort((P,J)=>P.name.localeCompare(J.name))),z(`Novo prato "${ne.name}" adicionado ao cardpio!`),console.log("Estado atualizado com sucesso!")),console.log("=== addMenuItem FINALIZADO ===")},w=async D=>{const I={name:D.name,description:D.description,price:D.price,category:D.category,available:D.available,preparation_time:D.preparation_time,item_type:D.item_type||"prepared",direct_inventory_item_id:D.direct_inventory_item_id||null,image_url:D.image_url||null},{data:ne,error:A}=await de.from("menu_items").update(I).eq("id",D.id).select().single();if(A){console.error(A);return}ne&&(n(q=>q.map(P=>P.id===ne.id?zh(ne):P).sort((P,J)=>P.name.localeCompare(J.name))),z(`Prato "${ne.name}" atualizado!`))},C=async D=>{const{error:I}=await de.from("menu_items").delete().eq("id",D);if(I){console.error(I);return}n(ne=>ne.filter(A=>A.id!==D)),z("Prato removido do cardpio!")},N=async D=>{const{items:I,tableNumber:ne,employeeId:A,notes:q,status:P}=D,J=I.reduce((De,Xe)=>De+Xe.price*Xe.quantity,0),ue={table_number:ne,employee_id:A,notes:q,status:P,total:J},{data:xe,error:me}=await de.from("orders").insert(ue).select().single();if(me||!xe){console.error("Error creating order:",me);return}const re=I.map(De=>({order_id:xe.id,menu_item_id:De.menuItemId,quantity:De.quantity,price:De.price,notes:De.notes})),{error:he}=await de.from("order_items").insert(re);he?console.error("Error creating order items:",he):z(`Novo pedido #${xe.id.slice(0,4)} criado!`)},k=async(D,I)=>{try{console.log("updateOrderStatus chamado:",{orderId:D,status:I});const ne=D.split("-"),A=ne.slice(0,5).join("-"),q=ne.slice(5).join("-");console.log("Decomposio do ID:",{parts:ne,realComandaId:A,timeKey:q});const{data:P,error:J}=await de.from("comanda_items").select("*").eq("comanda_id",A).in("status",["pending","preparing","ready"]);if(J)throw J;const ue=(P==null?void 0:P.filter(xe=>{const me=new Date(xe.added_at),re=`${me.getFullYear()}-${me.getMonth()}-${me.getDate()}-${me.getHours()}-${me.getMinutes()}`;return q===re}))||[];if(console.log("Itens encontrados para atualizar:",ue.length),ue.length>0){const xe=ue.map(re=>re.id);console.log("Atualizando itens:",xe,"para status:",I);const{error:me}=await de.from("comanda_items").update({status:I}).in("id",xe);if(me)throw me;console.log("Atualizao realizada com sucesso")}else console.log("Nenhum item encontrado para atualizar");await fe(),await ae()}catch(ne){console.error("Erro ao atualizar status do pedido:",ne)}},O=async D=>{const I={name:D.name,category_id:D.categoryId,current_stock:D.currentStock,min_stock:D.minStock,unit:D.unit,cost:D.cost,supplier:D.supplier,available_for_sale:D.availableForSale||!1,image_url:D.image_url||null},{data:ne,error:A}=await de.from("inventory_items").insert(I).select().single();if(A){console.error(A);return}ne&&d(q=>[Lh(ne),...q].sort((P,J)=>P.name.localeCompare(J.name)))},E=async D=>{const I={name:D.name,category_id:D.categoryId,current_stock:D.currentStock,min_stock:D.minStock,unit:D.unit,cost:D.cost,supplier:D.supplier,available_for_sale:D.availableForSale||!1,image_url:D.image_url||null,last_updated:new Date().toISOString()},{data:ne,error:A}=await de.from("inventory_items").update(I).eq("id",D.id).select().single();if(A){console.error(A);return}ne&&d(q=>q.map(P=>P.id===ne.id?Lh(ne):P).sort((P,J)=>P.name.localeCompare(J.name)))},T=async D=>{const{error:I}=await de.from("inventory_items").delete().eq("id",D);if(I){console.error(I);return}d(ne=>ne.filter(A=>A.id!==D))},S=async D=>{const I={name:D.name,email:D.email,phone:D.phone,avatar_url:D.avatar,status:D.status,membership_type:D.membershipType},{data:ne,error:A}=await de.from("members").insert(I).select().single();if(A){console.error(A);return}ne&&m(q=>[Bh(ne),...q].sort((P,J)=>P.name.localeCompare(J.name)))},R=async D=>{const I={name:D.name,email:D.email,phone:D.phone,avatar_url:D.avatar,status:D.status,membership_type:D.membershipType},{data:ne,error:A}=await de.from("members").update(I).eq("id",D.id).select().single();if(A){console.error(A);return}ne&&m(q=>q.map(P=>P.id===ne.id?Bh(ne):P).sort((P,J)=>P.name.localeCompare(J.name)))},z=D=>{b(I=>[D,...I].slice(0,10))},$=()=>b([]),[F,V]=v.useState([]),[W,Y]=v.useState([]),ae=async()=>{try{const{data:D,error:I}=await de.from("comanda_items").select(`
          *,
          comanda:comandas(
            id,
            table_id,
            customer_name,
            opened_at,
            table:bar_tables(number)
          ),
          menu_item:menu_items(
            *,
            inventory_items!left(name, image_url)
          )
        `).in("status",["pending","preparing","ready"]).order("added_at",{ascending:!0});if(I)throw I;const{data:ne,error:A}=await de.from("balcao_order_items").select(`
          *,
          balcao_order:balcao_orders!inner(
            id,
            order_number,
            customer_name,
            status,
            created_at
          ),
          menu_item:menu_items(
            *,
            inventory_items!left(name, image_url)
          )
        `).in("balcao_order.status",["paid","preparing","ready"]).order("created_at",{ascending:!0});if(A)throw A;const q=new Map;D==null||D.forEach(P=>{var he,De,Xe,pt,At,rs,ks;const J=(he=P.comanda)==null?void 0:he.id;if(!J)return;const ue=new Date(P.added_at),xe=`${ue.getFullYear()}-${ue.getMonth()}-${ue.getDate()}-${ue.getHours()}-${ue.getMinutes()}`,me=`comanda-${J}-${xe}`;q.has(me)||q.set(me,{id:me,tableNumber:(Xe=(De=P.comanda)==null?void 0:De.table)==null?void 0:Xe.number,items:[],status:P.status,total:0,createdAt:new Date(P.added_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Mesa ${(At=(pt=P.comanda)==null?void 0:pt.table)==null?void 0:At.number} - ${((rs=P.comanda)==null?void 0:rs.customer_name)||"Cliente"}`});const re=q.get(me);re.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.item_type==="direct"&&((ks=P.menu_item.inventory_items)!=null&&ks.name)?P.menu_item.inventory_items.name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time,item_type:P.menu_item.item_type}:void 0}),re.total+=P.price*P.quantity}),ne==null||ne.forEach(P=>{var me,re;const J=(me=P.balcao_order)==null?void 0:me.id;if(!J)return;const ue=`balcao-${J}`;q.has(ue)||q.set(ue,{id:ue,tableNumber:"Balco",items:[],status:P.balcao_order.status==="paid"?"pending":P.balcao_order.status==="preparing"?"preparing":"ready",total:0,createdAt:new Date(P.balcao_order.created_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Pedido Balco #${P.balcao_order.order_number}${P.balcao_order.customer_name?` - ${P.balcao_order.customer_name}`:""}`});const xe=q.get(ue);xe.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.unit_price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.item_type==="direct"&&((re=P.menu_item.inventory_items)!=null&&re.name)?P.menu_item.inventory_items.name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time,item_type:P.menu_item.item_type}:void 0}),xe.total+=P.unit_price*P.quantity}),Y(Array.from(q.values()))}catch(D){console.error("Erro ao buscar pedidos do bar:",D)}},fe=async()=>{try{const{data:D,error:I}=await de.from("comanda_items").select(`
          *,
          comanda:comandas(
            id,
            table_id,
            customer_name,
            opened_at,
            table:bar_tables(number)
          ),
          menu_item:menu_items!inner(*)
        `).in("status",["pending","preparing"]).neq("menu_item.item_type","direct").order("added_at",{ascending:!0});if(I)throw I;const{data:ne,error:A}=await de.from("balcao_order_items").select(`
          *,
          balcao_order:balcao_orders!inner(
            id,
            order_number,
            customer_name,
            status,
            created_at
          ),
          menu_item:menu_items!inner(*)
        `).in("balcao_order.status",["paid","preparing"]).neq("menu_item.item_type","direct").order("created_at",{ascending:!0});if(A)throw A;const q=new Map;D==null||D.forEach(P=>{var he,De,Xe,pt,At,rs;const J=(he=P.comanda)==null?void 0:he.id;if(!J)return;const ue=new Date(P.added_at),xe=`${ue.getFullYear()}-${ue.getMonth()}-${ue.getDate()}-${ue.getHours()}-${ue.getMinutes()}`,me=`comanda-${J}-${xe}`;q.has(me)||q.set(me,{id:me,tableNumber:(Xe=(De=P.comanda)==null?void 0:De.table)==null?void 0:Xe.number,items:[],status:P.status,total:0,createdAt:new Date(P.added_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Mesa ${(At=(pt=P.comanda)==null?void 0:pt.table)==null?void 0:At.number} - ${((rs=P.comanda)==null?void 0:rs.customer_name)||"Cliente"}`});const re=q.get(me);re.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time}:void 0}),re.total+=P.price*P.quantity}),ne==null||ne.forEach(P=>{var me;const J=(me=P.balcao_order)==null?void 0:me.id;if(!J)return;const ue=`balcao-${J}`;q.has(ue)||q.set(ue,{id:ue,tableNumber:"Balco",items:[],status:P.balcao_order.status==="paid"?"pending":"preparing",total:0,createdAt:new Date(P.balcao_order.created_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Pedido Balco #${P.balcao_order.order_number}${P.balcao_order.customer_name?` - ${P.balcao_order.customer_name}`:""}`});const xe=q.get(ue);xe.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.unit_price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time}:void 0}),xe.total+=P.unit_price*P.quantity}),V(Array.from(q.values()))}catch(D){console.error("Erro ao buscar pedidos da cozinha:",D)}};v.useEffect(()=>{fe(),ae();const D=de.channel("kitchen-orders-realtime").on("postgres_changes",{event:"*",schema:"public",table:"comanda_items"},I=>{console.log(" SUBSCRIPTION ATIVADA - comanda_items:",I),console.log("Event Type:",I.eventType),console.log("New data:",I.new),console.log("Old data:",I.old),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar..."),fe(),ae()},100),I.eventType==="INSERT"?console.log(" Novo item inserido na comanda"):I.eventType==="UPDATE"?console.log(" Item da comanda atualizado"):I.eventType==="DELETE"&&console.log(" Item da comanda removido")}).on("postgres_changes",{event:"*",schema:"public",table:"comandas"},I=>{console.log(" SUBSCRIPTION ATIVADA - comandas:",I),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar (comandas)..."),fe(),ae()},100)}).on("postgres_changes",{event:"*",schema:"public",table:"balcao_orders"},I=>{console.log(" SUBSCRIPTION ATIVADA - balcao_orders:",I),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar (balco)..."),fe(),ae()},100)}).on("postgres_changes",{event:"*",schema:"public",table:"balcao_order_items"},I=>{console.log(" SUBSCRIPTION ATIVADA - balcao_order_items:",I),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar (itens balco)..."),fe(),ae()},100)}).subscribe(I=>{console.log(" Status da subscription kitchen-orders:",I),I==="SUBSCRIBED"?console.log(" Subscription ativa e funcionando!"):I==="CHANNEL_ERROR"&&console.error(" Erro na subscription!")});return()=>{console.log(" Desconectando subscription kitchen-orders"),D.unsubscribe()}},[]);const se=F.filter(D=>D.items.length>0),L=W.filter(D=>D.items.length>0);return r.jsx(Yv.Provider,{value:{menuItems:e,addMenuItem:_,updateMenuItem:w,removeMenuItem:C,orders:i,addOrder:N,updateOrderStatus:k,kitchenOrders:se,barOrders:L,refreshKitchenOrders:fe,refreshBarOrders:ae,inventory:u,inventoryCategories:f,addInventoryItem:O,updateInventoryItem:E,removeInventoryItem:T,members:p,addMember:S,updateMember:R,notifications:y,addNotification:z,clearNotifications:$},children:s})},rm=v.createContext({});function im(s){const e=v.useRef(null);return e.current===null&&(e.current=s()),e.current}const om=typeof window<"u",Xv=om?v.useLayoutEffect:v.useEffect,Jc=v.createContext(null);function lm(s,e){s.indexOf(e)===-1&&s.push(e)}function cm(s,e){const n=s.indexOf(e);n>-1&&s.splice(n,1)}const Ta=(s,e,n)=>n>e?e:n<s?s:n;let um=()=>{};const Ca={},Kv=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function Qv(s){return typeof s=="object"&&s!==null}const Wv=s=>/^0[^.\s]+$/u.test(s);function dm(s){let e;return()=>(e===void 0&&(e=s()),e)}const As=s=>s,tC=(s,e)=>n=>e(s(n)),Xo=(...s)=>s.reduce(tC),Bo=(s,e,n)=>{const i=e-s;return i===0?1:(n-s)/i};class hm{constructor(){this.subscriptions=[]}add(e){return lm(this.subscriptions,e),()=>cm(this.subscriptions,e)}notify(e,n,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,i);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ea=s=>s*1e3,ta=s=>s/1e3;function Zv(s,e){return e?s*(1e3/e):0}const Jv=(s,e,n)=>(((1-3*n+3*e)*s+(3*n-6*e))*s+3*e)*s,sC=1e-7,aC=12;function nC(s,e,n,i,l){let u,d,f=0;do d=e+(n-e)/2,u=Jv(d,i,l)-s,u>0?n=d:e=d;while(Math.abs(u)>sC&&++f<aC);return d}function Ko(s,e,n,i){if(s===e&&n===i)return As;const l=u=>nC(u,0,1,s,n);return u=>u===0||u===1?u:Jv(l(u),e,i)}const ew=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,tw=s=>e=>1-s(1-e),sw=Ko(.33,1.53,.69,.99),fm=tw(sw),aw=ew(fm),nw=s=>(s*=2)<1?.5*fm(s):.5*(2-Math.pow(2,-10*(s-1))),mm=s=>1-Math.sin(Math.acos(s)),rw=tw(mm),iw=ew(mm),rC=Ko(.42,0,1,1),iC=Ko(0,0,.58,1),ow=Ko(.42,0,.58,1),oC=s=>Array.isArray(s)&&typeof s[0]!="number",lw=s=>Array.isArray(s)&&typeof s[0]=="number",lC={linear:As,easeIn:rC,easeInOut:ow,easeOut:iC,circIn:mm,circInOut:iw,circOut:rw,backIn:fm,backInOut:aw,backOut:sw,anticipate:nw},cC=s=>typeof s=="string",Ty=s=>{if(lw(s)){um(s.length===4);const[e,n,i,l]=s;return Ko(e,n,i,l)}else if(cC(s))return lC[s];return s},yc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uC(s,e){let n=new Set,i=new Set,l=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function g(m){d.has(m)&&(p.schedule(m),s()),m(f)}const p={schedule:(m,y=!1,b=!1)=>{const w=b&&l?n:i;return y&&d.add(m),w.has(m)||w.add(m),m},cancel:m=>{i.delete(m),d.delete(m)},process:m=>{if(f=m,l){u=!0;return}l=!0,[n,i]=[i,n],n.forEach(g),n.clear(),l=!1,u&&(u=!1,p.process(m))}};return p}const dC=40;function cw(s,e){let n=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,d=yc.reduce((E,T)=>(E[T]=uC(u),E),{}),{setup:f,read:g,resolveKeyframes:p,preUpdate:m,update:y,preRender:b,render:_,postRender:w}=d,C=()=>{const E=Ca.useManualTiming?l.timestamp:performance.now();n=!1,Ca.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(E-l.timestamp,dC),1)),l.timestamp=E,l.isProcessing=!0,f.process(l),g.process(l),p.process(l),m.process(l),y.process(l),b.process(l),_.process(l),w.process(l),l.isProcessing=!1,n&&e&&(i=!1,s(C))},N=()=>{n=!0,i=!0,l.isProcessing||s(C)};return{schedule:yc.reduce((E,T)=>{const S=d[T];return E[T]=(R,z=!1,$=!1)=>(n||N(),S.schedule(R,z,$)),E},{}),cancel:E=>{for(let T=0;T<yc.length;T++)d[yc[T]].cancel(E)},state:l,steps:d}}const{schedule:at,cancel:rn,state:Ut,steps:Uh}=cw(typeof requestAnimationFrame<"u"?requestAnimationFrame:As,!0);let Nc;function hC(){Nc=void 0}const as={now:()=>(Nc===void 0&&as.set(Ut.isProcessing||Ca.useManualTiming?Ut.timestamp:performance.now()),Nc),set:s=>{Nc=s,queueMicrotask(hC)}},uw=s=>e=>typeof e=="string"&&e.startsWith(s),gm=uw("--"),fC=uw("var(--"),pm=s=>fC(s)?mC.test(s.split("/*")[0].trim()):!1,mC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fi={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},zo={...fi,transform:s=>Ta(0,1,s)},bc={...fi,default:1},Eo=s=>Math.round(s*1e5)/1e5,xm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gC(s){return s==null}const pC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ym=(s,e)=>n=>!!(typeof n=="string"&&pC.test(n)&&n.startsWith(s)||e&&!gC(n)&&Object.prototype.hasOwnProperty.call(n,e)),dw=(s,e,n)=>i=>{if(typeof i!="string")return i;const[l,u,d,f]=i.match(xm);return{[s]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},xC=s=>Ta(0,255,s),Vh={...fi,transform:s=>Math.round(xC(s))},Un={test:ym("rgb","red"),parse:dw("red","green","blue"),transform:({red:s,green:e,blue:n,alpha:i=1})=>"rgba("+Vh.transform(s)+", "+Vh.transform(e)+", "+Vh.transform(n)+", "+Eo(zo.transform(i))+")"};function yC(s){let e="",n="",i="",l="";return s.length>5?(e=s.substring(1,3),n=s.substring(3,5),i=s.substring(5,7),l=s.substring(7,9)):(e=s.substring(1,2),n=s.substring(2,3),i=s.substring(3,4),l=s.substring(4,5),e+=e,n+=n,i+=i,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const yf={test:ym("#"),parse:yC,transform:Un.transform},Qo=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),sn=Qo("deg"),sa=Qo("%"),Ee=Qo("px"),bC=Qo("vh"),vC=Qo("vw"),Cy={...sa,parse:s=>sa.parse(s)/100,transform:s=>sa.transform(s*100)},Zr={test:ym("hsl","hue"),parse:dw("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(s)+", "+sa.transform(Eo(e))+", "+sa.transform(Eo(n))+", "+Eo(zo.transform(i))+")"},vt={test:s=>Un.test(s)||yf.test(s)||Zr.test(s),parse:s=>Un.test(s)?Un.parse(s):Zr.test(s)?Zr.parse(s):yf.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Un.transform(s):Zr.transform(s),getAnimatableNone:s=>{const e=vt.parse(s);return e.alpha=0,vt.transform(e)}},wC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jC(s){var e,n;return isNaN(s)&&typeof s=="string"&&(((e=s.match(xm))==null?void 0:e.length)||0)+(((n=s.match(wC))==null?void 0:n.length)||0)>0}const hw="number",fw="color",_C="var",NC="var(",Ey="${}",SC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uo(s){const e=s.toString(),n=[],i={color:[],number:[],var:[]},l=[];let u=0;const f=e.replace(SC,g=>(vt.test(g)?(i.color.push(u),l.push(fw),n.push(vt.parse(g))):g.startsWith(NC)?(i.var.push(u),l.push(_C),n.push(g)):(i.number.push(u),l.push(hw),n.push(parseFloat(g))),++u,Ey)).split(Ey);return{values:n,split:f,indexes:i,types:l}}function mw(s){return Uo(s).values}function gw(s){const{split:e,types:n}=Uo(s),i=e.length;return l=>{let u="";for(let d=0;d<i;d++)if(u+=e[d],l[d]!==void 0){const f=n[d];f===hw?u+=Eo(l[d]):f===fw?u+=vt.transform(l[d]):u+=l[d]}return u}}const TC=s=>typeof s=="number"?0:vt.test(s)?vt.getAnimatableNone(s):s;function CC(s){const e=mw(s);return gw(s)(e.map(TC))}const on={test:jC,parse:mw,createTransformer:gw,getAnimatableNone:CC};function qh(s,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+(e-s)*6*n:n<1/2?e:n<2/3?s+(e-s)*(2/3-n)*6:s}function EC({hue:s,saturation:e,lightness:n,alpha:i}){s/=360,e/=100,n/=100;let l=0,u=0,d=0;if(!e)l=u=d=n;else{const f=n<.5?n*(1+e):n+e-n*e,g=2*n-f;l=qh(g,f,s+1/3),u=qh(g,f,s),d=qh(g,f,s-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function Rc(s,e){return n=>n>0?e:s}const it=(s,e,n)=>s+(e-s)*n,$h=(s,e,n)=>{const i=s*s,l=n*(e*e-i)+i;return l<0?0:Math.sqrt(l)},AC=[yf,Un,Zr],kC=s=>AC.find(e=>e.test(s));function Ay(s){const e=kC(s);if(!e)return!1;let n=e.parse(s);return e===Zr&&(n=EC(n)),n}const ky=(s,e)=>{const n=Ay(s),i=Ay(e);if(!n||!i)return Rc(s,e);const l={...n};return u=>(l.red=$h(n.red,i.red,u),l.green=$h(n.green,i.green,u),l.blue=$h(n.blue,i.blue,u),l.alpha=it(n.alpha,i.alpha,u),Un.transform(l))},bf=new Set(["none","hidden"]);function MC(s,e){return bf.has(s)?n=>n<=0?s:e:n=>n>=1?e:s}function OC(s,e){return n=>it(s,e,n)}function bm(s){return typeof s=="number"?OC:typeof s=="string"?pm(s)?Rc:vt.test(s)?ky:PC:Array.isArray(s)?pw:typeof s=="object"?vt.test(s)?ky:DC:Rc}function pw(s,e){const n=[...s],i=n.length,l=s.map((u,d)=>bm(u)(u,e[d]));return u=>{for(let d=0;d<i;d++)n[d]=l[d](u);return n}}function DC(s,e){const n={...s,...e},i={};for(const l in n)s[l]!==void 0&&e[l]!==void 0&&(i[l]=bm(s[l])(s[l],e[l]));return l=>{for(const u in i)n[u]=i[u](l);return n}}function RC(s,e){const n=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],d=s.indexes[u][i[u]],f=s.values[d]??0;n[l]=f,i[u]++}return n}const PC=(s,e)=>{const n=on.createTransformer(e),i=Uo(s),l=Uo(e);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?bf.has(s)&&!l.values.length||bf.has(e)&&!i.values.length?MC(s,e):Xo(pw(RC(i,l),l.values),n):Rc(s,e)};function xw(s,e,n){return typeof s=="number"&&typeof e=="number"&&typeof n=="number"?it(s,e,n):bm(s)(s,e)}const LC=s=>{const e=({timestamp:n})=>s(n);return{start:(n=!0)=>at.update(e,n),stop:()=>rn(e),now:()=>Ut.isProcessing?Ut.timestamp:as.now()}},yw=(s,e,n=10)=>{let i="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)i+=Math.round(s(u/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pc=2e4;function vm(s){let e=0;const n=50;let i=s.next(e);for(;!i.done&&e<Pc;)e+=n,i=s.next(e);return e>=Pc?1/0:e}function BC(s,e=100,n){const i=n({...s,keyframes:[0,e]}),l=Math.min(vm(i),Pc);return{type:"keyframes",ease:u=>i.next(l*u).value/e,duration:ta(l)}}const zC=5;function bw(s,e,n){const i=Math.max(e-zC,0);return Zv(n-s(i),e-i)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hh=.001;function UC({duration:s=ct.duration,bounce:e=ct.bounce,velocity:n=ct.velocity,mass:i=ct.mass}){let l,u,d=1-e;d=Ta(ct.minDamping,ct.maxDamping,d),s=Ta(ct.minDuration,ct.maxDuration,ta(s)),d<1?(l=p=>{const m=p*d,y=m*s,b=m-n,_=vf(p,d),w=Math.exp(-y);return Hh-b/_*w},u=p=>{const y=p*d*s,b=y*n+n,_=Math.pow(d,2)*Math.pow(p,2)*s,w=Math.exp(-y),C=vf(Math.pow(p,2),d);return(-l(p)+Hh>0?-1:1)*((b-_)*w)/C}):(l=p=>{const m=Math.exp(-p*s),y=(p-n)*s+1;return-Hh+m*y},u=p=>{const m=Math.exp(-p*s),y=(n-p)*(s*s);return m*y});const f=5/s,g=qC(l,u,f);if(s=ea(s),isNaN(g))return{stiffness:ct.stiffness,damping:ct.damping,duration:s};{const p=Math.pow(g,2)*i;return{stiffness:p,damping:d*2*Math.sqrt(i*p),duration:s}}}const VC=12;function qC(s,e,n){let i=n;for(let l=1;l<VC;l++)i=i-s(i)/e(i);return i}function vf(s,e){return s*Math.sqrt(1-e*e)}const $C=["duration","bounce"],HC=["stiffness","damping","mass"];function My(s,e){return e.some(n=>s[n]!==void 0)}function FC(s){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...s};if(!My(s,HC)&&My(s,$C))if(s.visualDuration){const n=s.visualDuration,i=2*Math.PI/(n*1.2),l=i*i,u=2*Ta(.05,1,1-(s.bounce||0))*Math.sqrt(l);e={...e,mass:ct.mass,stiffness:l,damping:u}}else{const n=UC(s);e={...e,...n,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function Lc(s=ct.visualDuration,e=ct.bounce){const n=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:i,restDelta:l}=n;const u=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],f={done:!1,value:u},{stiffness:g,damping:p,mass:m,duration:y,velocity:b,isResolvedFromDuration:_}=FC({...n,velocity:-ta(n.velocity||0)}),w=b||0,C=p/(2*Math.sqrt(g*m)),N=d-u,k=ta(Math.sqrt(g/m)),O=Math.abs(N)<5;i||(i=O?ct.restSpeed.granular:ct.restSpeed.default),l||(l=O?ct.restDelta.granular:ct.restDelta.default);let E;if(C<1){const S=vf(k,C);E=R=>{const z=Math.exp(-C*k*R);return d-z*((w+C*k*N)/S*Math.sin(S*R)+N*Math.cos(S*R))}}else if(C===1)E=S=>d-Math.exp(-k*S)*(N+(w+k*N)*S);else{const S=k*Math.sqrt(C*C-1);E=R=>{const z=Math.exp(-C*k*R),$=Math.min(S*R,300);return d-z*((w+C*k*N)*Math.sinh($)+S*N*Math.cosh($))/S}}const T={calculatedDuration:_&&y||null,next:S=>{const R=E(S);if(_)f.done=S>=y;else{let z=S===0?w:0;C<1&&(z=S===0?ea(w):bw(E,S,R));const $=Math.abs(z)<=i,F=Math.abs(d-R)<=l;f.done=$&&F}return f.value=f.done?d:R,f},toString:()=>{const S=Math.min(vm(T),Pc),R=yw(z=>T.next(S*z).value,S,30);return S+"ms "+R},toTransition:()=>{}};return T}Lc.applyToOptions=s=>{const e=BC(s,100,Lc);return s.ease=e.ease,s.duration=ea(e.duration),s.type="keyframes",s};function wf({keyframes:s,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:g,restDelta:p=.5,restSpeed:m}){const y=s[0],b={done:!1,value:y},_=$=>f!==void 0&&$<f||g!==void 0&&$>g,w=$=>f===void 0?g:g===void 0||Math.abs(f-$)<Math.abs(g-$)?f:g;let C=n*e;const N=y+C,k=d===void 0?N:d(N);k!==N&&(C=k-y);const O=$=>-C*Math.exp(-$/i),E=$=>k+O($),T=$=>{const F=O($),V=E($);b.done=Math.abs(F)<=p,b.value=b.done?k:V};let S,R;const z=$=>{_(b.value)&&(S=$,R=Lc({keyframes:[b.value,w(b.value)],velocity:bw(E,$,b.value),damping:l,stiffness:u,restDelta:p,restSpeed:m}))};return z(0),{calculatedDuration:null,next:$=>{let F=!1;return!R&&S===void 0&&(F=!0,T($),z($)),S!==void 0&&$>=S?R.next($-S):(!F&&T($),b)}}}function IC(s,e,n){const i=[],l=n||Ca.mix||xw,u=s.length-1;for(let d=0;d<u;d++){let f=l(s[d],s[d+1]);if(e){const g=Array.isArray(e)?e[d]||As:e;f=Xo(g,f)}i.push(f)}return i}function GC(s,e,{clamp:n=!0,ease:i,mixer:l}={}){const u=s.length;if(um(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const d=s[0]===s[1];s[0]>s[u-1]&&(s=[...s].reverse(),e=[...e].reverse());const f=IC(e,i,l),g=f.length,p=m=>{if(d&&m<s[0])return e[0];let y=0;if(g>1)for(;y<s.length-2&&!(m<s[y+1]);y++);const b=Bo(s[y],s[y+1],m);return f[y](b)};return n?m=>p(Ta(s[0],s[u-1],m)):p}function YC(s,e){const n=s[s.length-1];for(let i=1;i<=e;i++){const l=Bo(0,e,i);s.push(it(n,1,l))}}function XC(s){const e=[0];return YC(e,s.length-1),e}function KC(s,e){return s.map(n=>n*e)}function QC(s,e){return s.map(()=>e||ow).splice(0,s.length-1)}function Ao({duration:s=300,keyframes:e,times:n,ease:i="easeInOut"}){const l=oC(i)?i.map(Ty):Ty(i),u={done:!1,value:e[0]},d=KC(n&&n.length===e.length?n:XC(e),s),f=GC(d,e,{ease:Array.isArray(l)?l:QC(e,l)});return{calculatedDuration:s,next:g=>(u.value=f(g),u.done=g>=s,u)}}const WC=s=>s!==null;function wm(s,{repeat:e,repeatType:n="loop"},i,l=1){const u=s.filter(WC),f=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!f||i===void 0?u[f]:i}const ZC={decay:wf,inertia:wf,tween:Ao,keyframes:Ao,spring:Lc};function vw(s){typeof s.type=="string"&&(s.type=ZC[s.type])}class jm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const JC=s=>s/100;class _m extends jm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,l;const{motionValue:n}=this.options;n&&n.updatedAt!==as.now()&&this.tick(as.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(i=this.options).onStop)==null||l.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vw(e);const{type:n=Ao,repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=e;let{keyframes:f}=e;const g=n||Ao;g!==Ao&&typeof f[0]!="number"&&(this.mixKeyframes=Xo(JC,xw(f[0],f[1])),f=[0,100]);const p=g({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...f].reverse(),velocity:-d})),p.calculatedDuration===null&&(p.calculatedDuration=vm(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:l,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:b,repeatDelay:_,type:w,onUpdate:C,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let E=this.currentTime,T=i;if(y){const $=Math.min(this.currentTime,l)/f;let F=Math.floor($),V=$%1;!V&&$>=1&&(V=1),V===1&&F--,F=Math.min(F,y+1),!!(F%2)&&(b==="reverse"?(V=1-V,_&&(V-=_/f)):b==="mirror"&&(T=d)),E=Ta(0,1,V)*f}const S=O?{done:!1,value:m[0]}:T.next(E);u&&(S.value=u(S.value));let{done:R}=S;!O&&g!==null&&(R=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return z&&w!==wf&&(S.value=wm(m,this.options,N,this.speed)),C&&C(S.value),z&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return ta(this.calculatedDuration)}get time(){return ta(this.currentTime)}set time(e){var n;e=ea(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(as.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ta(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=LC,startTime:n}=this.options;this.driver||(this.driver=e(d=>this.tick(d))),(u=(l=this.options).onPlay)==null||u.call(l);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(as.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function eE(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const Vn=s=>s*180/Math.PI,jf=s=>{const e=Vn(Math.atan2(s[1],s[0]));return _f(e)},tE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:jf,rotateZ:jf,skewX:s=>Vn(Math.atan(s[1])),skewY:s=>Vn(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},_f=s=>(s=s%360,s<0&&(s+=360),s),Oy=jf,Dy=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Ry=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),sE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dy,scaleY:Ry,scale:s=>(Dy(s)+Ry(s))/2,rotateX:s=>_f(Vn(Math.atan2(s[6],s[5]))),rotateY:s=>_f(Vn(Math.atan2(-s[2],s[0]))),rotateZ:Oy,rotate:Oy,skewX:s=>Vn(Math.atan(s[4])),skewY:s=>Vn(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function Nf(s){return s.includes("scale")?1:0}function Sf(s,e){if(!s||s==="none")return Nf(e);const n=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(n)i=sE,l=n;else{const f=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=tE,l=f}if(!l)return Nf(e);const u=i[e],d=l[1].split(",").map(nE);return typeof u=="function"?u(d):d[u]}const aE=(s,e)=>{const{transform:n="none"}=getComputedStyle(s);return Sf(n,e)};function nE(s){return parseFloat(s.trim())}const mi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(mi),Py=s=>s===fi||s===Ee,rE=new Set(["x","y","z"]),iE=mi.filter(s=>!rE.has(s));function oE(s){const e=[];return iE.forEach(n=>{const i=s.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const $n={width:({x:s},{paddingLeft:e="0",paddingRight:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),height:({y:s},{paddingTop:e="0",paddingBottom:n="0"})=>s.max-s.min-parseFloat(e)-parseFloat(n),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>Sf(e,"x"),y:(s,{transform:e})=>Sf(e,"y")};$n.translateX=$n.x;$n.translateY=$n.y;const Hn=new Set;let Tf=!1,Cf=!1,Ef=!1;function ww(){if(Cf){const s=Array.from(Hn).filter(i=>i.needsMeasurement),e=new Set(s.map(i=>i.element)),n=new Map;e.forEach(i=>{const l=oE(i);l.length&&(n.set(i,l),i.render())}),s.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const l=n.get(i);l&&l.forEach(([u,d])=>{var f;(f=i.getValue(u))==null||f.set(d)})}),s.forEach(i=>i.measureEndState()),s.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cf=!1,Tf=!1,Hn.forEach(s=>s.complete(Ef)),Hn.clear()}function jw(){Hn.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Cf=!0)})}function lE(){Ef=!0,jw(),ww(),Ef=!1}class Nm{constructor(e,n,i,l,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Hn.add(this),Tf||(Tf=!0,at.read(jw),at.resolveKeyframes(ww))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const f=i.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),l&&u===void 0&&l.set(e[0])}eE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hn.delete(this)}cancel(){this.state==="scheduled"&&(Hn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cE=s=>s.startsWith("--");function uE(s,e,n){cE(e)?s.style.setProperty(e,n):s.style[e]=n}const dE=dm(()=>window.ScrollTimeline!==void 0),hE={};function fE(s,e){const n=dm(s);return()=>hE[e]??n()}const _w=fE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),No=([s,e,n,i])=>`cubic-bezier(${s}, ${e}, ${n}, ${i})`,Ly={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:No([0,.65,.55,1]),circOut:No([.55,0,1,.45]),backIn:No([.31,.01,.66,-.59]),backOut:No([.33,1.53,.69,.99])};function Nw(s,e){if(s)return typeof s=="function"?_w()?yw(s,e):"ease-out":lw(s)?No(s):Array.isArray(s)?s.map(n=>Nw(n,e)||Ly.easeOut):Ly[s]}function mE(s,e,n,{delay:i=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:g}={},p=void 0){const m={[e]:n};g&&(m.offset=g);const y=Nw(f,l);Array.isArray(y)&&(m.easing=y);const b={delay:i,duration:l,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),s.animate(m,b)}function Sw(s){return typeof s=="function"&&"applyToOptions"in s}function gE({type:s,...e}){return Sw(s)&&_w()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pE extends jm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:l,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:g}=e;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=e,um(typeof e.type!="string");const p=gE(e);this.animation=mE(n,i,l,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const m=wm(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(m):uE(n,i,m),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return ta(Number(e))}get time(){return ta(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ea(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dE()?(this.animation.timeline=e,As):n(this)}}const Tw={anticipate:nw,backInOut:aw,circInOut:iw};function xE(s){return s in Tw}function yE(s){typeof s.ease=="string"&&xE(s.ease)&&(s.ease=Tw[s.ease])}const By=10;class bE extends pE{constructor(e){yE(e),vw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:l,element:u,...d}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new _m({...d,autoplay:!1}),g=ea(this.finishedTime??this.time);n.setWithVelocity(f.sample(g-By).value,f.sample(g).value,By),f.stop()}}const zy=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(on.test(s)||s==="0")&&!s.startsWith("url("));function vE(s){const e=s[0];if(s.length===1)return!0;for(let n=0;n<s.length;n++)if(s[n]!==e)return!0}function wE(s,e,n,i){const l=s[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=s[s.length-1],d=zy(l,e),f=zy(u,e);return!d||!f?!1:vE(s)||(n==="spring"||Sw(n))&&i}function Af(s){s.duration=0,s.type}const jE=new Set(["opacity","clipPath","filter","transform"]),_E=dm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NE(s){var m;const{motionValue:e,name:n,repeatDelay:i,repeatType:l,damping:u,type:d}=s;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=e.owner.getProps();return _E()&&n&&jE.has(n)&&(n!=="transform"||!p)&&!g&&!i&&l!=="mirror"&&u!==0&&d!=="inertia"}const SE=40;class TE extends jm{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:g,motionValue:p,element:m,...y}){var w;super(),this.stop=()=>{var C,N;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=as.now();const b={autoplay:e,delay:n,type:i,repeat:l,repeatDelay:u,repeatType:d,name:g,motionValue:p,element:m,...y},_=(m==null?void 0:m.KeyframeResolver)||Nm;this.keyframeResolver=new _(f,(C,N,k)=>this.onKeyframesResolved(C,N,b,!k),g,p,m),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,i,l){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:g,isHandoff:p,onUpdate:m}=i;this.resolvedAt=as.now(),wE(e,u,d,f)||((Ca.instantAnimations||!g)&&(m==null||m(wm(e,i,n))),e[0]=e[e.length-1],Af(i),i.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>SE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!p&&NE(b)?new bE({...b,element:b.motionValue.owner.current}):new _m(b);_.finished.then(()=>this.notifyFinished()).catch(As),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),lE()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const CE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EE(s){const e=CE.exec(s);if(!e)return[,];const[,n,i,l]=e;return[`--${n??i}`,l]}function Cw(s,e,n=1){const[i,l]=EE(s);if(!i)return;const u=window.getComputedStyle(e).getPropertyValue(i);if(u){const d=u.trim();return Kv(d)?parseFloat(d):d}return pm(l)?Cw(l,e,n+1):l}function Sm(s,e){return(s==null?void 0:s[e])??(s==null?void 0:s.default)??s}const Ew=new Set(["width","height","top","left","right","bottom",...mi]),AE={test:s=>s==="auto",parse:s=>s},Aw=s=>e=>e.test(s),kw=[fi,Ee,sa,sn,vC,bC,AE],Uy=s=>kw.find(Aw(s));function kE(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||Wv(s):!0}const ME=new Set(["brightness","contrast","saturate","opacity"]);function OE(s){const[e,n]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[i]=n.match(xm)||[];if(!i)return s;const l=n.replace(i,"");let u=ME.has(e)?1:0;return i!==n&&(u*=100),e+"("+u+l+")"}const DE=/\b([a-z-]*)\(.*?\)/gu,kf={...on,getAnimatableNone:s=>{const e=s.match(DE);return e?e.map(OE).join(" "):s}},Vy={...fi,transform:Math.round},RE={rotate:sn,rotateX:sn,rotateY:sn,rotateZ:sn,scale:bc,scaleX:bc,scaleY:bc,scaleZ:bc,skew:sn,skewX:sn,skewY:sn,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:zo,originX:Cy,originY:Cy,originZ:Ee},Tm={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...RE,zIndex:Vy,fillOpacity:zo,strokeOpacity:zo,numOctaves:Vy},PE={...Tm,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:kf,WebkitFilter:kf},Mw=s=>PE[s];function Ow(s,e){let n=Mw(s);return n!==kf&&(n=on),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LE=new Set(["auto","none","0"]);function BE(s,e,n){let i=0,l;for(;i<s.length&&!l;){const u=s[i];typeof u=="string"&&!LE.has(u)&&Uo(u).values.length&&(l=s[i]),i++}if(l&&n)for(const u of e)s[u]=Ow(n,l)}class zE extends Nm{constructor(e,n,i,l,u){super(e,n,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let p=e[g];if(typeof p=="string"&&(p=p.trim(),pm(p))){const m=Cw(p,n.current);m!==void 0&&(e[g]=m),g===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Ew.has(i)||e.length!==2)return;const[l,u]=e,d=Uy(l),f=Uy(u);if(d!==f)if(Py(d)&&Py(f))for(let g=0;g<e.length;g++){const p=e[g];typeof p=="string"&&(e[g]=parseFloat(p))}else $n[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let l=0;l<e.length;l++)(e[l]===null||kE(e[l]))&&i.push(l);i.length&&BE(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$n[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(i,l).jump(l,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=$n[n](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([g,p])=>{e.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function UE(s,e,n){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let i=document;const l=(n==null?void 0:n[s])??i.querySelectorAll(s);return l?Array.from(l):[]}return Array.from(s)}const Dw=(s,e)=>e&&typeof s=="number"?e.transform(s):s;function Rw(s){return Qv(s)&&"offsetHeight"in s}const qy=30,VE=s=>!isNaN(parseFloat(s));class qE{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var u;const l=as.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=as.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hm);const i=this.events[e].add(n);return e==="change"?()=>{i(),at.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=as.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qy);return Zv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ii(s,e){return new qE(s,e)}const{schedule:Cm}=cw(queueMicrotask,!1),Ps={x:!1,y:!1};function Pw(){return Ps.x||Ps.y}function $E(s){return s==="x"||s==="y"?Ps[s]?null:(Ps[s]=!0,()=>{Ps[s]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function Lw(s,e){const n=UE(s),i=new AbortController,l={passive:!0,...e,signal:i.signal};return[n,l,()=>i.abort()]}function $y(s){return!(s.pointerType==="touch"||Pw())}function HE(s,e,n={}){const[i,l,u]=Lw(s,n),d=f=>{if(!$y(f))return;const{target:g}=f,p=e(g,f);if(typeof p!="function"||!g)return;const m=y=>{$y(y)&&(p(y),g.removeEventListener("pointerleave",m))};g.addEventListener("pointerleave",m,l)};return i.forEach(f=>{f.addEventListener("pointerenter",d,l)}),u}const Bw=(s,e)=>e?s===e?!0:Bw(s,e.parentElement):!1,Em=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,FE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IE(s){return FE.has(s.tagName)||s.tabIndex!==-1}const Sc=new WeakSet;function Hy(s){return e=>{e.key==="Enter"&&s(e)}}function Fh(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GE=(s,e)=>{const n=s.currentTarget;if(!n)return;const i=Hy(()=>{if(Sc.has(n))return;Fh(n,"down");const l=Hy(()=>{Fh(n,"up")}),u=()=>Fh(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Fy(s){return Em(s)&&!Pw()}function YE(s,e,n={}){const[i,l,u]=Lw(s,n),d=f=>{const g=f.currentTarget;if(!Fy(f))return;Sc.add(g);const p=e(g,f),m=(_,w)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),Sc.has(g)&&Sc.delete(g),Fy(_)&&typeof p=="function"&&p(_,{success:w})},y=_=>{m(_,g===window||g===document||n.useGlobalTarget||Bw(g,_.target))},b=_=>{m(_,!1)};window.addEventListener("pointerup",y,l),window.addEventListener("pointercancel",b,l)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",d,l),Rw(f)&&(f.addEventListener("focus",p=>GE(p,l)),!IE(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function zw(s){return Qv(s)&&"ownerSVGElement"in s}function XE(s){return zw(s)&&s.tagName==="svg"}const Ft=s=>!!(s&&s.getVelocity),KE=[...kw,vt,on],QE=s=>KE.find(Aw(s)),Am=v.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class WE extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,l=Rw(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZE({children:s,isPresent:e,anchorX:n,root:i}){const l=v.useId(),u=v.useRef(null),d=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=v.useContext(Am);return v.useInsertionEffect(()=>{const{width:g,height:p,top:m,left:y,right:b}=d.current;if(e||!u.current||!g||!p)return;const _=n==="left"?`left: ${y}`:`right: ${b}`;u.current.dataset.motionPopId=l;const w=document.createElement("style");f&&(w.nonce=f);const C=i??document.head;return C.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${p}px !important;
            ${_}px !important;
            top: ${m}px !important;
          }
        `),()=>{C.contains(w)&&C.removeChild(w)}},[e]),r.jsx(WE,{isPresent:e,childRef:u,sizeRef:d,children:v.cloneElement(s,{ref:u})})}const JE=({children:s,initial:e,isPresent:n,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:d,anchorX:f,root:g})=>{const p=im(e4),m=v.useId();let y=!0,b=v.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:l,onExitComplete:_=>{p.set(_,!0);for(const w of p.values())if(!w)return;i&&i()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[n,p,i]);return u&&y&&(b={...b}),v.useMemo(()=>{p.forEach((_,w)=>p.set(w,!1))},[n]),v.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),d==="popLayout"&&(s=r.jsx(ZE,{isPresent:n,anchorX:f,root:g,children:s})),r.jsx(Jc.Provider,{value:b,children:s})};function e4(){return new Map}function Uw(s=!0){const e=v.useContext(Jc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:l}=e,u=v.useId();v.useEffect(()=>{if(s)return l(u)},[s]);const d=v.useCallback(()=>s&&i&&i(u),[u,i,s]);return!n&&i?[!1,d]:[!0]}const vc=s=>s.key||"";function Iy(s){const e=[];return v.Children.forEach(s,n=>{v.isValidElement(n)&&e.push(n)}),e}const Xn=({children:s,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",root:g})=>{const[p,m]=Uw(d),y=v.useMemo(()=>Iy(s),[s]),b=d&&!p?[]:y.map(vc),_=v.useRef(!0),w=v.useRef(y),C=im(()=>new Map),[N,k]=v.useState(y),[O,E]=v.useState(y);Xv(()=>{_.current=!1,w.current=y;for(let R=0;R<O.length;R++){const z=vc(O[R]);b.includes(z)?C.delete(z):C.get(z)!==!0&&C.set(z,!1)}},[O,b.length,b.join("-")]);const T=[];if(y!==N){let R=[...y];for(let z=0;z<O.length;z++){const $=O[z],F=vc($);b.includes(F)||(R.splice(z,0,$),T.push($))}return u==="wait"&&T.length&&(R=T),E(Iy(R)),k(y),null}const{forceRender:S}=v.useContext(rm);return r.jsx(r.Fragment,{children:O.map(R=>{const z=vc(R),$=d&&!p?!1:y===O||b.includes(z),F=()=>{if(C.has(z))C.set(z,!0);else return;let V=!0;C.forEach(W=>{W||(V=!1)}),V&&(S==null||S(),E(w.current),d&&(m==null||m()),i&&i())};return r.jsx(JE,{isPresent:$,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:g,onExitComplete:$?void 0:F,anchorX:f,children:R},z)})})},Vw=v.createContext({strict:!1}),Gy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oi={};for(const s in Gy)oi[s]={isEnabled:e=>Gy[s].some(n=>!!e[n])};function t4(s){for(const e in s)oi[e]={...oi[e],...s[e]}}const s4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||s4.has(s)}let qw=s=>!Bc(s);function a4(s){typeof s=="function"&&(qw=e=>e.startsWith("on")?!Bc(e):s(e))}try{a4(require("@emotion/is-prop-valid").default)}catch{}function n4(s,e,n){const i={};for(const l in s)l==="values"&&typeof s.values=="object"||(qw(l)||n===!0&&Bc(l)||!e&&!Bc(l)||s.draggable&&l.startsWith("onDrag"))&&(i[l]=s[l]);return i}const eu=v.createContext({});function tu(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Vo(s){return typeof s=="string"||Array.isArray(s)}const km=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mm=["initial",...km];function su(s){return tu(s.animate)||Mm.some(e=>Vo(s[e]))}function $w(s){return!!(su(s)||s.variants)}function r4(s,e){if(su(s)){const{initial:n,animate:i}=s;return{initial:n===!1||Vo(n)?n:void 0,animate:Vo(i)?i:void 0}}return s.inherit!==!1?e:{}}function i4(s){const{initial:e,animate:n}=r4(s,v.useContext(eu));return v.useMemo(()=>({initial:e,animate:n}),[Yy(e),Yy(n)])}function Yy(s){return Array.isArray(s)?s.join(" "):s}const qo={};function o4(s){for(const e in s)qo[e]=s[e],gm(e)&&(qo[e].isCSSVariable=!0)}function Hw(s,{layout:e,layoutId:n}){return gi.has(s)||s.startsWith("origin")||(e||n!==void 0)&&(!!qo[s]||s==="opacity")}const l4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c4=mi.length;function u4(s,e,n){let i="",l=!0;for(let u=0;u<c4;u++){const d=mi[u],f=s[d];if(f===void 0)continue;let g=!0;if(typeof f=="number"?g=f===(d.startsWith("scale")?1:0):g=parseFloat(f)===0,!g||n){const p=Dw(f,Tm[d]);if(!g){l=!1;const m=l4[d]||d;i+=`${m}(${p}) `}n&&(e[d]=p)}}return i=i.trim(),n?i=n(e,l?"":i):l&&(i="none"),i}function Om(s,e,n){const{style:i,vars:l,transformOrigin:u}=s;let d=!1,f=!1;for(const g in e){const p=e[g];if(gi.has(g)){d=!0;continue}else if(gm(g)){l[g]=p;continue}else{const m=Dw(p,Tm[g]);g.startsWith("origin")?(f=!0,u[g]=m):i[g]=m}}if(e.transform||(d||n?i.transform=u4(e,s.transform,n):i.transform&&(i.transform="none")),f){const{originX:g="50%",originY:p="50%",originZ:m=0}=u;i.transformOrigin=`${g} ${p} ${m}`}}const Dm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fw(s,e,n){for(const i in e)!Ft(e[i])&&!Hw(i,n)&&(s[i]=e[i])}function d4({transformTemplate:s},e){return v.useMemo(()=>{const n=Dm();return Om(n,e,s),Object.assign({},n.vars,n.style)},[e])}function h4(s,e){const n=s.style||{},i={};return Fw(i,n,s),Object.assign(i,d4(s,e)),i}function f4(s,e){const n={},i=h4(s,e);return s.drag&&s.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(n.tabIndex=0),n.style=i,n}const m4={offset:"stroke-dashoffset",array:"stroke-dasharray"},g4={offset:"strokeDashoffset",array:"strokeDasharray"};function p4(s,e,n=1,i=0,l=!0){s.pathLength=1;const u=l?m4:g4;s[u.offset]=Ee.transform(-i);const d=Ee.transform(e),f=Ee.transform(n);s[u.array]=`${d} ${f}`}function Iw(s,{attrX:e,attrY:n,attrScale:i,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...f},g,p,m){if(Om(s,f,p),g){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:y,style:b}=s;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),l!==void 0&&p4(y,l,u,d,!1)}const Gw=()=>({...Dm(),attrs:{}}),Yw=s=>typeof s=="string"&&s.toLowerCase()==="svg";function x4(s,e,n,i){const l=v.useMemo(()=>{const u=Gw();return Iw(u,e,Yw(i),s.transformTemplate,s.style),{...u.attrs,style:{...u.style}}},[e]);if(s.style){const u={};Fw(u,s.style,s),l.style={...u,...l.style}}return l}const y4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rm(s){return typeof s!="string"||s.includes("-")?!1:!!(y4.indexOf(s)>-1||/[A-Z]/u.test(s))}function b4(s,e,n,{latestValues:i},l,u=!1){const f=(Rm(s)?x4:f4)(e,i,l,s),g=n4(e,typeof s=="string",u),p=s!==v.Fragment?{...g,...f,ref:n}:{},{children:m}=e,y=v.useMemo(()=>Ft(m)?m.get():m,[m]);return v.createElement(s,{...p,children:y})}function Xy(s){const e=[{},{}];return s==null||s.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Pm(s,e,n,i){if(typeof e=="function"){const[l,u]=Xy(i);e=e(n!==void 0?n:s.custom,l,u)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[l,u]=Xy(i);e=e(n!==void 0?n:s.custom,l,u)}return e}function Tc(s){return Ft(s)?s.get():s}function v4({scrapeMotionValuesFromProps:s,createRenderState:e},n,i,l){return{latestValues:w4(n,i,l,s),renderState:e()}}function w4(s,e,n,i){const l={},u=i(s,{});for(const b in u)l[b]=Tc(u[b]);let{initial:d,animate:f}=s;const g=su(s),p=$w(s);e&&p&&!g&&s.inherit!==!1&&(d===void 0&&(d=e.initial),f===void 0&&(f=e.animate));let m=n?n.initial===!1:!1;m=m||d===!1;const y=m?f:d;if(y&&typeof y!="boolean"&&!tu(y)){const b=Array.isArray(y)?y:[y];for(let _=0;_<b.length;_++){const w=Pm(s,b[_]);if(w){const{transitionEnd:C,transition:N,...k}=w;for(const O in k){let E=k[O];if(Array.isArray(E)){const T=m?E.length-1:0;E=E[T]}E!==null&&(l[O]=E)}for(const O in C)l[O]=C[O]}}}return l}const Xw=s=>(e,n)=>{const i=v.useContext(eu),l=v.useContext(Jc),u=()=>v4(s,e,i,l);return n?u():im(u)};function Lm(s,e,n){var u;const{style:i}=s,l={};for(const d in i)(Ft(i[d])||e.style&&Ft(e.style[d])||Hw(d,s)||((u=n==null?void 0:n.getValue(d))==null?void 0:u.liveStyle)!==void 0)&&(l[d]=i[d]);return l}const j4=Xw({scrapeMotionValuesFromProps:Lm,createRenderState:Dm});function Kw(s,e,n){const i=Lm(s,e,n);for(const l in s)if(Ft(s[l])||Ft(e[l])){const u=mi.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=s[l]}return i}const _4=Xw({scrapeMotionValuesFromProps:Kw,createRenderState:Gw}),N4=Symbol.for("motionComponentSymbol");function Jr(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function S4(s,e,n){return v.useCallback(i=>{i&&s.onMount&&s.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Jr(n)&&(n.current=i))},[e])}const Bm=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),T4="framerAppearId",Qw="data-"+Bm(T4),Ww=v.createContext({});function C4(s,e,n,i,l){var C,N;const{visualElement:u}=v.useContext(eu),d=v.useContext(Vw),f=v.useContext(Jc),g=v.useContext(Am).reducedMotion,p=v.useRef(null);i=i||d.renderer,!p.current&&i&&(p.current=i(s,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const m=p.current,y=v.useContext(Ww);m&&!m.projection&&l&&(m.type==="html"||m.type==="svg")&&E4(p.current,n,l,y);const b=v.useRef(!1);v.useInsertionEffect(()=>{m&&b.current&&m.update(n,f)});const _=n[Qw],w=v.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,_)));return Xv(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),w.current&&m.animationState&&m.animationState.animateChanges())}),v.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,_)}),w.current=!1),m.enteringChildren=void 0)}),m}function E4(s,e,n,i){const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:g,layoutRoot:p,layoutCrossfade:m}=e;s.projection=new n(s.latestValues,e["data-framer-portal-id"]?void 0:Zw(s.parent)),s.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Jr(f),visualElement:s,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:g,layoutRoot:p})}function Zw(s){if(s)return s.options.allowProjection!==!1?s.projection:Zw(s.parent)}function Ih(s,{forwardMotionProps:e=!1}={},n,i){n&&t4(n);const l=Rm(s)?_4:j4;function u(f,g){let p;const m={...v.useContext(Am),...f,layoutId:A4(f)},{isStatic:y}=m,b=i4(f),_=l(f,y);if(!y&&om){k4();const w=M4(m);p=w.MeasureLayout,b.visualElement=C4(s,_,m,i,w.ProjectionNode)}return r.jsxs(eu.Provider,{value:b,children:[p&&b.visualElement?r.jsx(p,{visualElement:b.visualElement,...m}):null,b4(s,f,S4(_,b.visualElement,g),_,y,e)]})}u.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const d=v.forwardRef(u);return d[N4]=s,d}function A4({layoutId:s}){const e=v.useContext(rm).id;return e&&s!==void 0?e+"-"+s:s}function k4(s,e){v.useContext(Vw).strict}function M4(s){const{drag:e,layout:n}=oi;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(s)||n!=null&&n.isEnabled(s)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function O4(s,e){if(typeof Proxy>"u")return Ih;const n=new Map,i=(u,d)=>Ih(u,d,s,e),l=(u,d)=>i(u,d);return new Proxy(l,{get:(u,d)=>d==="create"?i:(n.has(d)||n.set(d,Ih(d,void 0,s,e)),n.get(d))})}function Jw({top:s,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:s,max:i}}}function D4({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function R4(s,e){if(!e)return s;const n=e({x:s.left,y:s.top}),i=e({x:s.right,y:s.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Gh(s){return s===void 0||s===1}function Mf({scale:s,scaleX:e,scaleY:n}){return!Gh(s)||!Gh(e)||!Gh(n)}function Ln(s){return Mf(s)||ej(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function ej(s){return Ky(s.x)||Ky(s.y)}function Ky(s){return s&&s!=="0%"}function zc(s,e,n){const i=s-n,l=e*i;return n+l}function Qy(s,e,n,i,l){return l!==void 0&&(s=zc(s,l,i)),zc(s,n,i)+e}function Of(s,e=0,n=1,i,l){s.min=Qy(s.min,e,n,i,l),s.max=Qy(s.max,e,n,i,l)}function tj(s,{x:e,y:n}){Of(s.x,e.translate,e.scale,e.originPoint),Of(s.y,n.translate,n.scale,n.originPoint)}const Wy=.999999999999,Zy=1.0000000000001;function P4(s,e,n,i=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,d;for(let f=0;f<l;f++){u=n[f],d=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ti(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,tj(s,d)),i&&Ln(u.latestValues)&&ti(s,u.latestValues))}e.x<Zy&&e.x>Wy&&(e.x=1),e.y<Zy&&e.y>Wy&&(e.y=1)}function ei(s,e){s.min=s.min+e,s.max=s.max+e}function Jy(s,e,n,i,l=.5){const u=it(s.min,s.max,l);Of(s,e,n,u,i)}function ti(s,e){Jy(s.x,e.x,e.scaleX,e.scale,e.originX),Jy(s.y,e.y,e.scaleY,e.scale,e.originY)}function sj(s,e){return Jw(R4(s.getBoundingClientRect(),e))}function L4(s,e,n){const i=sj(s,n),{scroll:l}=e;return l&&(ei(i.x,l.offset.x),ei(i.y,l.offset.y)),i}const eb=()=>({translate:0,scale:1,origin:0,originPoint:0}),si=()=>({x:eb(),y:eb()}),tb=()=>({min:0,max:0}),ft=()=>({x:tb(),y:tb()}),Df={current:null},aj={current:!1};function B4(){if(aj.current=!0,!!om)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>Df.current=s.matches;s.addEventListener("change",e),e()}else Df.current=!1}const z4=new WeakMap;function U4(s,e,n){for(const i in e){const l=e[i],u=n[i];if(Ft(l))s.addValue(i,l);else if(Ft(u))s.addValue(i,ii(l,{owner:s}));else if(u!==l)if(s.hasValue(i)){const d=s.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=s.getStaticValue(i);s.addValue(i,ii(d!==void 0?d:l,{owner:s}))}}for(const i in n)e[i]===void 0&&s.removeValue(i);return e}const sb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V4{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=as.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,at.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=su(n),this.isVariantNode=$w(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in y){const _=y[b];g[b]!==void 0&&Ft(_)&&_.set(g[b])}}mount(e){var n;this.current=e,z4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,l)=>this.bindToMotionValue(l,i)),aj.current||B4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Df.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),rn(this.notifyUpdate),rn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=gi.has(e);i&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&at.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oi){const n=oi[e];if(!n)continue;const{isEnabled:i,Feature:l}=n;if(!this.features[e]&&l&&i(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<sb.length;i++){const l=sb[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=e[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=U4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ii(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Kv(i)||Wv(i))?i=parseFloat(i):!QE(i)&&on.test(n)&&(i=Ow(e,n)),this.setBaseTarget(e,Ft(i)?i.get():i)),Ft(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const d=Pm(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);d&&(i=d[e])}if(n&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ft(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Cm.render(this.render)}}class nj extends V4{constructor(){super(...arguments),this.KeyframeResolver=zE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rj(s,{style:e,vars:n},i,l){const u=s.style;let d;for(d in e)u[d]=e[d];l==null||l.applyProjectionStyles(u,i);for(d in n)u.setProperty(d,n[d])}function q4(s){return window.getComputedStyle(s)}class $4 extends nj{constructor(){super(...arguments),this.type="html",this.renderInstance=rj}readValueFromInstance(e,n){var i;if(gi.has(n))return(i=this.projection)!=null&&i.isProjecting?Nf(n):aE(e,n);{const l=q4(e),u=(gm(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sj(e,n)}build(e,n,i){Om(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Lm(e,n,i)}}const ij=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H4(s,e,n,i){rj(s,e,void 0,i);for(const l in e.attrs)s.setAttribute(ij.has(l)?l:Bm(l),e.attrs[l])}class F4 extends nj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gi.has(n)){const i=Mw(n);return i&&i.default||0}return n=ij.has(n)?n:Bm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Kw(e,n,i)}build(e,n,i){Iw(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,l){H4(e,n,i,l)}mount(e){this.isSVGTag=Yw(e.tagName),super.mount(e)}}const I4=(s,e)=>Rm(s)?new F4(e):new $4(e,{allowProjection:s!==v.Fragment});function ai(s,e,n){const i=s.getProps();return Pm(i,e,n!==void 0?n:i.custom,s)}const Rf=s=>Array.isArray(s);function G4(s,e,n){s.hasValue(e)?s.getValue(e).set(n):s.addValue(e,ii(n))}function Y4(s){return Rf(s)?s[s.length-1]||0:s}function X4(s,e){const n=ai(s,e);let{transitionEnd:i={},transition:l={},...u}=n||{};u={...u,...i};for(const d in u){const f=Y4(u[d]);G4(s,d,f)}}function K4(s){return!!(Ft(s)&&s.add)}function Pf(s,e){const n=s.getValue("willChange");if(K4(n))return n.add(e);if(!n&&Ca.WillChange){const i=new Ca.WillChange("auto");s.addValue("willChange",i),i.add(e)}}function oj(s){return s.props[Qw]}const Q4=s=>s!==null;function W4(s,{repeat:e,repeatType:n="loop"},i){const l=s.filter(Q4),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const Z4={type:"spring",stiffness:500,damping:25,restSpeed:10},J4=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),eA={type:"keyframes",duration:.8},tA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sA=(s,{keyframes:e})=>e.length>2?eA:gi.has(s)?s.startsWith("scale")?J4(e[1]):Z4:tA;function aA({when:s,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:f,from:g,elapsed:p,...m}){return!!Object.keys(m).length}const zm=(s,e,n,i={},l,u)=>d=>{const f=Sm(i,s)||{},g=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-ea(g);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:s,motionValue:e,element:u?void 0:l};aA(f)||Object.assign(m,sA(s,m)),m.duration&&(m.duration=ea(m.duration)),m.repeatDelay&&(m.repeatDelay=ea(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Af(m),m.delay===0&&(y=!0)),(Ca.instantAnimations||Ca.skipAnimations)&&(y=!0,Af(m),m.delay=0),m.allowFlatten=!f.type&&!f.ease,y&&!u&&e.get()!==void 0){const b=W4(m.keyframes,f);if(b!==void 0){at.update(()=>{m.onUpdate(b),m.onComplete()});return}}return f.isSync?new _m(m):new TE(m)};function nA({protectedKeys:s,needsAnimating:e},n){const i=s.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function lj(s,e,{delay:n=0,transitionOverride:i,type:l}={}){let{transition:u=s.getDefaultTransition(),transitionEnd:d,...f}=e;i&&(u=i);const g=[],p=l&&s.animationState&&s.animationState.getState()[l];for(const m in f){const y=s.getValue(m,s.latestValues[m]??null),b=f[m];if(b===void 0||p&&nA(p,m))continue;const _={delay:n,...Sm(u||{},m)},w=y.get();if(w!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===w&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const k=oj(s);if(k){const O=window.MotionHandoffAnimation(k,m,at);O!==null&&(_.startTime=O,C=!0)}}Pf(s,m),y.start(zm(m,y,b,s.shouldReduceMotion&&Ew.has(m)?{type:!1}:_,s,C));const N=y.animation;N&&g.push(N)}return d&&Promise.all(g).then(()=>{at.update(()=>{d&&X4(s,d)})}),g}function cj(s,e,n,i=0,l=1){const u=Array.from(s).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),d=s.size,f=(d-1)*i;return typeof n=="function"?n(u,d):l===1?u*i:f-u*i}function Lf(s,e,n={}){var g;const i=ai(s,e,n.type==="exit"?(g=s.presenceContext)==null?void 0:g.custom:void 0);let{transition:l=s.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const u=i?()=>Promise.all(lj(s,i,n)):()=>Promise.resolve(),d=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:b}=l;return rA(s,e,p,m,y,b,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,m]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>m())}else return Promise.all([u(),d(n.delay)])}function rA(s,e,n=0,i=0,l=0,u=1,d){const f=[];for(const g of s.variantChildren)g.notify("AnimationStart",e),f.push(Lf(g,e,{...d,delay:n+(typeof i=="function"?0:i)+cj(s.variantChildren,g,i,l,u)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(f)}function iA(s,e,n={}){s.notify("AnimationStart",e);let i;if(Array.isArray(e)){const l=e.map(u=>Lf(s,u,n));i=Promise.all(l)}else if(typeof e=="string")i=Lf(s,e,n);else{const l=typeof e=="function"?ai(s,e,n.custom):e;i=Promise.all(lj(s,l,n))}return i.then(()=>{s.notify("AnimationComplete",e)})}function uj(s,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==s.length)return!1;for(let i=0;i<n;i++)if(e[i]!==s[i])return!1;return!0}const oA=Mm.length;function dj(s){if(!s)return;if(!s.isControllingVariants){const n=s.parent?dj(s.parent)||{}:{};return s.props.initial!==void 0&&(n.initial=s.props.initial),n}const e={};for(let n=0;n<oA;n++){const i=Mm[n],l=s.props[i];(Vo(l)||l===!1)&&(e[i]=l)}return e}const lA=[...km].reverse(),cA=km.length;function uA(s){return e=>Promise.all(e.map(({animation:n,options:i})=>iA(s,n,i)))}function dA(s){let e=uA(s),n=ab(),i=!0;const l=g=>(p,m)=>{var b;const y=ai(s,m,g==="exit"?(b=s.presenceContext)==null?void 0:b.custom:void 0);if(y){const{transition:_,transitionEnd:w,...C}=y;p={...p,...C,...w}}return p};function u(g){e=g(s)}function d(g){const{props:p}=s,m=dj(s.parent)||{},y=[],b=new Set;let _={},w=1/0;for(let N=0;N<cA;N++){const k=lA[N],O=n[k],E=p[k]!==void 0?p[k]:m[k],T=Vo(E),S=k===g?O.isActive:null;S===!1&&(w=N);let R=E===m[k]&&E!==p[k]&&T;if(R&&i&&s.manuallyAnimateOnMount&&(R=!1),O.protectedKeys={..._},!O.isActive&&S===null||!E&&!O.prevProp||tu(E)||typeof E=="boolean")continue;const z=hA(O.prevProp,E);let $=z||k===g&&O.isActive&&!R&&T||N>w&&T,F=!1;const V=Array.isArray(E)?E:[E];let W=V.reduce(l(k),{});S===!1&&(W={});const{prevResolvedValues:Y={}}=O,ae={...Y,...W},fe=D=>{$=!0,b.has(D)&&(F=!0,b.delete(D)),O.needsAnimating[D]=!0;const I=s.getValue(D);I&&(I.liveStyle=!1)};for(const D in ae){const I=W[D],ne=Y[D];if(_.hasOwnProperty(D))continue;let A=!1;Rf(I)&&Rf(ne)?A=!uj(I,ne):A=I!==ne,A?I!=null?fe(D):b.add(D):I!==void 0&&b.has(D)?fe(D):O.protectedKeys[D]=!0}O.prevProp=E,O.prevResolvedValues=W,O.isActive&&(_={..._,...W}),i&&s.blockInitialAnimation&&($=!1);const se=R&&z;$&&(!se||F)&&y.push(...V.map(D=>{const I={type:k};if(typeof D=="string"&&i&&!se&&s.manuallyAnimateOnMount&&s.parent){const{parent:ne}=s,A=ai(ne,D);if(ne.enteringChildren&&A){const{delayChildren:q}=A.transition||{};I.delay=cj(ne.enteringChildren,s,q)}}return{animation:D,options:I}}))}if(b.size){const N={};if(typeof p.initial!="boolean"){const k=ai(s,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(N.transition=k.transition)}b.forEach(k=>{const O=s.getBaseTarget(k),E=s.getValue(k);E&&(E.liveStyle=!0),N[k]=O??null}),y.push({animation:N})}let C=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(y):Promise.resolve()}function f(g,p){var y;if(n[g].isActive===p)return Promise.resolve();(y=s.variantChildren)==null||y.forEach(b=>{var _;return(_=b.animationState)==null?void 0:_.setActive(g,p)}),n[g].isActive=p;const m=d(g);for(const b in n)n[b].protectedKeys={};return m}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>n,reset:()=>{n=ab(),i=!0}}}function hA(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!uj(e,s):!1}function Rn(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ab(){return{animate:Rn(!0),whileInView:Rn(),whileHover:Rn(),whileTap:Rn(),whileDrag:Rn(),whileFocus:Rn(),exit:Rn()}}class hn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fA extends hn{constructor(e){super(e),e.animationState||(e.animationState=dA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mA=0;class gA extends hn{constructor(){super(...arguments),this.id=mA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pA={animation:{Feature:fA},exit:{Feature:gA}};function $o(s,e,n,i={passive:!0}){return s.addEventListener(e,n,i),()=>s.removeEventListener(e,n)}function Wo(s){return{point:{x:s.pageX,y:s.pageY}}}const xA=s=>e=>Em(e)&&s(e,Wo(e));function ko(s,e,n,i){return $o(s,e,xA(n),i)}const hj=1e-4,yA=1-hj,bA=1+hj,fj=.01,vA=0-fj,wA=0+fj;function Kt(s){return s.max-s.min}function jA(s,e,n){return Math.abs(s-e)<=n}function nb(s,e,n,i=.5){s.origin=i,s.originPoint=it(e.min,e.max,s.origin),s.scale=Kt(n)/Kt(e),s.translate=it(n.min,n.max,s.origin)-s.originPoint,(s.scale>=yA&&s.scale<=bA||isNaN(s.scale))&&(s.scale=1),(s.translate>=vA&&s.translate<=wA||isNaN(s.translate))&&(s.translate=0)}function Mo(s,e,n,i){nb(s.x,e.x,n.x,i?i.originX:void 0),nb(s.y,e.y,n.y,i?i.originY:void 0)}function rb(s,e,n){s.min=n.min+e.min,s.max=s.min+Kt(e)}function _A(s,e,n){rb(s.x,e.x,n.x),rb(s.y,e.y,n.y)}function ib(s,e,n){s.min=e.min-n.min,s.max=s.min+Kt(e)}function Oo(s,e,n){ib(s.x,e.x,n.x),ib(s.y,e.y,n.y)}function Es(s){return[s("x"),s("y")]}const mj=({current:s})=>s?s.ownerDocument.defaultView:null,ob=(s,e)=>Math.abs(s-e);function NA(s,e){const n=ob(s.x,e.x),i=ob(s.y,e.y);return Math.sqrt(n**2+i**2)}class gj{constructor(e,n,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Xh(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,w=NA(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!w)return;const{point:C}=b,{timestamp:N}=Ut;this.history.push({...C,timestamp:N});const{onStart:k,onMove:O}=this.handlers;_||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,b)},this.handlePointerMove=(b,_)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Yh(_,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(b,_)=>{this.end();const{onEnd:w,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Xh(b.type==="pointercancel"?this.lastMoveEventInfo:Yh(_,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,k),C&&C(b,k)},!Em(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=d,this.contextWindow=l||window;const f=Wo(e),g=Yh(f,this.transformPagePoint),{point:p}=g,{timestamp:m}=Ut;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Xh(g,this.history)),this.removeListeners=Xo(ko(this.contextWindow,"pointermove",this.handlePointerMove),ko(this.contextWindow,"pointerup",this.handlePointerUp),ko(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rn(this.updatePoint)}}function Yh(s,e){return e?{point:e(s.point)}:s}function lb(s,e){return{x:s.x-e.x,y:s.y-e.y}}function Xh({point:s},e){return{point:s,delta:lb(s,pj(e)),offset:lb(s,SA(e)),velocity:TA(e,.1)}}function SA(s){return s[0]}function pj(s){return s[s.length-1]}function TA(s,e){if(s.length<2)return{x:0,y:0};let n=s.length-1,i=null;const l=pj(s);for(;n>=0&&(i=s[n],!(l.timestamp-i.timestamp>ea(e)));)n--;if(!i)return{x:0,y:0};const u=ta(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function CA(s,{min:e,max:n},i){return e!==void 0&&s<e?s=i?it(e,s,i.min):Math.max(s,e):n!==void 0&&s>n&&(s=i?it(n,s,i.max):Math.min(s,n)),s}function cb(s,e,n){return{min:e!==void 0?s.min+e:void 0,max:n!==void 0?s.max+n-(s.max-s.min):void 0}}function EA(s,{top:e,left:n,bottom:i,right:l}){return{x:cb(s.x,n,l),y:cb(s.y,e,i)}}function ub(s,e){let n=e.min-s.min,i=e.max-s.max;return e.max-e.min<s.max-s.min&&([n,i]=[i,n]),{min:n,max:i}}function AA(s,e){return{x:ub(s.x,e.x),y:ub(s.y,e.y)}}function kA(s,e){let n=.5;const i=Kt(s),l=Kt(e);return l>i?n=Bo(e.min,e.max-i,s.min):i>l&&(n=Bo(s.min,s.max-l,e.min)),Ta(0,1,n)}function MA(s,e){const n={};return e.min!==void 0&&(n.min=e.min-s.min),e.max!==void 0&&(n.max=e.max-s.min),n}const Bf=.35;function OA(s=Bf){return s===!1?s=0:s===!0&&(s=Bf),{x:db(s,"left","right"),y:db(s,"top","bottom")}}function db(s,e,n){return{min:hb(s,e),max:hb(s,n)}}function hb(s,e){return typeof s=="number"?s:s[e]||0}const DA=new WeakMap;class RA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wo(y).point)},d=(y,b)=>{const{drag:_,dragPropagation:w,onDragStart:C}=this.getProps();if(_&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$E(_),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Es(k=>{let O=this.getAxisMotionValue(k).get()||0;if(sa.test(O)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[k];T&&(O=Kt(T)*(parseFloat(O)/100))}}this.originPoint[k]=O}),C&&at.postRender(()=>C(y,b)),Pf(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:w,onDirectionLock:C,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=b;if(w&&this.currentDirection===null){this.currentDirection=PA(k),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),N&&N(y,b)},g=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Es(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)==null?void 0:b.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new gj(e,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:mj(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!i)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&at.postRender(()=>f(i,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:l}=this.getProps();if(!i||!wc(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let d=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(d=CA(d,this.constraints[e],this.elastic[e])),u.set(d)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&Jr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=EA(i.layoutBox,e):this.constraints=!1,this.elastic=OA(n),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Es(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=MA(i.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jr(e))return!1;const i=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=L4(i,l.root,this.visualElement.getTransformPagePoint());let d=AA(l.layout.layoutBox,u);if(n){const f=n(D4(d));this.hasMutatedConstraints=!!f,f&&(d=Jw(f))}return d}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),g=this.constraints||{},p=Es(m=>{if(!wc(m,n,this.currentDirection))return;let y=g&&g[m]||{};d&&(y={min:0,max:0});const b=l?200:1e6,_=l?40:1e7,w={type:"inertia",velocity:i?e[m]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(m,w)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Pf(this.visualElement,e),i.start(zm(e,i,0,n,this.visualElement,!1))}stopAnimation(){Es(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Es(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),l=i[n];return l||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Es(n=>{const{drag:i}=this.getProps();if(!wc(n,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:d,max:f}=l.layout.layoutBox[n];u.set(e[n]-it(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Jr(n)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Es(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const g=f.get();l[d]=kA({min:g,max:g},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Es(d=>{if(!wc(d,e,null))return;const f=this.getAxisMotionValue(d),{min:g,max:p}=this.constraints[d];f.set(it(g,p,l[d]))})}addListeners(){if(!this.visualElement.current)return;DA.set(this.visualElement,this);const e=this.visualElement.current,n=ko(e,"pointerdown",g=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();Jr(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),at.read(i);const d=$o(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(Es(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=g[m].translate,y.set(y.get()+g[m].translate))}),this.visualElement.render())});return()=>{d(),n(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Bf,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function wc(s,e,n){return(e===!0||e===s)&&(n===null||n===s)}function PA(s,e=10){let n=null;return Math.abs(s.y)>e?n="y":Math.abs(s.x)>e&&(n="x"),n}class LA extends hn{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new RA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}unmount(){this.removeGroupControls(),this.removeListeners()}}const fb=s=>(e,n)=>{s&&at.postRender(()=>s(e,n))};class BA extends hn{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new gj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:fb(e),onStart:fb(n),onMove:i,onEnd:(u,d)=>{delete this.session,l&&at.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=ko(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mb(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const vo={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(Ee.test(s))s=parseFloat(s);else return s;const n=mb(s,e.target.x),i=mb(s,e.target.y);return`${n}% ${i}%`}},zA={correct:(s,{treeScale:e,projectionDelta:n})=>{const i=s,l=on.parse(s);if(l.length>5)return i;const u=on.createTransformer(s),d=typeof l[0]!="number"?1:0,f=n.x.scale*e.x,g=n.y.scale*e.y;l[0+d]/=f,l[1+d]/=g;const p=it(f,g,.5);return typeof l[2+d]=="number"&&(l[2+d]/=p),typeof l[3+d]=="number"&&(l[3+d]/=p),u(l)}};let Kh=!1;class UA extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=e;o4(VA),u&&(n.group&&n.group.add(u),i&&i.register&&l&&i.register(u),Kh&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:l,isPresent:u}=this.props,{projection:d}=i;return d&&(d.isPresent=u,Kh=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?d.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?d.promote():d.relegate()||at.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:l}=e;Kh=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xj(s){const[e,n]=Uw(),i=v.useContext(rm);return r.jsx(UA,{...s,layoutGroup:i,switchLayoutGroup:v.useContext(Ww),isPresent:e,safeToRemove:n})}const VA={borderRadius:{...vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vo,borderTopRightRadius:vo,borderBottomLeftRadius:vo,borderBottomRightRadius:vo,boxShadow:zA};function qA(s,e,n){const i=Ft(s)?s:ii(s);return i.start(zm("",i,e,n)),i.animation}const $A=(s,e)=>s.depth-e.depth;class HA{constructor(){this.children=[],this.isDirty=!1}add(e){lm(this.children,e),this.isDirty=!0}remove(e){cm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($A),this.isDirty=!1,this.children.forEach(e)}}function FA(s,e){const n=as.now(),i=({timestamp:l})=>{const u=l-n;u>=e&&(rn(i),s(u-e))};return at.setup(i,!0),()=>rn(i)}const yj=["TopLeft","TopRight","BottomLeft","BottomRight"],IA=yj.length,gb=s=>typeof s=="string"?parseFloat(s):s,pb=s=>typeof s=="number"||Ee.test(s);function GA(s,e,n,i,l,u){l?(s.opacity=it(0,n.opacity??1,YA(i)),s.opacityExit=it(e.opacity??1,0,XA(i))):u&&(s.opacity=it(e.opacity??1,n.opacity??1,i));for(let d=0;d<IA;d++){const f=`border${yj[d]}Radius`;let g=xb(e,f),p=xb(n,f);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||pb(g)===pb(p)?(s[f]=Math.max(it(gb(g),gb(p),i),0),(sa.test(p)||sa.test(g))&&(s[f]+="%")):s[f]=p}(e.rotate||n.rotate)&&(s.rotate=it(e.rotate||0,n.rotate||0,i))}function xb(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const YA=bj(0,.5,rw),XA=bj(.5,.95,As);function bj(s,e,n){return i=>i<s?0:i>e?1:n(Bo(s,e,i))}function yb(s,e){s.min=e.min,s.max=e.max}function Cs(s,e){yb(s.x,e.x),yb(s.y,e.y)}function bb(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function vb(s,e,n,i,l){return s-=e,s=zc(s,1/n,i),l!==void 0&&(s=zc(s,1/l,i)),s}function KA(s,e=0,n=1,i=.5,l,u=s,d=s){if(sa.test(e)&&(e=parseFloat(e),e=it(d.min,d.max,e/100)-d.min),typeof e!="number")return;let f=it(u.min,u.max,i);s===u&&(f-=e),s.min=vb(s.min,e,n,f,l),s.max=vb(s.max,e,n,f,l)}function wb(s,e,[n,i,l],u,d){KA(s,e[n],e[i],e[l],e.scale,u,d)}const QA=["x","scaleX","originX"],WA=["y","scaleY","originY"];function jb(s,e,n,i){wb(s.x,e,QA,n?n.x:void 0,i?i.x:void 0),wb(s.y,e,WA,n?n.y:void 0,i?i.y:void 0)}function _b(s){return s.translate===0&&s.scale===1}function vj(s){return _b(s.x)&&_b(s.y)}function Nb(s,e){return s.min===e.min&&s.max===e.max}function ZA(s,e){return Nb(s.x,e.x)&&Nb(s.y,e.y)}function Sb(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function wj(s,e){return Sb(s.x,e.x)&&Sb(s.y,e.y)}function Tb(s){return Kt(s.x)/Kt(s.y)}function Cb(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class JA{constructor(){this.members=[]}add(e){lm(this.members,e),e.scheduleRender()}remove(e){if(cm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let i;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ek(s,e,n){let i="";const l=s.x.translate/e.x,u=s.y.translate/e.y,d=(n==null?void 0:n.z)||0;if((l||u||d)&&(i=`translate3d(${l}px, ${u}px, ${d}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:b,skewX:_,skewY:w}=n;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),y&&(i+=`rotateX(${y}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),w&&(i+=`skewY(${w}deg) `)}const f=s.x.scale*e.x,g=s.y.scale*e.y;return(f!==1||g!==1)&&(i+=`scale(${f}, ${g})`),i||"none"}const Qh=["","X","Y","Z"],tk=1e3;let sk=0;function Wh(s,e,n,i){const{latestValues:l}=e;l[s]&&(n[s]=l[s],e.setStaticValue(s,0),i&&(i[s]=0))}function jj(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const n=oj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=s.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(l||u))}const{parent:i}=s;i&&!i.hasCheckedOptimisedAppear&&jj(i)}function _j({attachResizeListener:s,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},f=e==null?void 0:e()){this.id=sk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rk),this.nodes.forEach(ck),this.nodes.forEach(uk),this.nodes.forEach(ik)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new HA)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new hm),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const g=this.eventHandlers.get(d);g&&g.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=zw(d)&&!XE(d),this.instance=d;const{layoutId:f,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||f)&&(this.isLayoutDirty=!0),s){let m,y=0;const b=()=>this.root.updateBlockedByResize=!1;at.read(()=>{y=window.innerWidth}),s(d,()=>{const _=window.innerWidth;_!==y&&(y=_,this.root.updateBlockedByResize=!0,m&&m(),m=FA(b,250),Cc.hasAnimatedSinceResize&&(Cc.hasAnimatedSinceResize=!1,this.nodes.forEach(kb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||g)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||gk,{onLayoutAnimationStart:C,onLayoutAnimationComplete:N}=p.getProps(),k=!this.targetLayout||!wj(this.targetLayout,_),O=!y&&b;if(this.options.layoutRoot||this.resumeFrom||O||y&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Sm(w,"layout"),onPlay:C,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,O)}else y||kb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dk),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:g}=this.options;if(f===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Eb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ab);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lk),this.nodes.forEach(ak),this.nodes.forEach(nk)):this.nodes.forEach(Ab),this.clearAllSnapshots();const f=as.now();Ut.delta=Ta(0,1e3/60,f-Ut.timestamp),Ut.timestamp=f,Ut.isProcessing=!0,Uh.update.process(Ut),Uh.preRender.process(Ut),Uh.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ok),this.sharedNodes.forEach(hk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kt(this.snapshot.measuredBox.x)&&!Kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!vj(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;d&&this.instance&&(f||Ln(this.latestValues)||m)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let g=this.removeElementScroll(f);return d&&(g=this.removeTransform(g)),pk(g),{animationId:this.root.animationId,measuredBox:f,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:d}=this.options;if(!d)return ft();const f=d.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(xk))){const{scroll:m}=this.root;m&&(ei(f.x,m.offset.x),ei(f.y,m.offset.y))}return f}removeElementScroll(d){var g;const f=ft();if(Cs(f,d),(g=this.scroll)!=null&&g.wasRoot)return f;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:b}=m;m!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Cs(f,d),ei(f.x,y.offset.x),ei(f.y,y.offset.y))}return f}applyTransform(d,f=!1){const g=ft();Cs(g,d);for(let p=0;p<this.path.length;p++){const m=this.path[p];!f&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ti(g,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ln(m.latestValues)&&ti(g,m.latestValues)}return Ln(this.latestValues)&&ti(g,this.latestValues),g}removeTransform(d){const f=ft();Cs(f,d);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!Ln(p.latestValues))continue;Mf(p.latestValues)&&p.updateSnapshot();const m=ft(),y=p.measurePageBox();Cs(m,y),jb(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Ln(this.latestValues)&&jb(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==f;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Oo(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_A(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cs(this.target,this.layout.layoutBox),tj(this.target,this.targetDelta)):Cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Oo(this.relativeTargetOrigin,this.target,_.target),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mf(this.parent.latestValues)||ej(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(g=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(g=!1),g)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Cs(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;P4(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ft());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bb(this.prevProjectionDelta.x,this.projectionDelta.x),bb(this.prevProjectionDelta.y,this.projectionDelta.y)),Mo(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!Cb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),d){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=si(),this.projectionDelta=si(),this.projectionDeltaWithTransform=si()}setAnimationOrigin(d,f=!1){const g=this.snapshot,p=g?g.latestValues:{},m={...this.latestValues},y=si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=ft(),_=g?g.source:void 0,w=this.layout?this.layout.source:void 0,C=_!==w,N=this.getStack(),k=!N||N.members.length<=1,O=!!(C&&!k&&this.options.crossfade===!0&&!this.path.some(mk));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const S=T/1e3;Mb(y.x,d.x,S),Mb(y.y,d.y,S),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oo(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fk(this.relativeTarget,this.relativeTargetOrigin,b,S),E&&ZA(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ft()),Cs(E,this.relativeTarget)),C&&(this.animationValues=m,GA(m,p,this.latestValues,S,O,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){var f,g,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(rn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Cc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ii(0)),this.currentAnimation=qA(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:g,layout:p,latestValues:m}=d;if(!(!f||!g||!p)){if(this!==d&&this.layout&&p&&Nj(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||ft();const y=Kt(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+y;const b=Kt(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+b}Cs(f,g),ti(f,m),Mo(this.projectionDeltaWithTransform,this.layoutCorrected,f,m)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new JA),this.sharedNodes.get(d).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var f;const{layoutId:d}=this.options;return d?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:d}=this.options;return d?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:g}=d;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(f=!0),!f)return;const p={};g.z&&Wh("z",d,p,this.animationValues);for(let m=0;m<Qh.length;m++)Wh(`rotate${Qh[m]}`,d,p,this.animationValues),Wh(`skew${Qh[m]}`,d,p,this.animationValues);d.render();for(const m in p)d.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Tc(f==null?void 0:f.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Tc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ln(this.latestValues)&&(d.transform=g?g({},""):"none",this.hasProjected=!1);return}d.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=ek(this.projectionDeltaWithTransform,this.treeScale,m);g&&(y=g(m,y)),d.transform=y;const{x:b,y:_}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,p.animationValues?d.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in qo){if(m[w]===void 0)continue;const{correct:C,applyTo:N,isCSSVariable:k}=qo[w],O=y==="none"?m[w]:C(m[w],p);if(N){const E=N.length;for(let T=0;T<E;T++)d[N[T]]=O}else k?this.options.visualElement.renderState.vars[w]=O:d[w]=O}this.options.layoutId&&(d.pointerEvents=p===this?Tc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var f;return(f=d.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Eb),this.root.sharedNodes.clear()}}}function ak(s){s.updateLayout()}function nk(s){var n;const e=((n=s.resumeFrom)==null?void 0:n.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=s.layout,{animationType:u}=s.options,d=e.source!==s.layout.source;u==="size"?Es(y=>{const b=d?e.measuredBox[y]:e.layoutBox[y],_=Kt(b);b.min=i[y].min,b.max=b.min+_}):Nj(u,e.layoutBox,i)&&Es(y=>{const b=d?e.measuredBox[y]:e.layoutBox[y],_=Kt(i[y]);b.max=b.min+_,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[y].max=s.relativeTarget[y].min+_)});const f=si();Mo(f,i,e.layoutBox);const g=si();d?Mo(g,s.applyTransform(l,!0),e.measuredBox):Mo(g,i,e.layoutBox);const p=!vj(f);let m=!1;if(!s.resumeFrom){const y=s.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:_}=y;if(b&&_){const w=ft();Oo(w,e.layoutBox,b.layoutBox);const C=ft();Oo(C,i,_.layoutBox),wj(w,C)||(m=!0),y.options.layoutRoot&&(s.relativeTarget=C,s.relativeTargetOrigin=w,s.relativeParent=y)}}}s.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:g,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(s.isLead()){const{onExitComplete:i}=s.options;i&&i()}s.options.transition=void 0}function rk(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function ik(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function ok(s){s.clearSnapshot()}function Eb(s){s.clearMeasurements()}function Ab(s){s.isLayoutDirty=!1}function lk(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function kb(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function ck(s){s.resolveTargetDelta()}function uk(s){s.calcProjection()}function dk(s){s.resetSkewAndRotation()}function hk(s){s.removeLeadSnapshot()}function Mb(s,e,n){s.translate=it(e.translate,0,n),s.scale=it(e.scale,1,n),s.origin=e.origin,s.originPoint=e.originPoint}function Ob(s,e,n,i){s.min=it(e.min,n.min,i),s.max=it(e.max,n.max,i)}function fk(s,e,n,i){Ob(s.x,e.x,n.x,i),Ob(s.y,e.y,n.y,i)}function mk(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const gk={duration:.45,ease:[.4,0,.1,1]},Db=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Rb=Db("applewebkit/")&&!Db("chrome/")?Math.round:As;function Pb(s){s.min=Rb(s.min),s.max=Rb(s.max)}function pk(s){Pb(s.x),Pb(s.y)}function Nj(s,e,n){return s==="position"||s==="preserve-aspect"&&!jA(Tb(e),Tb(n),.2)}function xk(s){var e;return s!==s.root&&((e=s.scroll)==null?void 0:e.wasRoot)}const yk=_j({attachResizeListener:(s,e)=>$o(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zh={current:void 0},Sj=_j({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Zh.current){const s=new yk({});s.mount(window),s.setOptions({layoutScroll:!0}),Zh.current=s}return Zh.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),bk={pan:{Feature:BA},drag:{Feature:LA,ProjectionNode:Sj,MeasureLayout:xj}};function Lb(s,e,n){const{props:i}=s;s.animationState&&i.whileHover&&s.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=i[l];u&&at.postRender(()=>u(e,Wo(e)))}class vk extends hn{mount(){const{current:e}=this.node;e&&(this.unmount=HE(e,(n,i)=>(Lb(this.node,i,"Start"),l=>Lb(this.node,l,"End"))))}unmount(){}}class wk extends hn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xo($o(this.node.current,"focus",()=>this.onFocus()),$o(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bb(s,e,n){const{props:i}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&i.whileTap&&s.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=i[l];u&&at.postRender(()=>u(e,Wo(e)))}class jk extends hn{mount(){const{current:e}=this.node;e&&(this.unmount=YE(e,(n,i)=>(Bb(this.node,i,"Start"),(l,{success:u})=>Bb(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zf=new WeakMap,Jh=new WeakMap,_k=s=>{const e=zf.get(s.target);e&&e(s)},Nk=s=>{s.forEach(_k)};function Sk({root:s,...e}){const n=s||document;Jh.has(n)||Jh.set(n,{});const i=Jh.get(n),l=JSON.stringify(e);return i[l]||(i[l]=new IntersectionObserver(Nk,{root:s,...e})),i[l]}function Tk(s,e,n){const i=Sk(e);return zf.set(s,n),i.observe(s),()=>{zf.delete(s),i.unobserve(s)}}const Ck={some:0,all:1};class Ek extends hn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:l="some",once:u}=e,d={root:n?n.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:Ck[l]},f=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),b=p?m:y;b&&b(g)};return Tk(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ak(e,n))&&this.startObserver()}unmount(){}}function Ak({viewport:s={}},{viewport:e={}}={}){return n=>s[n]!==e[n]}const kk={inView:{Feature:Ek},tap:{Feature:jk},focus:{Feature:wk},hover:{Feature:vk}},Mk={layout:{ProjectionNode:Sj,MeasureLayout:xj}},Ok={...pA,...kk,...bk,...Mk},_e=O4(Ok,I4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rk=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),zb=s=>{const e=Rk(s);return e.charAt(0).toUpperCase()+e.slice(1)},Tj=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Pk=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=v.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:d,...f},g)=>v.createElement("svg",{ref:g,...Lk,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:Tj("lucide",l),...!u&&!Pk(f)&&{"aria-hidden":"true"},...f},[...d.map(([p,m])=>v.createElement(p,m)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(s,e)=>{const n=v.forwardRef(({className:i,...l},u)=>v.createElement(Bk,{ref:u,iconNode:e,className:Tj(`lucide-${Dk(zb(s))}`,`lucide-${s}`,i),...l}));return n.displayName=zb(s),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Um=Ne("arrow-left",zk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ub=Ne("arrow-right",Uk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],qk=Ne("arrow-up-down",Vk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Hk=Ne("arrow-up",$k);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Ik=Ne("banknote",Fk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Yk=Ne("bell-ring",Gk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Cj=Ne("bell",Xk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],au=Ne("calendar",Kk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ej=Ne("chart-column",Qk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Uc=Ne("chef-hat",Wk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jk=Ne("circle-alert",Zk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vb=Ne("circle-check-big",e6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qb=Ne("circle-x",t6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qt=Ne("clock",s6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],n6=Ne("coffee",a6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],i6=Ne("copy",r6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Vm=Ne("credit-card",o6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vs=Ne("dollar-sign",l6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],u6=Ne("download",c6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],h6=Ne("eye-off",d6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nu=Ne("eye",f6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Aj=Ne("funnel",m6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],p6=Ne("layout-dashboard",g6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y6=Ne("lock",x6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],v6=Ne("log-out",b6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kj=Ne("mail",w6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ru=Ne("map-pin",j6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M5 12h14",key:"1ays0h"}]],qm=Ne("minus",_6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],S6=Ne("move",N6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ln=Ne("package",T6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Vc=Ne("phone",C6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gs=Ne("plus",E6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],k6=Ne("receipt",A6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Mj=Ne("rotate-ccw",M6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qc=Ne("save",O6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ea=Ne("search",D6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],P6=Ne("send",R6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oj=Ne("settings",L6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],z6=Ne("share-2",B6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],$m=Ne("shopping-cart",U6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],q6=Ne("smartphone",V6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zo=Ne("square-pen",$6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Uf=Ne("star",H6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],$b=Ne("timer",F6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],iu=Ne("trash-2",I6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vf=Ne("trending-up",G6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cn=Ne("triangle-alert",Y6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dj=Ne("user-check",X6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q6=Ne("user-plus",K6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$c=Ne("user",W6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],In=Ne("users",Z6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],qf=Ne("wine",J6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ut=Ne("x",e3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hc=Ne("zap",t3),s3=()=>{const[s,e]=v.useState(""),[n,i]=v.useState(""),[l,u]=v.useState(!1),[d,f]=v.useState(""),{login:g,loginAsDemo:p,isLoading:m}=ps(),y=async _=>{if(_.preventDefault(),f(""),!s||!n){f("Por favor, preencha todos os campos");return}await g(s,n)||f("Erro ao fazer login. Tente novamente.")},b=()=>{p()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(In,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ClubManager Pro"}),r.jsx("p",{className:"text-gray-600",children:"Sistema de Gesto de Clubes"})]}),r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:b,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-lg font-semibold text-lg hover:from-green-600 hover:to-green-700 transition-all duration-300 flex items-center justify-center space-x-2 mb-6 shadow-lg",children:[r.jsx(Hc,{className:"w-5 h-5"}),r.jsx("span",{children:" Entrar como Demo"})]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou faa login tradicional"})})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(kj,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"email",value:s,onChange:_=>e(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Digite seu email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),r.jsxs("div",{className:"relative",children:[r.jsx(y6,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:l?"text":"password",value:n,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Digite sua senha"}),r.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?r.jsx(h6,{size:20}):r.jsx(nu,{size:20})})]})]}),d&&r.jsx(_e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded-lg border border-red-200",children:d}),r.jsx(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Entrando..."})]}):"Entrar"})]}),r.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-100",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-center",children:" Acesso Demo Rpido"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Mdulo Bar:"})," Pedidos, comandas e vendas"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Mdulo Cozinha:"})," Gesto de cardpio e pedidos"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Dashboard:"})," Mtricas e relatrios"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Estoque:"})," Controle de inventrio"]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:r.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" ",r.jsx("strong",{children:"Dica:"})," Use o boto verde acima para acesso instantneo!"]})})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:"ClubManager Pro v1.0 - Sistema Demonstrao"})})]})})},a3=()=>{const{user:s,logout:e}=ps(),n=[{name:"Dashboard",icon:p6,path:"/"},{name:"Bar",icon:qf,path:"/bar"},{name:"Atendimento Bar",icon:n6,path:"/bar/attendance"},{name:"Gesto de Caixa",icon:Vs,path:"/cash"},{name:"Clientes",icon:In,path:"/bar-customers"},{name:"Funcionrios",icon:Dj,path:"/bar-employees"},{name:"Cozinha",icon:Uc,path:"/kitchen"},{name:"Estoque",icon:ln,path:"/inventory"},{name:"Membros",icon:In,path:"/members"},{name:"Configuraes",icon:Oj,path:"/settings"}],i=(s==null?void 0:s.email)==="demo@clubmanager.com";return r.jsxs(_e.aside,{initial:{x:-280},animate:{x:0},transition:{duration:.3},className:"bg-slate-900 text-white w-64 min-h-screen p-4 flex flex-col",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-blue-400",children:"ClubManager"}),r.jsx("p",{className:"text-slate-400 text-sm",children:"Sistema de Gesto"}),i&&r.jsxs("div",{className:"mt-2 flex items-center space-x-1 text-xs text-green-400",children:[r.jsx(Hc,{size:12}),r.jsx("span",{children:"Modo Demo"})]})]}),s&&r.jsxs("div",{className:`mb-6 p-3 rounded-lg ${i?"bg-green-800 border border-green-600":"bg-slate-800"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:s.avatar||`https://api.dicebear.com/8.x/initials/svg?seed=${s.name}`,alt:s.name,className:"w-10 h-10 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:s.name}),r.jsx("p",{className:"text-slate-400 text-xs capitalize",children:s.role}),s.department&&r.jsx("p",{className:"text-slate-300 text-xs",children:s.department})]})]}),i&&r.jsx("div",{className:"mt-2 text-xs text-green-300",children:" Explorando funcionalidades"})]}),r.jsx("nav",{className:"flex-1",children:r.jsx("ul",{className:"space-y-2",children:n.map(l=>r.jsx("li",{children:r.jsxs(Sv,{to:l.path,className:({isActive:u})=>`flex items-center space-x-3 p-3 rounded-lg transition-colors ${u?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[r.jsx(l.icon,{size:20}),r.jsx("span",{children:l.name})]})},l.name))})}),i&&r.jsxs("div",{className:"mb-4 p-3 bg-blue-900 rounded-lg border border-blue-700",children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-200 mb-2",children:" Teste Agora:"}),r.jsxs("ul",{className:"text-xs text-blue-300 space-y-1",children:[r.jsx("li",{children:" Criar pedidos no Bar"}),r.jsx("li",{children:" Sistema de Atendimento"}),r.jsx("li",{children:" Gerenciar cozinha"}),r.jsx("li",{children:" Ver mtricas em tempo real"}),r.jsx("li",{children:" Controlar estoque"})]})]}),r.jsxs("button",{onClick:e,className:"flex items-center space-x-3 p-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors mt-4",children:[r.jsx(v6,{size:20}),r.jsx("span",{children:i?"Sair do Demo":"Sair"})]})]})},n3=()=>{const{notifications:s,clearNotifications:e}=wt(),[n,i]=Ve.useState(!1);return r.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ea,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-800 transition-colors",children:[r.jsx(Cj,{size:20}),s.length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s.length})]}),r.jsx(Xn,{children:n&&r.jsxs(_e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Notificaes"}),s.length>0&&r.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-800",children:"Limpar todas"})]}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.length===0?r.jsx("p",{className:"p-4 text-gray-500 text-center",children:"Nenhuma notificao"}):s.map((l,u)=>r.jsx("div",{className:"p-3 border-b border-gray-100 last:border-b-0",children:r.jsx("p",{className:"text-sm text-gray-700",children:l})},u))})]})})]})]})]})})},r3=()=>r.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r.jsx(a3,{}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(n3,{}),r.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:r.jsx(mN,{})})]})]}),Rj=6048e5,i3=864e5,Hb=Symbol.for("constructDateFrom");function aa(s,e){return typeof s=="function"?s(e):s&&typeof s=="object"&&Hb in s?s[Hb](e):s instanceof Date?new s.constructor(e):new Date(e)}function ns(s,e){return aa(e||s,s)}function o3(s,e,n){const i=ns(s,n==null?void 0:n.in);if(isNaN(e))return aa(s,NaN);const l=i.getDate(),u=aa(s,i.getTime());u.setMonth(i.getMonth()+e+1,0);const d=u.getDate();return l>=d?u:(i.setFullYear(u.getFullYear(),u.getMonth(),l),i)}let l3={};function ou(){return l3}function Ho(s,e){var f,g,p,m;const n=ou(),i=(e==null?void 0:e.weekStartsOn)??((g=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,l=ns(s,e==null?void 0:e.in),u=l.getDay(),d=(u<i?7:0)+u-i;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Fc(s,e){return Ho(s,{...e,weekStartsOn:1})}function Pj(s,e){const n=ns(s,e==null?void 0:e.in),i=n.getFullYear(),l=aa(n,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=Fc(l),d=aa(n,0);d.setFullYear(i,0,4),d.setHours(0,0,0,0);const f=Fc(d);return n.getTime()>=u.getTime()?i+1:n.getTime()>=f.getTime()?i:i-1}function Fb(s){const e=ns(s),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+s-+n}function c3(s,...e){const n=aa.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function Ib(s,e){const n=ns(s,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function u3(s,e,n){const[i,l]=c3(n==null?void 0:n.in,s,e),u=Ib(i),d=Ib(l),f=+u-Fb(u),g=+d-Fb(d);return Math.round((f-g)/i3)}function d3(s,e){const n=Pj(s,e),i=aa(s,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Fc(i)}function h3(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function f3(s){return!(!h3(s)&&typeof s!="number"||isNaN(+ns(s)))}function m3(s,e){const n=ns(s,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const g3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},p3=(s,e,n)=>{let i;const l=g3[s];return typeof l=="string"?i=l:e===1?i=l.one:i=l.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ni(s){return(e={})=>{const n=e.width?String(e.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const x3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v3={date:ni({formats:x3,defaultWidth:"full"}),time:ni({formats:y3,defaultWidth:"full"}),dateTime:ni({formats:b3,defaultWidth:"full"})},w3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j3=(s,e,n,i)=>w3[s];function Ws(s){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let l;if(i==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,f=n!=null&&n.width?String(n.width):d;l=s.formattingValues[f]||s.formattingValues[d]}else{const d=s.defaultWidth,f=n!=null&&n.width?String(n.width):s.defaultWidth;l=s.values[f]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(e):e;return l[u]}}const _3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A3=(s,e)=>{const n=Number(s),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},k3={ordinalNumber:A3,era:Ws({values:_3,defaultWidth:"wide"}),quarter:Ws({values:N3,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ws({values:S3,defaultWidth:"wide"}),day:Ws({values:T3,defaultWidth:"wide"}),dayPeriod:Ws({values:C3,defaultWidth:"wide",formattingValues:E3,defaultFormattingWidth:"wide"})};function Zs(s){return(e,n={})=>{const i=n.width,l=i&&s.matchPatterns[i]||s.matchPatterns[s.defaultMatchWidth],u=e.match(l);if(!u)return null;const d=u[0],f=i&&s.parsePatterns[i]||s.parsePatterns[s.defaultParseWidth],g=Array.isArray(f)?O3(f,y=>y.test(d)):M3(f,y=>y.test(d));let p;p=s.valueCallback?s.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const m=e.slice(d.length);return{value:p,rest:m}}}function M3(s,e){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&e(s[n]))return n}function O3(s,e){for(let n=0;n<s.length;n++)if(e(s[n]))return n}function Lj(s){return(e,n={})=>{const i=e.match(s.matchPattern);if(!i)return null;const l=i[0],u=e.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(l.length);return{value:d,rest:f}}}const D3=/^(\d+)(th|st|nd|rd)?/i,R3=/\d+/i,P3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L3={any:[/^b/i,/^(a|c)/i]},B3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z3={any:[/1/i,/2/i,/3/i,/4/i]},U3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I3={ordinalNumber:Lj({matchPattern:D3,parsePattern:R3,valueCallback:s=>parseInt(s,10)}),era:Zs({matchPatterns:P3,defaultMatchWidth:"wide",parsePatterns:L3,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:B3,defaultMatchWidth:"wide",parsePatterns:z3,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Zs({matchPatterns:U3,defaultMatchWidth:"wide",parsePatterns:V3,defaultParseWidth:"any"}),day:Zs({matchPatterns:q3,defaultMatchWidth:"wide",parsePatterns:$3,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:H3,defaultMatchWidth:"any",parsePatterns:F3,defaultParseWidth:"any"})},G3={code:"en-US",formatDistance:p3,formatLong:v3,formatRelative:j3,localize:k3,match:I3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y3(s,e){const n=ns(s,e==null?void 0:e.in);return u3(n,m3(n))+1}function X3(s,e){const n=ns(s,e==null?void 0:e.in),i=+Fc(n)-+d3(n);return Math.round(i/Rj)+1}function Bj(s,e){var m,y,b,_;const n=ns(s,e==null?void 0:e.in),i=n.getFullYear(),l=ou(),u=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??l.firstWeekContainsDate??((_=(b=l.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,d=aa((e==null?void 0:e.in)||s,0);d.setFullYear(i+1,0,u),d.setHours(0,0,0,0);const f=Ho(d,e),g=aa((e==null?void 0:e.in)||s,0);g.setFullYear(i,0,u),g.setHours(0,0,0,0);const p=Ho(g,e);return+n>=+f?i+1:+n>=+p?i:i-1}function K3(s,e){var f,g,p,m;const n=ou(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=Bj(s,e),u=aa((e==null?void 0:e.in)||s,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Ho(u,e)}function Q3(s,e){const n=ns(s,e==null?void 0:e.in),i=+Ho(n,e)-+K3(n,e);return Math.round(i/Rj)+1}function Ye(s,e){const n=s<0?"-":"",i=Math.abs(s).toString().padStart(e,"0");return n+i}const Ja={y(s,e){const n=s.getFullYear(),i=n>0?n:1-n;return Ye(e==="yy"?i%100:i,e.length)},M(s,e){const n=s.getMonth();return e==="M"?String(n+1):Ye(n+1,2)},d(s,e){return Ye(s.getDate(),e.length)},a(s,e){const n=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,e){return Ye(s.getHours()%12||12,e.length)},H(s,e){return Ye(s.getHours(),e.length)},m(s,e){return Ye(s.getMinutes(),e.length)},s(s,e){return Ye(s.getSeconds(),e.length)},S(s,e){const n=e.length,i=s.getMilliseconds(),l=Math.trunc(i*Math.pow(10,n-3));return Ye(l,e.length)}},Gr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gb={G:function(s,e,n){const i=s.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(s,e,n){if(e==="yo"){const i=s.getFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return Ja.y(s,e)},Y:function(s,e,n,i){const l=Bj(s,i),u=l>0?l:1-l;if(e==="YY"){const d=u%100;return Ye(d,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ye(u,e.length)},R:function(s,e){const n=Pj(s);return Ye(n,e.length)},u:function(s,e){const n=s.getFullYear();return Ye(n,e.length)},Q:function(s,e,n){const i=Math.ceil((s.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ye(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(s,e,n){const i=Math.ceil((s.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ye(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(s,e,n){const i=s.getMonth();switch(e){case"M":case"MM":return Ja.M(s,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(s,e,n){const i=s.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ye(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(s,e,n,i){const l=Q3(s,i);return e==="wo"?n.ordinalNumber(l,{unit:"week"}):Ye(l,e.length)},I:function(s,e,n){const i=X3(s);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Ye(i,e.length)},d:function(s,e,n){return e==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):Ja.d(s,e)},D:function(s,e,n){const i=Y3(s);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ye(i,e.length)},E:function(s,e,n){const i=s.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(s,e,n,i){const l=s.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ye(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(s,e,n,i){const l=s.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ye(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(s,e,n){const i=s.getDay(),l=i===0?7:i;switch(e){case"i":return String(l);case"ii":return Ye(l,e.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(s,e,n){const l=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,e,n){const i=s.getHours();let l;switch(i===12?l=Gr.noon:i===0?l=Gr.midnight:l=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,e,n){const i=s.getHours();let l;switch(i>=17?l=Gr.evening:i>=12?l=Gr.afternoon:i>=4?l=Gr.morning:l=Gr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,e,n){if(e==="ho"){let i=s.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ja.h(s,e)},H:function(s,e,n){return e==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):Ja.H(s,e)},K:function(s,e,n){const i=s.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ye(i,e.length)},k:function(s,e,n){let i=s.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ye(i,e.length)},m:function(s,e,n){return e==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):Ja.m(s,e)},s:function(s,e,n){return e==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):Ja.s(s,e)},S:function(s,e){return Ja.S(s,e)},X:function(s,e,n){const i=s.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Xb(i);case"XXXX":case"XX":return Bn(i);case"XXXXX":case"XXX":default:return Bn(i,":")}},x:function(s,e,n){const i=s.getTimezoneOffset();switch(e){case"x":return Xb(i);case"xxxx":case"xx":return Bn(i);case"xxxxx":case"xxx":default:return Bn(i,":")}},O:function(s,e,n){const i=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Yb(i,":");case"OOOO":default:return"GMT"+Bn(i,":")}},z:function(s,e,n){const i=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Yb(i,":");case"zzzz":default:return"GMT"+Bn(i,":")}},t:function(s,e,n){const i=Math.trunc(+s/1e3);return Ye(i,e.length)},T:function(s,e,n){return Ye(+s,e.length)}};function Yb(s,e=""){const n=s>0?"-":"+",i=Math.abs(s),l=Math.trunc(i/60),u=i%60;return u===0?n+String(l):n+String(l)+e+Ye(u,2)}function Xb(s,e){return s%60===0?(s>0?"-":"+")+Ye(Math.abs(s)/60,2):Bn(s,e)}function Bn(s,e=""){const n=s>0?"-":"+",i=Math.abs(s),l=Ye(Math.trunc(i/60),2),u=Ye(i%60,2);return n+l+e+u}const Kb=(s,e)=>{switch(s){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zj=(s,e)=>{switch(s){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},W3=(s,e)=>{const n=s.match(/(P+)(p+)?/)||[],i=n[1],l=n[2];if(!l)return Kb(s,e);let u;switch(i){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",Kb(i,e)).replace("{{time}}",zj(l,e))},Z3={p:zj,P:W3},J3=/^D+$/,eM=/^Y+$/,tM=["D","DD","YY","YYYY"];function sM(s){return J3.test(s)}function aM(s){return eM.test(s)}function nM(s,e,n){const i=rM(s,e,n);if(console.warn(i),tM.includes(s))throw new RangeError(i)}function rM(s,e,n){const i=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lM=/^'([^]*?)'?$/,cM=/''/g,uM=/[a-zA-Z]/;function Na(s,e,n){var m,y,b,_,w,C,N,k;const i=ou(),l=(n==null?void 0:n.locale)??i.locale??G3,u=(n==null?void 0:n.firstWeekContainsDate)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(b=i.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((C=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:C.weekStartsOn)??i.weekStartsOn??((k=(N=i.locale)==null?void 0:N.options)==null?void 0:k.weekStartsOn)??0,f=ns(s,n==null?void 0:n.in);if(!f3(f))throw new RangeError("Invalid time value");let g=e.match(oM).map(O=>{const E=O[0];if(E==="p"||E==="P"){const T=Z3[E];return T(O,l.formatLong)}return O}).join("").match(iM).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const E=O[0];if(E==="'")return{isToken:!1,value:dM(O)};if(Gb[E])return{isToken:!0,value:O};if(E.match(uM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:O}});l.localize.preprocessor&&(g=l.localize.preprocessor(f,g));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return g.map(O=>{if(!O.isToken)return O.value;const E=O.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&aM(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&sM(E))&&nM(E,e,String(s));const T=Gb[E[0]];return T(f,E,l.localize,p)}).join("")}function dM(s){const e=s.match(lM);return e?e[1].replace(cM,"'"):s}function hM(s,e){return+ns(s)>+ns(e)}function fM(s,e,n){return o3(s,-1,n)}const mM={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},gM=(s,e,n)=>{let i;const l=mM[s];return typeof l=="string"?i=l:e===1?i=l.one:i=l.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+i:"h "+i:i},pM={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},xM={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yM={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bM={date:ni({formats:pM,defaultWidth:"full"}),time:ni({formats:xM,defaultWidth:"full"}),dateTime:ni({formats:yM,defaultWidth:"full"})},vM={lastWeek:s=>{const e=s.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},wM=(s,e,n,i)=>{const l=vM[s];return typeof l=="function"?l(e):l},jM={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},_M={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},NM={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},SM={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},TM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},CM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},EM=(s,e)=>{const n=Number(s);return(e==null?void 0:e.unit)==="week"?n+"":n+""},AM={ordinalNumber:EM,era:Ws({values:jM,defaultWidth:"wide"}),quarter:Ws({values:_M,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ws({values:NM,defaultWidth:"wide"}),day:Ws({values:SM,defaultWidth:"wide"}),dayPeriod:Ws({values:TM,defaultWidth:"wide",formattingValues:CM,defaultFormattingWidth:"wide"})},kM=/^(\d+)[o]?/i,MM=/\d+/i,OM={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},DM={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},RM={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},PM={any:[/1/i,/2/i,/3/i,/4/i]},LM={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},BM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},zM={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},UM={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},VM={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},qM={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},$M={ordinalNumber:Lj({matchPattern:kM,parsePattern:MM,valueCallback:s=>parseInt(s,10)}),era:Zs({matchPatterns:OM,defaultMatchWidth:"wide",parsePatterns:DM,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:RM,defaultMatchWidth:"wide",parsePatterns:PM,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Zs({matchPatterns:LM,defaultMatchWidth:"wide",parsePatterns:BM,defaultParseWidth:"any"}),day:Zs({matchPatterns:zM,defaultMatchWidth:"wide",parsePatterns:UM,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:VM,defaultMatchWidth:"any",parsePatterns:qM,defaultParseWidth:"any"})},Gn={code:"pt-BR",formatDistance:gM,formatLong:bM,formatRelative:wM,localize:AM,match:$M,options:{weekStartsOn:0,firstWeekContainsDate:1}},HM=()=>{const s=di(),{orders:e,inventory:n,notifications:i}=wt(),{user:l}=ps(),u=e.filter(y=>y.status==="delivered"&&Na(y.updatedAt,"yyyy-MM-dd")===Na(new Date,"yyyy-MM-dd")),d=u.reduce((y,b)=>y+b.total,0),f=e.filter(y=>y.status==="pending").length,g=n.filter(y=>y.currentStock<=y.minStock).length,p=(l==null?void 0:l.email)==="demo@clubmanager.com",m=[{title:"Faturamento Hoje",value:`R$ ${d.toFixed(2)}`,icon:Vs,color:"text-green-600",bgColor:"bg-green-100"},{title:"Pedidos Pendentes",value:f,icon:Qt,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Vendas Hoje",value:u.length,icon:$m,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Estoque Baixo",value:g,icon:cn,color:"text-red-600",bgColor:"bg-red-100"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Dashboard Executivo",p&&r.jsx("span",{className:"ml-3 text-lg text-green-600 font-normal",children:" Modo Demo Ativo"})]}),r.jsx("p",{className:"text-gray-600",children:"Viso geral das operaes do clube"})]}),p&&r.jsxs(_e.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[r.jsx(Hc,{size:16}),r.jsx("span",{className:"text-sm font-medium",children:"Teste todas as funcionalidades!"})]})]})}),p&&r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-600 rounded-full",children:r.jsx(Hc,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Bem-vindo ao ClubManager Demo!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Explore todos os mdulos e funcionalidades do sistema. Voc pode criar pedidos, gerenciar a cozinha, controlar estoque e muito mais!"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(an,{to:"/bar",className:"flex items-center justify-between p-3 bg-white rounded-lg border border-blue-200 hover:border-blue-400 transition-colors group",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qf,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-medium text-gray-800",children:"Testar Mdulo Bar"})]}),r.jsx(Ub,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),r.jsxs(an,{to:"/kitchen",className:"flex items-center justify-between p-3 bg-white rounded-lg border border-green-200 hover:border-green-400 transition-colors group",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Uc,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium text-gray-800",children:"Testar Mdulo Cozinha"})]}),r.jsx(Ub,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]})]})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((y,b)=>{const _=y.title==="Estoque Baixo";return r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:b*.1},className:`bg-white rounded-lg shadow-md p-6 ${_?"cursor-pointer hover:shadow-lg transition-shadow":""}`,onClick:_?()=>s("/inventory/estoque-baixo"):void 0,whileHover:_?{scale:1.02}:{},whileTap:_?{scale:.98}:{},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:y.title}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:y.value})]}),r.jsx("div",{className:`p-3 rounded-full ${y.bgColor}`,children:r.jsx(y.icon,{className:`w-6 h-6 ${y.color}`})})]})},y.title)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pedidos Recentes"}),r.jsxs("div",{className:"space-y-3",children:[e.slice(0,5).map(y=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:["Mesa ",y.tableNumber||"N/A"]}),r.jsx("p",{className:"text-sm text-gray-600",children:Na(y.createdAt,"HH:mm",{locale:Gn})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium text-gray-800",children:["R$ ",y.total.toFixed(2)]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y.status==="pending"?"bg-yellow-100 text-yellow-800":y.status==="preparing"?"bg-blue-100 text-blue-800":y.status==="ready"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.status==="pending"?"Pendente":y.status==="preparing"?"Preparando":y.status==="ready"?"Pronto":"Entregue"})]})]},y.id)),e.length===0&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-gray-500 mb-2",children:"Nenhum pedido ainda"}),p&&r.jsx(an,{to:"/bar",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Criar primeiro pedido "})]})]})]}),r.jsxs(_e.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Alertas de Estoque"}),r.jsxs("div",{className:"space-y-3",children:[n.filter(y=>y.currentStock<=y.minStock).slice(0,5).map(y=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:y.name}),r.jsx("p",{className:"text-sm text-gray-600",children:y.category})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium text-red-600",children:[y.currentStock," ",y.unit]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Mn: ",y.minStock]})]})]},y.id)),n.filter(y=>y.currentStock<=y.minStock).length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Todos os itens com estoque adequado"})]})]})]}),r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mdulos Disponveis"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(an,{to:"/bar",className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors cursor-pointer group",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(qf,{className:"w-5 h-5 text-blue-600"}),r.jsx("h4",{className:"font-medium text-gray-800 group-hover:text-blue-600 transition-colors",children:"Mdulo Bar"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Gesto completa de pedidos, comandas e vendas do bar"})]}),r.jsxs(an,{to:"/cash",className:"p-4 border border-gray-200 rounded-lg hover:border-green-300 transition-colors cursor-pointer group",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Vs,{className:"w-5 h-5 text-green-600"}),r.jsx("h4",{className:"font-medium text-gray-800 group-hover:text-green-600 transition-colors",children:"Gesto de Caixa"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Controle financeiro, fechamento de caixa e relatrios"})]}),r.jsxs(an,{to:"/kitchen",className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors cursor-pointer group",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Uc,{className:"w-5 h-5 text-orange-600"}),r.jsx("h4",{className:"font-medium text-gray-800 group-hover:text-orange-600 transition-colors",children:"Mdulo Cozinha"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Controle de cardpio, pedidos e gesto da cozinha"})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(ln,{className:"w-5 h-5 text-gray-400"}),r.jsx("h4",{className:"font-medium text-gray-500",children:"Mdulos Futuros"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Quadras, Piscina, Eventos, RH e mais"})]})]})]})]})},Uj=({onCustomerSelected:s,onClose:e})=>{const[n,i]=v.useState({phone:"",name:"",email:""}),[l,u]=v.useState(null),[d,f]=v.useState(!1),[g,p]=v.useState(!1),[m,y]=v.useState(null),b=async O=>{if(!(O.length<10)){p(!0),y(null);try{const{data:E,error:T}=await de.rpc("get_bar_customer_by_phone",{customer_phone:O});if(T)throw T;if(E&&E.length>0){const S=E[0];u(S),i({phone:S.phone,name:S.name,email:S.email||""})}else u(null),i(S=>({...S,name:"",email:""}))}catch(E){console.error("Erro ao buscar cliente:",E),y("Erro ao buscar cliente")}finally{p(!1)}}},_=O=>{const E=O.replace(/\D/g,"");return E.length<=11?E.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):O},w=O=>{const E=O.target.value,T=_(E);i(R=>({...R,phone:T}));const S=E.replace(/\D/g,"");S.length===11?b(S):u(null)},C=async()=>{f(!0),y(null);try{const O=n.phone.replace(/\D/g,""),{data:E,error:T}=await de.from("bar_customers").insert({phone:O,name:n.name,email:n.email||null,status:"active",is_vip:!1,loyalty_points:0,credit_limit:0,current_balance:0}).select().single();if(T)throw T;s(E)}catch(O){console.error("Erro ao criar cliente:",O),y("Erro ao criar cliente")}finally{f(!1)}},N=()=>{l&&s(l)},k=O=>{if(O.preventDefault(),!n.phone||!n.name){y("Telefone e nome so obrigatrios");return}l?N():C()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"Cliente Encontrado":"Cadastro de Cliente"}),r.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),m&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:m}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:n.phone,onChange:w,placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:15,required:!0}),g&&r.jsx("div",{className:"absolute right-3 top-2.5",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),r.jsx("input",{type:"text",value:n.name,onChange:O=>i(E=>({...E,name:O.target.value})),placeholder:"Nome completo",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:!!l})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (opcional)"}),r.jsx("input",{type:"email",value:n.email,onChange:O=>i(E=>({...E,email:O.target.value})),placeholder:"email@exemplo.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!!l})]}),l&&r.jsx("div",{className:"p-3 bg-green-100 border border-green-400 rounded",children:r.jsxs("p",{className:"text-green-700 text-sm",children:[r.jsx("strong",{children:"Cliente encontrado!"}),r.jsx("br",{}),"ltima visita: ",l.last_visit?new Date(l.last_visit).toLocaleDateString("pt-BR"):"Primeira visita",r.jsx("br",{}),"Pontos de fidelidade: ",l.loyalty_points,l.is_vip&&r.jsx("span",{className:"ml-2 text-yellow-600",children:" VIP"})]})}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:d||!n.phone||!n.name,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processando..."]}):l?"Selecionar Cliente":"Cadastrar Cliente"})]})]})]})})},FM=({isOpen:s,onClose:e,menuItems:n})=>{const{addOrder:i}=wt(),{user:l}=ps(),[u,d]=v.useState([]),[f,g]=v.useState(""),[p,m]=v.useState(""),[y,b]=v.useState(!1),[_,w]=v.useState(null),[C,N]=v.useState(!1),k=z=>{if(u.find(F=>F.menuItemId===z.id))d(F=>F.map(V=>V.menuItemId===z.id?{...V,quantity:V.quantity+1}:V));else{const F={id:`item-${Date.now()}`,menuItemId:z.id,quantity:1,price:z.price};d(V=>[...V,F])}},O=z=>{d($=>$.filter(F=>F.menuItemId!==z))},E=(z,$)=>{if($<=0){O(z);return}d(F=>F.map(V=>V.menuItemId===z?{...V,quantity:$}:V))},T=u.reduce((z,$)=>z+$.price*$.quantity,0),S=z=>{w(z),N(!1)},R=async z=>{if(z.preventDefault(),!(u.length===0||y)){if(!_){alert("Por favor, selecione um cliente antes de finalizar o pedido.");return}b(!0);try{await i({tableNumber:f||void 0,items:u.map(({id:$,...F})=>F),status:"pending",employeeId:l.id,customerId:_.id,notes:p||void 0}),d([]),g(""),m(""),w(null),e()}catch($){console.error("Falha ao criar o pedido:",$)}finally{b(!1)}}};return r.jsx(Xn,{children:s&&r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[r.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Novo Pedido"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(ut,{size:24})})]}),r.jsxs("div",{className:"flex h-[70vh]",children:[r.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Cardpio"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(z=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:z.name}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",z.price.toFixed(2)]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:z.description}),r.jsx("button",{onClick:()=>k(z),disabled:!z.available||y,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:z.available?"Adicionar":"Indisponvel"})]},z.id))})]}),r.jsxs("div",{className:"w-1/3 bg-gray-50 p-6 border-l border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pedido"}),r.jsxs("form",{onSubmit:R,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),_?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-800",children:_.name}),r.jsx("p",{className:"text-sm text-green-600",children:_.phone}),_.is_vip&&r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-1",children:" VIP"})]}),r.jsx("button",{type:"button",onClick:()=>w(null),className:"text-green-600 hover:text-green-800",disabled:y,children:r.jsx(ut,{size:16})})]})}):r.jsxs("button",{type:"button",onClick:()=>N(!0),className:"w-full flex items-center justify-center px-3 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors",disabled:y,children:[r.jsx($c,{size:20,className:"mr-2"}),"Selecionar Cliente"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da Mesa"}),r.jsx("input",{type:"text",value:f,onChange:z=>g(z.target.value),placeholder:"Ex: 5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y})]}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:u.map(z=>{const $=n.find(F=>F.id===z.menuItemId);return r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:$==null?void 0:$.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",z.price.toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>E(z.menuItemId,z.quantity-1),className:"text-gray-400 hover:text-gray-600",disabled:y,children:r.jsx(qm,{size:16})}),r.jsx("span",{className:"w-8 text-center",children:z.quantity}),r.jsx("button",{type:"button",onClick:()=>E(z.menuItemId,z.quantity+1),className:"text-gray-400 hover:text-gray-600",disabled:y,children:r.jsx(gs,{size:16})})]})]},z.id)})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),r.jsx("textarea",{value:p,onChange:z=>m(z.target.value),placeholder:"Observaes especiais...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),r.jsxs("span",{className:"text-xl font-bold text-green-600",children:["R$ ",T.toFixed(2)]})]}),r.jsx("button",{type:"submit",disabled:u.length===0||y||!_,className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 disabled:bg-green-400 disabled:cursor-not-allowed transition-colors",children:y?"Confirmando...":"Confirmar Pedido"})]})]})]})]})]}),C&&r.jsx(Uj,{onCustomerSelected:S,onClose:()=>N(!1)})]})})},IM=({order:s,menuItems:e,hasMultipleOrders:n=!1,orderNumber:i,totalOrdersForTable:l=1})=>{const{updateOrderStatus:u}=wt(),d=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"preparing":return"bg-blue-100 text-blue-800 border-blue-200";case"ready":return"bg-green-100 text-green-800 border-green-200";case"delivered":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=m=>{switch(m){case"pending":return"Pendente";case"preparing":return"Preparando";case"ready":return"Pronto";case"delivered":return"Entregue";case"cancelled":return"Cancelado";default:return m}},p=(m=>{switch(m){case"pending":return"preparing";case"preparing":return"ready";case"ready":return"delivered";default:return null}})(s.status);return r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow ${n?"ring-2 ring-orange-300 ring-offset-2":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ru,{size:16,className:"text-gray-400"}),r.jsxs("span",{className:"font-medium text-gray-800",children:["Mesa ",s.tableNumber||"N/A"]}),i&&r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",i]}),n&&r.jsxs("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[l," pedidos"]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${d(s.status)}`,children:f(s.status)})]}),r.jsx("div",{className:"space-y-2 mb-4",children:s.items.map(m=>{const y=e.find(b=>b.id===m.menuItemId);return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:[m.quantity,"x ",y==null?void 0:y.name]}),r.jsxs("span",{className:"text-gray-800",children:["R$ ",(m.price*m.quantity).toFixed(2)]})]},m.id)})}),s.notes&&r.jsx("div",{className:"mb-4 p-2 bg-yellow-50 rounded border border-yellow-200",children:r.jsx("p",{className:"text-xs text-yellow-800",children:s.notes})}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Qt,{size:12}),r.jsx("span",{children:Na(s.createdAt,"HH:mm",{locale:Gn})})]}),r.jsxs("span",{className:"font-medium text-gray-800",children:["R$ ",s.total.toFixed(2)]})]}),p&&r.jsxs("button",{onClick:()=>u(s.id,p),className:"w-full bg-blue-600 text-white py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[p==="preparing"&&"Iniciar Preparo",p==="ready"&&"Marcar como Pronto",p==="delivered"&&"Marcar como Entregue"]})]})},GM=()=>{const{orders:s,barOrders:e,menuItems:n}=wt(),[i,l]=v.useState(!1),[u,d]=v.useState("all"),[f,g]=v.useState(""),p=n,y=(()=>{const N=new Map;return e.forEach(k=>{const O=k.tableNumber||"Balco";N.has(O)||N.set(O,[]),N.get(O).push(k)}),N})(),b=N=>(y.get(N)||[]).length>1,_=N=>N.id.slice(-4).toUpperCase(),w=e.filter(N=>{var E,T;const k=u==="all"||N.status===u,O=((E=N.tableNumber)==null?void 0:E.toLowerCase().includes(f.toLowerCase()))||N.id.toLowerCase().includes(f.toLowerCase())||((T=N.notes)==null?void 0:T.toLowerCase().includes(f.toLowerCase()));return k&&O}),C=e.filter(N=>N.status==="delivered").reduce((N,k)=>N+k.total,0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Bar"}),r.jsx("p",{className:"text-gray-600",children:"Gesto completa de pedidos e vendas"})]}),r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Novo Pedido"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Receita Total"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",C.toFixed(2)]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pedidos Hoje"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pedidos Pendentes"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(N=>N.status==="pending").length})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Pedidos"}),Array.from(y.entries()).filter(([N,k])=>k.length>1).length>0&&r.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[Array.from(y.entries()).filter(([N,k])=>k.length>1).length," mesa(s) com mltiplos pedidos"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ea,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:f,onChange:N=>g(N.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:u,onChange:N=>d(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos os Status"}),r.jsx("option",{value:"pending",children:"Pendente"}),r.jsx("option",{value:"preparing",children:"Preparando"}),r.jsx("option",{value:"ready",children:"Pronto"}),r.jsx("option",{value:"delivered",children:"Entregue"})]})]})]}),Array.from(y.entries()).filter(([N,k])=>k.length>1).length>0&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(y.entries()).filter(([N,k])=>k.length>1).map(([N,k])=>r.jsxs("span",{className:"bg-orange-200 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:["Mesa ",N,": ",k.length," pedidos"]},N))})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(N=>r.jsx(IM,{order:N,menuItems:n,hasMultipleOrders:b(N.tableNumber||"Balco"),orderNumber:_(N),totalOrdersForTable:(y.get(N.tableNumber||"Balco")||[]).length},N.id))}),w.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado"})})]}),i&&r.jsx(FM,{isOpen:i,onClose:()=>l(!1),menuItems:p})]})},YM=()=>{const[s,e]=v.useState([]),[n,i]=v.useState(!0),[l,u]=v.useState(""),[d,f]=v.useState("all"),[g,p]=v.useState(!1),[m,y]=v.useState(null),[b,_]=v.useState(!1),w=async()=>{i(!0);try{const{data:S,error:R}=await de.from("bar_customers").select("*").order("created_at",{ascending:!1});if(R)throw R;e(S||[])}catch(S){console.error("Erro ao carregar clientes:",S)}finally{i(!1)}};v.useEffect(()=>{w()},[]);const C=s.filter(S=>{const R=S.name.toLowerCase().includes(l.toLowerCase())||S.phone.includes(l)||S.email&&S.email.toLowerCase().includes(l.toLowerCase()),z=d==="all"||S.status===d;return R&&z}),N={total:s.length,active:s.filter(S=>S.status==="active").length,vip:s.filter(S=>S.is_vip).length,totalLoyaltyPoints:s.reduce((S,R)=>S+R.loyalty_points,0)},k=S=>{e(R=>[S,...R]),p(!1)},O=S=>{y(S),_(!0)},E=S=>{const R=S.replace(/\D/g,"");return R.length===11?`(${R.slice(0,2)}) ${R.slice(2,7)}-${R.slice(7)}`:S},T=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S);return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Clientes do Bar"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie os clientes e suas informaes"})]}),r.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Novo Cliente"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Clientes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Vc,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.active})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(au,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes VIP"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.vip})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:r.jsx(Uf,{className:"h-6 w-6 text-yellow-600"})})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pontos Totais"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N.totalLoyaltyPoints.toLocaleString()})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(Vs,{className:"h-6 w-6 text-purple-600"})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone ou email...",value:l,onChange:S=>u(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex space-x-4",children:r.jsxs("select",{value:d,onChange:S=>f(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos os Status"}),r.jsx("option",{value:"active",children:"Ativo"}),r.jsx("option",{value:"inactive",children:"Inativo"}),r.jsx("option",{value:"blocked",children:"Bloqueado"})]})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando clientes..."})]}):C.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Vc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Nenhum cliente encontrado"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltima Visita"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(S=>r.jsxs(_e.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:S.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name}),S.is_vip&&r.jsx(Uf,{className:"ml-2 h-4 w-4 text-yellow-500 fill-current"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:S.cpf||"CPF no informado"})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:E(S.phone)}),r.jsx("div",{className:"text-sm text-gray-500",children:S.email||"Email no informado"})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.status==="active"?"bg-green-100 text-green-800":S.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:S.status==="active"?"Ativo":S.status==="inactive"?"Inativo":"Bloqueado"})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[S.loyalty_points.toLocaleString()," pts"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.last_visit?new Date(S.last_visit).toLocaleDateString("pt-BR"):"Nunca"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>O(S),className:"text-blue-600 hover:text-blue-900",children:r.jsx(nu,{size:16})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:r.jsx(Zo,{size:16})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",children:r.jsx(iu,{size:16})})]})})]},S.id))})]})})}),g&&r.jsx(Uj,{onCustomerSelected:k,onClose:()=>p(!1)}),b&&m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Detalhes do Cliente"}),r.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E(m.phone)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.email||"No informado"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CPF"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.cpf||"No informado"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("p",{className:"mt-1",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.status==="active"?"bg-green-100 text-green-800":m.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:m.status==="active"?"Ativo":m.status==="inactive"?"Inativo":"Bloqueado"}),m.is_vip&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:" VIP"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pontos de Fidelidade"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[m.loyalty_points.toLocaleString()," pontos"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Limite de Crdito"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T(m.credit_limit)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Saldo Atual"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T(m.current_balance)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ltima Visita"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.last_visit?new Date(m.last_visit).toLocaleDateString("pt-BR"):"Nunca"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cadastrado em"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(m.created_at).toLocaleDateString("pt-BR")})]})]}),m.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observaes"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.notes})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Fechar"})})]})})]})},XM=()=>{const[s,e]=v.useState([]),[n,i]=v.useState(!0),[l,u]=v.useState(null),d=v.useCallback(async()=>{try{i(!0),u(null);const{data:w,error:C}=await de.from("bar_employees").select("*").order("created_at",{ascending:!1});if(C)throw console.error("Erro na consulta bar_employees:",C),new Error(`Erro ao consultar banco de dados: ${C.message}`);const N=(w||[]).map(k=>{const O=k.notes||"",E=O.match(/Nome: ([^,]+)/),T=O.match(/CPF: ([^,]+)/),S=O.match(/Email: ([^,]+)/),R=O.match(/Telefone: ([^,]+)/);return{id:k.id,employee_id:k.employee_id||"",bar_role:k.bar_role,shift_preference:k.shift_preference,specialties:k.specialties||[],commission_rate:k.commission_rate||0,status:k.is_active?"active":"inactive",start_date:k.start_date,end_date:k.end_date,notes:k.notes,created_at:k.created_at,updated_at:k.updated_at,employee:{id:k.id,name:E?E[1]:"Nome no informado",cpf:T?T[1]:void 0,email:S?S[1]:void 0,phone:R?R[1]:void 0,hire_date:k.start_date,status:k.is_active?"active":"inactive"}}});console.log("Funcionrios carregados:",N.length),e(N)}catch(w){console.error("Erro ao buscar funcionrios:",w),u(w instanceof Error?w.message:"Erro ao buscar funcionrios")}finally{i(!1)}},[]),f=v.useCallback(async w=>{try{u(null);const{data:C,error:N}=await de.from("bar_employees").insert([{employee_id:null,bar_role:w.bar_role,shift_preference:w.shift_preference||"qualquer",specialties:w.specialties||[],commission_rate:w.commission_rate||0,is_active:!0,start_date:new Date().toISOString().split("T")[0],notes:`Nome: ${w.name}${w.cpf?`, CPF: ${w.cpf}`:""}${w.email?`, Email: ${w.email}`:""}${w.phone?`, Telefone: ${w.phone}`:""}${w.notes?`, Observaes: ${w.notes}`:""}`}]).select().single();if(N)throw N;return await d(),C.id}catch(C){console.error("Erro ao criar funcionrio:",C);const N=C instanceof Error?C.message:"Erro ao criar funcionrio";throw u(N),new Error(N)}},[d]),g=v.useCallback(async(w,C)=>{try{u(null);const{data:N,error:k}=await de.from("bar_employees").select("notes").eq("id",w).single();if(k)throw k;let O=(N==null?void 0:N.notes)||"";C.name!==void 0&&(O=O.replace(/Nome: [^,]+/,`Nome: ${C.name}`),O.includes("Nome:")||(O=`Nome: ${C.name}, ${O}`)),C.cpf!==void 0&&(O=O.replace(/CPF: [^,]+/,`CPF: ${C.cpf}`),!O.includes("CPF:")&&C.cpf&&(O+=`, CPF: ${C.cpf}`)),C.email!==void 0&&(O=O.replace(/Email: [^,]+/,`Email: ${C.email}`),!O.includes("Email:")&&C.email&&(O+=`, Email: ${C.email}`)),C.phone!==void 0&&(O=O.replace(/Telefone: [^,]+/,`Telefone: ${C.phone}`),!O.includes("Telefone:")&&C.phone&&(O+=`, Telefone: ${C.phone}`));const E={updated_at:new Date().toISOString()};C.bar_role!==void 0&&(E.bar_role=C.bar_role),C.shift_preference!==void 0&&(E.shift_preference=C.shift_preference),C.specialties!==void 0&&(E.specialties=C.specialties),C.commission_rate!==void 0&&(E.commission_rate=C.commission_rate),C.is_active!==void 0&&(E.is_active=C.is_active),C.notes!==void 0&&(O+=C.notes?`, Observaes: ${C.notes}`:""),E.notes=O;const{error:T}=await de.from("bar_employees").update(E).eq("id",w);if(T)throw T;await d()}catch(N){console.error("Erro ao atualizar funcionrio:",N);const k=N instanceof Error?N.message:"Erro ao atualizar funcionrio";throw u(k),new Error(k)}},[d]),p=v.useCallback(async w=>{try{await g(w,{is_active:!1})}catch(C){throw console.error("Erro ao desativar funcionrio:",C),C}},[g]),m=v.useCallback(async w=>{try{await g(w,{is_active:!0})}catch(C){throw console.error("Erro ao reativar funcionrio:",C),C}},[g]),y=v.useCallback(async w=>{try{const{data:C,error:N}=await de.from("bar_employees").select("*").eq("id",w).single();if(N)throw N;if(!C)return null;const k=C.notes||"",O=k.match(/Nome: ([^,]+)/),E=k.match(/CPF: ([^,]+)/),T=k.match(/Email: ([^,]+)/),S=k.match(/Telefone: ([^,]+)/);return{id:C.id,employee_id:C.employee_id||"",bar_role:C.bar_role,shift_preference:C.shift_preference,specialties:C.specialties||[],commission_rate:C.commission_rate||0,status:C.is_active?"active":"inactive",start_date:C.start_date||"",end_date:C.end_date||void 0,notes:C.notes||void 0,created_at:C.created_at||"",updated_at:C.updated_at||"",employee:{id:C.id,name:O?O[1]:"Nome no informado",cpf:E?E[1]:void 0,email:T?T[1]:void 0,phone:S?S[1]:void 0,hire_date:C.start_date||void 0,status:C.is_active?"active":"inactive"}}}catch(C){return console.error("Erro ao buscar funcionrio:",C),null}},[]),b=v.useCallback((w="",C="all",N="all")=>s.filter(k=>{var R,z,$;const O=k.employee;if(!O)return!1;const E=O.name.toLowerCase().includes(w.toLowerCase())||((R=O.phone)==null?void 0:R.includes(w))||((z=O.email)==null?void 0:z.toLowerCase().includes(w.toLowerCase()))||(($=O.cpf)==null?void 0:$.includes(w)),T=C==="all"||k.bar_role===C,S=N==="all"||k.status===N;return E&&T&&S}),[s]),_=v.useCallback(()=>({total:s.length,active:s.filter(w=>w.status==="active").length,inactive:s.filter(w=>w.status==="inactive").length,byRole:{atendente:s.filter(w=>w.bar_role==="atendente").length,garcom:s.filter(w=>w.bar_role==="garcom").length,cozinheiro:s.filter(w=>w.bar_role==="cozinheiro").length,barman:s.filter(w=>w.bar_role==="barman").length,gerente:s.filter(w=>w.bar_role==="gerente").length}}),[s]);return v.useEffect(()=>{d()},[d]),{employees:s,loading:n,error:l,createEmployee:f,updateEmployee:g,deactivateEmployee:p,reactivateEmployee:m,getEmployeeById:y,filterEmployees:b,getStats:_,refetch:d}},KM=()=>{var xe,me;const{loading:s,error:e,createEmployee:n,updateEmployee:i,deactivateEmployee:l,reactivateEmployee:u,filterEmployees:d,getStats:f}=XM(),[g,p]=v.useState(""),[m,y]=v.useState("all"),[b,_]=v.useState("all"),[w,C]=v.useState(null),[N,k]=v.useState(!1),[O,E]=v.useState(!1),[T,S]=v.useState(!1),[R,z]=v.useState(!1),[$,F]=v.useState({name:"",cpf:"",email:"",phone:"",bar_role:"atendente",shift_preference:"qualquer",specialties:[],commission_rate:0,notes:""}),[V,W]=v.useState({}),Y=d(g,m,b),ae=f(),fe=async()=>{if(!$.name.trim()){alert("Por favor, informe o nome do funcionrio");return}z(!0);try{await n($),E(!1),ne(),alert("Funcionrio cadastrado com sucesso!")}catch(re){console.error("Erro ao criar funcionrio:",re),alert("Erro ao cadastrar funcionrio. Tente novamente.")}finally{z(!1)}},se=re=>{var he,De,Xe,pt;C(re),W({name:((he=re.employee)==null?void 0:he.name)||"",cpf:((De=re.employee)==null?void 0:De.cpf)||"",email:((Xe=re.employee)==null?void 0:Xe.email)||"",phone:((pt=re.employee)==null?void 0:pt.phone)||"",bar_role:re.bar_role,shift_preference:re.shift_preference,specialties:re.specialties||[],commission_rate:re.commission_rate,notes:re.notes||""}),S(!0)},L=async()=>{if(w){z(!0);try{await i(w.id,V),S(!1),C(null),W({}),alert("Funcionrio atualizado com sucesso!")}catch(re){console.error("Erro ao atualizar funcionrio:",re),alert("Erro ao atualizar funcionrio. Tente novamente.")}finally{z(!1)}}},D=async re=>{var De;if(confirm(`Tem certeza que deseja desativar o funcionrio ${(De=re.employee)==null?void 0:De.name}?`))try{await l(re.id),alert("Funcionrio desativado com sucesso!")}catch(Xe){console.error("Erro ao desativar funcionrio:",Xe),alert("Erro ao desativar funcionrio. Tente novamente.")}},I=async re=>{var De;if(confirm(`Tem certeza que deseja reativar o funcionrio ${(De=re.employee)==null?void 0:De.name}?`))try{await u(re.id),alert("Funcionrio reativado com sucesso!")}catch(Xe){console.error("Erro ao reativar funcionrio:",Xe),alert("Erro ao reativar funcionrio. Tente novamente.")}},ne=()=>{F({name:"",cpf:"",email:"",phone:"",bar_role:"atendente",shift_preference:"qualquer",specialties:[],commission_rate:0,notes:""})},A=re=>{C(re),k(!0)},q=re=>{if(!re)return"No informado";const he=re.replace(/\D/g,"");return he.length===11?`(${he.slice(0,2)}) ${he.slice(2,7)}-${he.slice(7)}`:re},P=re=>{switch(re){case"atendente":return"";case"garcom":return"";case"cozinheiro":return"";case"barman":return"";case"gerente":return"";default:return""}},J=re=>{switch(re){case"atendente":return"bg-blue-100 text-blue-800";case"garcom":return"bg-green-100 text-green-800";case"cozinheiro":return"bg-orange-100 text-orange-800";case"barman":return"bg-purple-100 text-purple-800";case"gerente":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ue=re=>{switch(re){case"atendente":return"Atendente";case"garcom":return"Garom";case"cozinheiro":return"Cozinheiro";case"barman":return"Barman";case"gerente":return"Gerente";default:return re}};return r.jsxs("div",{className:"p-6 space-y-6",children:[e&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"text-red-600",children:r.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("p",{className:"text-red-800",children:e})]})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Funcionrios do Bar"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie a equipe do bar e suas funes"})]}),r.jsxs("button",{onClick:()=>E(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Novo Funcionrio"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ae.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:ae.active}),r.jsx("div",{className:"text-sm text-gray-600",children:"Ativos"})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[" ",ae.byRole.atendente]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Atendentes"})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-xl font-bold text-green-600",children:[" ",ae.byRole.garcom]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Garons"})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[" ",ae.byRole.cozinheiro]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Cozinheiros"})]})}),r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[" ",ae.byRole.barman]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Barmans"})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone ou email...",value:g,onChange:re=>p(re.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("select",{value:m,onChange:re=>y(re.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas as Funes"}),r.jsx("option",{value:"atendente",children:"Atendente"}),r.jsx("option",{value:"garcom",children:"Garom"}),r.jsx("option",{value:"cozinheiro",children:"Cozinheiro"}),r.jsx("option",{value:"barman",children:"Barman"}),r.jsx("option",{value:"gerente",children:"Gerente"})]}),r.jsxs("select",{value:b,onChange:re=>_(re.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos os Status"}),r.jsx("option",{value:"active",children:"Ativo"}),r.jsx("option",{value:"inactive",children:"Inativo"})]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando funcionrios..."})]}):Y.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx($c,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Nenhum funcionrio encontrado"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funcionrio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funo no Bar"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Contratao"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map(re=>{const he=re.employee;return he?r.jsxs(_e.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:he.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:he.name}),r.jsx("div",{className:"text-sm text-gray-500",children:he.cpf||"CPF no informado"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(re.bar_role)}`,children:[r.jsx("span",{className:"mr-1",children:P(re.bar_role)}),ue(re.bar_role)]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:q(he.phone||null)}),r.jsx("div",{className:"text-sm text-gray-500",children:he.email||"Email no informado"})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${re.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:re.status==="active"?"Ativo":"Inativo"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.hire_date?new Date(he.hire_date).toLocaleDateString("pt-BR"):"No informado"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>A(re),className:"text-blue-600 hover:text-blue-900",children:r.jsx(nu,{size:16})}),r.jsx("button",{onClick:()=>se(re),className:"text-gray-600 hover:text-gray-900",title:"Editar funcionrio",children:r.jsx(Zo,{size:16})}),re.status==="active"?r.jsx("button",{onClick:()=>D(re),className:"text-red-600 hover:text-red-900",title:"Desativar funcionrio",children:r.jsx(iu,{size:16})}):r.jsx("button",{onClick:()=>I(re),className:"text-green-600 hover:text-green-900",title:"Reativar funcionrio",children:r.jsx($c,{size:16})})]})})]},re.id):null})})]})})}),N&&w&&w.employee&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Detalhes do Funcionrio"}),r.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.employee.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Funo no Bar"}),r.jsx("p",{className:"mt-1",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(w.bar_role)}`,children:[r.jsx("span",{className:"mr-1",children:P(w.bar_role)}),ue(w.bar_role)]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q(((xe=w.employee)==null?void 0:xe.phone)||null)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.employee.email||"No informado"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CPF"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.employee.cpf||"No informado"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsx("p",{className:"mt-1",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.status==="active"?"Ativo":"Inativo"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Contratao"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.employee.hire_date?new Date(w.employee.hire_date).toLocaleDateString("pt-BR"):"No informado"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cadastrado no Bar em"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(w.created_at).toLocaleDateString("pt-BR")})]})]}),w.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observaes"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.notes})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Fechar"})})]})}),O&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Novo Funcionrio"}),r.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),r.jsx("input",{type:"text",value:$.name,onChange:re=>F(he=>({...he,name:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),r.jsx("input",{type:"text",value:$.cpf,onChange:re=>F(he=>({...he,cpf:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:$.email,onChange:re=>F(he=>({...he,email:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),r.jsx("input",{type:"text",value:$.phone,onChange:re=>F(he=>({...he,phone:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funo *"}),r.jsxs("select",{value:$.bar_role,onChange:re=>F(he=>({...he,bar_role:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"atendente",children:"Atendente"}),r.jsx("option",{value:"garcom",children:"Garom"}),r.jsx("option",{value:"cozinheiro",children:"Cozinheiro"}),r.jsx("option",{value:"barman",children:"Barman"}),r.jsx("option",{value:"gerente",children:"Gerente"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turno Preferido"}),r.jsxs("select",{value:$.shift_preference,onChange:re=>F(he=>({...he,shift_preference:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"qualquer",children:"Qualquer"}),r.jsx("option",{value:"manha",children:"Manh"}),r.jsx("option",{value:"tarde",children:"Tarde"}),r.jsx("option",{value:"noite",children:"Noite"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comisso (%)"}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:$.commission_rate,onChange:re=>F(he=>({...he,commission_rate:parseFloat(re.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),r.jsx("textarea",{value:$.notes,onChange:re=>F(he=>({...he,notes:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observaes adicionais (opcional)"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{E(!1),ne()},disabled:R,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50",children:"Cancelar"}),r.jsx("button",{onClick:fe,disabled:R||!$.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:R?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Cadastrando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(qc,{size:16}),r.jsx("span",{children:"Cadastrar"})]})})]})]})}),T&&w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar Funcionrio"}),r.jsx("button",{onClick:()=>{S(!1),C(null),W({})},className:"text-gray-400 hover:text-gray-600",children:r.jsx(ut,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),r.jsx("input",{type:"text",value:V.name||"",onChange:re=>W(he=>({...he,name:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),r.jsx("input",{type:"text",value:V.cpf||"",onChange:re=>W(he=>({...he,cpf:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:V.email||"",onChange:re=>W(he=>({...he,email:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),r.jsx("input",{type:"text",value:V.phone||"",onChange:re=>W(he=>({...he,phone:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funo *"}),r.jsxs("select",{value:V.bar_role||"atendente",onChange:re=>W(he=>({...he,bar_role:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"atendente",children:"Atendente"}),r.jsx("option",{value:"garcom",children:"Garom"}),r.jsx("option",{value:"cozinheiro",children:"Cozinheiro"}),r.jsx("option",{value:"barman",children:"Barman"}),r.jsx("option",{value:"gerente",children:"Gerente"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turno Preferido"}),r.jsxs("select",{value:V.shift_preference||"qualquer",onChange:re=>W(he=>({...he,shift_preference:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"qualquer",children:"Qualquer"}),r.jsx("option",{value:"manha",children:"Manh"}),r.jsx("option",{value:"tarde",children:"Tarde"}),r.jsx("option",{value:"noite",children:"Noite"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comisso (%)"}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:V.commission_rate||0,onChange:re=>W(he=>({...he,commission_rate:parseFloat(re.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:V.is_active!==void 0?V.is_active?"active":"inactive":"active",onChange:re=>W(he=>({...he,is_active:re.target.value==="active"})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"active",children:"Ativo"}),r.jsx("option",{value:"inactive",children:"Inativo"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),r.jsx("textarea",{value:V.notes||"",onChange:re=>W(he=>({...he,notes:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observaes adicionais (opcional)"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{S(!1),C(null),W({})},disabled:R,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50",children:"Cancelar"}),r.jsx("button",{onClick:L,disabled:R||!((me=V.name)!=null&&me.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:R?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Salvando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(qc,{size:16}),r.jsx("span",{children:"Salvar"})]})})]})]})})]})};var Jo=s=>s.type==="checkbox",qn=s=>s instanceof Date,Xt=s=>s==null;const Vj=s=>typeof s=="object";var gt=s=>!Xt(s)&&!Array.isArray(s)&&Vj(s)&&!qn(s),qj=s=>gt(s)&&s.target?Jo(s.target)?s.target.checked:s.target.value:s,QM=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,$j=(s,e)=>s.has(QM(e)),WM=s=>{const e=s.constructor&&s.constructor.prototype;return gt(e)&&e.hasOwnProperty("isPrototypeOf")},Hm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function St(s){let e;const n=Array.isArray(s),i=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)e=new Date(s);else if(!(Hm&&(s instanceof Blob||i))&&(n||gt(s)))if(e=n?[]:Object.create(Object.getPrototypeOf(s)),!n&&!WM(s))e=s;else for(const l in s)s.hasOwnProperty(l)&&(e[l]=St(s[l]));else return s;return e}var lu=s=>/^\w*$/.test(s),mt=s=>s===void 0,Fm=s=>Array.isArray(s)?s.filter(Boolean):[],Im=s=>Fm(s.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(s,e,n)=>{if(!e||!gt(s))return n;const i=(lu(e)?[e]:Im(e)).reduce((l,u)=>Xt(l)?l:l[u],s);return mt(i)||i===s?mt(s[e])?n:s[e]:i},ms=s=>typeof s=="boolean",tt=(s,e,n)=>{let i=-1;const l=lu(e)?[e]:Im(e),u=l.length,d=u-1;for(;++i<u;){const f=l[i];let g=n;if(i!==d){const p=s[f];g=gt(p)||Array.isArray(p)?p:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;s[f]=g,s=s[f]}};const Ic={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ba={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Hj=Ve.createContext(null);Hj.displayName="HookFormContext";const Gm=()=>Ve.useContext(Hj);var Fj=(s,e,n,i=!0)=>{const l={defaultValues:e._defaultValues};for(const u in s)Object.defineProperty(l,u,{get:()=>{const d=u;return e._proxyFormState[d]!==Bs.all&&(e._proxyFormState[d]=!i||Bs.all),n&&(n[d]=!0),s[d]}});return l};const Ym=typeof window<"u"?Ve.useLayoutEffect:Ve.useEffect;function ZM(s){const e=Gm(),{control:n=e.control,disabled:i,name:l,exact:u}=s||{},[d,f]=Ve.useState(n._formState),g=Ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ym(()=>n._subscribe({name:l,formState:g.current,exact:u,callback:p=>{!i&&f({...n._formState,...p})}}),[l,i,u]),Ve.useEffect(()=>{g.current.isValid&&n._setValid(!0)},[n]),Ve.useMemo(()=>Fj(d,n,g.current,!1),[d,n])}var Js=s=>typeof s=="string",Ij=(s,e,n,i,l)=>Js(s)?(i&&e.watch.add(s),be(n,s,l)):Array.isArray(s)?s.map(u=>(i&&e.watch.add(u),be(n,u))):(i&&(e.watchAll=!0),n),$f=s=>Xt(s)||!Vj(s);function ja(s,e,n=new WeakSet){if($f(s)||$f(e))return s===e;if(qn(s)&&qn(e))return s.getTime()===e.getTime();const i=Object.keys(s),l=Object.keys(e);if(i.length!==l.length)return!1;if(n.has(s)||n.has(e))return!0;n.add(s),n.add(e);for(const u of i){const d=s[u];if(!l.includes(u))return!1;if(u!=="ref"){const f=e[u];if(qn(d)&&qn(f)||gt(d)&&gt(f)||Array.isArray(d)&&Array.isArray(f)?!ja(d,f,n):d!==f)return!1}}return!0}function JM(s){const e=Gm(),{control:n=e.control,name:i,defaultValue:l,disabled:u,exact:d,compute:f}=s||{},g=Ve.useRef(l),p=Ve.useRef(f),m=Ve.useRef(void 0);p.current=f;const y=Ve.useMemo(()=>n._getWatch(i,g.current),[n,i]),[b,_]=Ve.useState(p.current?p.current(y):y);return Ym(()=>n._subscribe({name:i,formState:{values:!0},exact:d,callback:w=>{if(!u){const C=Ij(i,n._names,w.values||n._formValues,!1,g.current);if(p.current){const N=p.current(C);ja(N,m.current)||(_(N),m.current=N)}else _(C)}}}),[n,u,i,d]),Ve.useEffect(()=>n._removeUnmounted()),b}function e5(s){const e=Gm(),{name:n,disabled:i,control:l=e.control,shouldUnregister:u,defaultValue:d}=s,f=$j(l._names.array,n),g=Ve.useMemo(()=>be(l._formValues,n,be(l._defaultValues,n,d)),[l,n,d]),p=JM({control:l,name:n,defaultValue:g,exact:!0}),m=ZM({control:l,name:n,exact:!0}),y=Ve.useRef(s),b=Ve.useRef(l.register(n,{...s.rules,value:p,...ms(s.disabled)?{disabled:s.disabled}:{}}));y.current=s;const _=Ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!be(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!be(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!be(m.validatingFields,n)},error:{enumerable:!0,get:()=>be(m.errors,n)}}),[m,n]),w=Ve.useCallback(O=>b.current.onChange({target:{value:qj(O),name:n},type:Ic.CHANGE}),[n]),C=Ve.useCallback(()=>b.current.onBlur({target:{value:be(l._formValues,n),name:n},type:Ic.BLUR}),[n,l._formValues]),N=Ve.useCallback(O=>{const E=be(l._fields,n);E&&O&&(E._f.ref={focus:()=>O.focus&&O.focus(),select:()=>O.select&&O.select(),setCustomValidity:T=>O.setCustomValidity(T),reportValidity:()=>O.reportValidity()})},[l._fields,n]),k=Ve.useMemo(()=>({name:n,value:p,...ms(i)||m.disabled?{disabled:m.disabled||i}:{},onChange:w,onBlur:C,ref:N}),[n,i,m.disabled,w,C,N,p]);return Ve.useEffect(()=>{const O=l._options.shouldUnregister||u;l.register(n,{...y.current.rules,...ms(y.current.disabled)?{disabled:y.current.disabled}:{}});const E=(T,S)=>{const R=be(l._fields,T);R&&R._f&&(R._f.mount=S)};if(E(n,!0),O){const T=St(be(l._options.defaultValues,n));tt(l._defaultValues,n,T),mt(be(l._formValues,n))&&tt(l._formValues,n,T)}return!f&&l.register(n),()=>{(f?O&&!l._state.action:O)?l.unregister(n):E(n,!1)}},[n,l,f,u]),Ve.useEffect(()=>{l._setDisabledField({disabled:i,name:n})},[i,n,l]),Ve.useMemo(()=>({field:k,formState:m,fieldState:_}),[k,m,_])}const Fn=s=>s.render(e5(s));var t5=(s,e,n,i,l)=>e?{...n[s],types:{...n[s]&&n[s].types?n[s].types:{},[i]:l||!0}}:{},Do=s=>Array.isArray(s)?s:[s],Qb=()=>{let s=[];return{get observers(){return s},next:l=>{for(const u of s)u.next&&u.next(l)},subscribe:l=>(s.push(l),{unsubscribe:()=>{s=s.filter(u=>u!==l)}}),unsubscribe:()=>{s=[]}}},ss=s=>gt(s)&&!Object.keys(s).length,Xm=s=>s.type==="file",zs=s=>typeof s=="function",Gc=s=>{if(!Hm)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Gj=s=>s.type==="select-multiple",Km=s=>s.type==="radio",s5=s=>Km(s)||Jo(s),ef=s=>Gc(s)&&s.isConnected;function a5(s,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)s=mt(s)?i++:s[e[i++]];return s}function n5(s){for(const e in s)if(s.hasOwnProperty(e)&&!mt(s[e]))return!1;return!0}function bt(s,e){const n=Array.isArray(e)?e:lu(e)?[e]:Im(e),i=n.length===1?s:a5(s,n),l=n.length-1,u=n[l];return i&&delete i[u],l!==0&&(gt(i)&&ss(i)||Array.isArray(i)&&n5(i))&&bt(s,n.slice(0,-1)),s}var Yj=s=>{for(const e in s)if(zs(s[e]))return!0;return!1};function Yc(s,e={}){const n=Array.isArray(s);if(gt(s)||n)for(const i in s)Array.isArray(s[i])||gt(s[i])&&!Yj(s[i])?(e[i]=Array.isArray(s[i])?[]:{},Yc(s[i],e[i])):Xt(s[i])||(e[i]=!0);return e}function Xj(s,e,n){const i=Array.isArray(s);if(gt(s)||i)for(const l in s)Array.isArray(s[l])||gt(s[l])&&!Yj(s[l])?mt(e)||$f(n[l])?n[l]=Array.isArray(s[l])?Yc(s[l],[]):{...Yc(s[l])}:Xj(s[l],Xt(e)?{}:e[l],n[l]):n[l]=!ja(s[l],e[l]);return n}var wo=(s,e)=>Xj(s,e,Yc(e));const Wb={value:!1,isValid:!1},Zb={value:!0,isValid:!0};var Kj=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!mt(s[0].attributes.value)?mt(s[0].value)||s[0].value===""?Zb:{value:s[0].value,isValid:!0}:Zb:Wb}return Wb},Qj=(s,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>mt(s)?s:e?s===""?NaN:s&&+s:n&&Js(s)?new Date(s):i?i(s):s;const Jb={isValid:!1,value:null};var Wj=s=>Array.isArray(s)?s.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Jb):Jb;function ev(s){const e=s.ref;return Xm(e)?e.files:Km(e)?Wj(s.refs).value:Gj(e)?[...e.selectedOptions].map(({value:n})=>n):Jo(e)?Kj(s.refs).value:Qj(mt(e.value)?s.ref.value:e.value,s)}var r5=(s,e,n,i)=>{const l={};for(const u of s){const d=be(e,u);d&&tt(l,u,d._f)}return{criteriaMode:n,names:[...s],fields:l,shouldUseNativeValidation:i}},Xc=s=>s instanceof RegExp,jo=s=>mt(s)?s:Xc(s)?s.source:gt(s)?Xc(s.value)?s.value.source:s.value:s,tv=s=>({isOnSubmit:!s||s===Bs.onSubmit,isOnBlur:s===Bs.onBlur,isOnChange:s===Bs.onChange,isOnAll:s===Bs.all,isOnTouch:s===Bs.onTouched});const sv="AsyncFunction";var i5=s=>!!s&&!!s.validate&&!!(zs(s.validate)&&s.validate.constructor.name===sv||gt(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===sv)),o5=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),av=(s,e,n)=>!n&&(e.watchAll||e.watch.has(s)||[...e.watch].some(i=>s.startsWith(i)&&/^\.\w+/.test(s.slice(i.length))));const Ro=(s,e,n,i)=>{for(const l of n||Object.keys(s)){const u=be(s,l);if(u){const{_f:d,...f}=u;if(d){if(d.refs&&d.refs[0]&&e(d.refs[0],l)&&!i)return!0;if(d.ref&&e(d.ref,d.name)&&!i)return!0;if(Ro(f,e))break}else if(gt(f)&&Ro(f,e))break}}};function nv(s,e,n){const i=be(s,n);if(i||lu(n))return{error:i,name:n};const l=n.split(".");for(;l.length;){const u=l.join("."),d=be(e,u),f=be(s,u);if(d&&!Array.isArray(d)&&n!==u)return{name:n};if(f&&f.type)return{name:u,error:f};if(f&&f.root&&f.root.type)return{name:`${u}.root`,error:f.root};l.pop()}return{name:n}}var l5=(s,e,n,i)=>{n(s);const{name:l,...u}=s;return ss(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(d=>e[d]===(!i||Bs.all))},c5=(s,e,n)=>!s||!e||s===e||Do(s).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),u5=(s,e,n,i,l)=>l.isOnAll?!1:!n&&l.isOnTouch?!(e||s):(n?i.isOnBlur:l.isOnBlur)?!s:(n?i.isOnChange:l.isOnChange)?s:!0,d5=(s,e)=>!Fm(be(s,e)).length&&bt(s,e),h5=(s,e,n)=>{const i=Do(be(s,n));return tt(i,"root",e[n]),tt(s,n,i),s},Ec=s=>Js(s);function rv(s,e,n="validate"){if(Ec(s)||Array.isArray(s)&&s.every(Ec)||ms(s)&&!s)return{type:n,message:Ec(s)?s:"",ref:e}}var Yr=s=>gt(s)&&!Xc(s)?s:{value:s,message:""},iv=async(s,e,n,i,l,u)=>{const{ref:d,refs:f,required:g,maxLength:p,minLength:m,min:y,max:b,pattern:_,validate:w,name:C,valueAsNumber:N,mount:k}=s._f,O=be(n,C);if(!k||e.has(C))return{};const E=f?f[0]:d,T=Y=>{l&&E.reportValidity&&(E.setCustomValidity(ms(Y)?"":Y||""),E.reportValidity())},S={},R=Km(d),z=Jo(d),$=R||z,F=(N||Xm(d))&&mt(d.value)&&mt(O)||Gc(d)&&d.value===""||O===""||Array.isArray(O)&&!O.length,V=t5.bind(null,C,i,S),W=(Y,ae,fe,se=ba.maxLength,L=ba.minLength)=>{const D=Y?ae:fe;S[C]={type:Y?se:L,message:D,ref:d,...V(Y?se:L,D)}};if(u?!Array.isArray(O)||!O.length:g&&(!$&&(F||Xt(O))||ms(O)&&!O||z&&!Kj(f).isValid||R&&!Wj(f).isValid)){const{value:Y,message:ae}=Ec(g)?{value:!!g,message:g}:Yr(g);if(Y&&(S[C]={type:ba.required,message:ae,ref:E,...V(ba.required,ae)},!i))return T(ae),S}if(!F&&(!Xt(y)||!Xt(b))){let Y,ae;const fe=Yr(b),se=Yr(y);if(!Xt(O)&&!isNaN(O)){const L=d.valueAsNumber||O&&+O;Xt(fe.value)||(Y=L>fe.value),Xt(se.value)||(ae=L<se.value)}else{const L=d.valueAsDate||new Date(O),D=A=>new Date(new Date().toDateString()+" "+A),I=d.type=="time",ne=d.type=="week";Js(fe.value)&&O&&(Y=I?D(O)>D(fe.value):ne?O>fe.value:L>new Date(fe.value)),Js(se.value)&&O&&(ae=I?D(O)<D(se.value):ne?O<se.value:L<new Date(se.value))}if((Y||ae)&&(W(!!Y,fe.message,se.message,ba.max,ba.min),!i))return T(S[C].message),S}if((p||m)&&!F&&(Js(O)||u&&Array.isArray(O))){const Y=Yr(p),ae=Yr(m),fe=!Xt(Y.value)&&O.length>+Y.value,se=!Xt(ae.value)&&O.length<+ae.value;if((fe||se)&&(W(fe,Y.message,ae.message),!i))return T(S[C].message),S}if(_&&!F&&Js(O)){const{value:Y,message:ae}=Yr(_);if(Xc(Y)&&!O.match(Y)&&(S[C]={type:ba.pattern,message:ae,ref:d,...V(ba.pattern,ae)},!i))return T(ae),S}if(w){if(zs(w)){const Y=await w(O,n),ae=rv(Y,E);if(ae&&(S[C]={...ae,...V(ba.validate,ae.message)},!i))return T(ae.message),S}else if(gt(w)){let Y={};for(const ae in w){if(!ss(Y)&&!i)break;const fe=rv(await w[ae](O,n),E,ae);fe&&(Y={...fe,...V(ae,fe.message)},T(fe.message),i&&(S[C]=Y))}if(!ss(Y)&&(S[C]={ref:E,...Y},!i))return S}}return T(!0),S};const f5={mode:Bs.onSubmit,reValidateMode:Bs.onChange,shouldFocusError:!0};function m5(s={}){let e={...f5,...s},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:zs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},l=gt(e.defaultValues)||gt(e.values)?St(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:St(l),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...m};const b={array:Qb(),state:Qb()},_=e.criteriaMode===Bs.all,w=U=>Q=>{clearTimeout(p),p=setTimeout(U,Q)},C=async U=>{if(!e.disabled&&(m.isValid||y.isValid||U)){const Q=e.resolver?ss((await z()).errors):await F(i,!0);Q!==n.isValid&&b.state.next({isValid:Q})}},N=(U,Q)=>{!e.disabled&&(m.isValidating||m.validatingFields||y.isValidating||y.validatingFields)&&((U||Array.from(f.mount)).forEach(ie=>{ie&&(Q?tt(n.validatingFields,ie,Q):bt(n.validatingFields,ie))}),b.state.next({validatingFields:n.validatingFields,isValidating:!ss(n.validatingFields)}))},k=(U,Q=[],ie,ye,pe=!0,ge=!0)=>{if(ye&&ie&&!e.disabled){if(d.action=!0,ge&&Array.isArray(be(i,U))){const we=ie(be(i,U),ye.argA,ye.argB);pe&&tt(i,U,we)}if(ge&&Array.isArray(be(n.errors,U))){const we=ie(be(n.errors,U),ye.argA,ye.argB);pe&&tt(n.errors,U,we),d5(n.errors,U)}if((m.touchedFields||y.touchedFields)&&ge&&Array.isArray(be(n.touchedFields,U))){const we=ie(be(n.touchedFields,U),ye.argA,ye.argB);pe&&tt(n.touchedFields,U,we)}(m.dirtyFields||y.dirtyFields)&&(n.dirtyFields=wo(l,u)),b.state.next({name:U,isDirty:W(U,Q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else tt(u,U,Q)},O=(U,Q)=>{tt(n.errors,U,Q),b.state.next({errors:n.errors})},E=U=>{n.errors=U,b.state.next({errors:n.errors,isValid:!1})},T=(U,Q,ie,ye)=>{const pe=be(i,U);if(pe){const ge=be(u,U,mt(ie)?be(l,U):ie);mt(ge)||ye&&ye.defaultChecked||Q?tt(u,U,Q?ge:ev(pe._f)):fe(U,ge),d.mount&&C()}},S=(U,Q,ie,ye,pe)=>{let ge=!1,we=!1;const Ae={name:U};if(!e.disabled){if(!ie||ye){(m.isDirty||y.isDirty)&&(we=n.isDirty,n.isDirty=Ae.isDirty=W(),ge=we!==Ae.isDirty);const Pe=ja(be(l,U),Q);we=!!be(n.dirtyFields,U),Pe?bt(n.dirtyFields,U):tt(n.dirtyFields,U,!0),Ae.dirtyFields=n.dirtyFields,ge=ge||(m.dirtyFields||y.dirtyFields)&&we!==!Pe}if(ie){const Pe=be(n.touchedFields,U);Pe||(tt(n.touchedFields,U,ie),Ae.touchedFields=n.touchedFields,ge=ge||(m.touchedFields||y.touchedFields)&&Pe!==ie)}ge&&pe&&b.state.next(Ae)}return ge?Ae:{}},R=(U,Q,ie,ye)=>{const pe=be(n.errors,U),ge=(m.isValid||y.isValid)&&ms(Q)&&n.isValid!==Q;if(e.delayError&&ie?(g=w(()=>O(U,ie)),g(e.delayError)):(clearTimeout(p),g=null,ie?tt(n.errors,U,ie):bt(n.errors,U)),(ie?!ja(pe,ie):pe)||!ss(ye)||ge){const we={...ye,...ge&&ms(Q)?{isValid:Q}:{},errors:n.errors,name:U};n={...n,...we},b.state.next(we)}},z=async U=>{N(U,!0);const Q=await e.resolver(u,e.context,r5(U||f.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return N(U),Q},$=async U=>{const{errors:Q}=await z(U);if(U)for(const ie of U){const ye=be(Q,ie);ye?tt(n.errors,ie,ye):bt(n.errors,ie)}else n.errors=Q;return Q},F=async(U,Q,ie={valid:!0})=>{for(const ye in U){const pe=U[ye];if(pe){const{_f:ge,...we}=pe;if(ge){const Ae=f.array.has(ge.name),Pe=pe._f&&i5(pe._f);Pe&&m.validatingFields&&N([ye],!0);const ee=await iv(pe,f.disabled,u,_,e.shouldUseNativeValidation&&!Q,Ae);if(Pe&&m.validatingFields&&N([ye]),ee[ge.name]&&(ie.valid=!1,Q))break;!Q&&(be(ee,ge.name)?Ae?h5(n.errors,ee,ge.name):tt(n.errors,ge.name,ee[ge.name]):bt(n.errors,ge.name))}!ss(we)&&await F(we,Q,ie)}}return ie.valid},V=()=>{for(const U of f.unMount){const Q=be(i,U);Q&&(Q._f.refs?Q._f.refs.every(ie=>!ef(ie)):!ef(Q._f.ref))&&re(U)}f.unMount=new Set},W=(U,Q)=>!e.disabled&&(U&&Q&&tt(u,U,Q),!ja(A(),l)),Y=(U,Q,ie)=>Ij(U,f,{...d.mount?u:mt(Q)?l:Js(U)?{[U]:Q}:Q},ie,Q),ae=U=>Fm(be(d.mount?u:l,U,e.shouldUnregister?be(l,U,[]):[])),fe=(U,Q,ie={})=>{const ye=be(i,U);let pe=Q;if(ye){const ge=ye._f;ge&&(!ge.disabled&&tt(u,U,Qj(Q,ge)),pe=Gc(ge.ref)&&Xt(Q)?"":Q,Gj(ge.ref)?[...ge.ref.options].forEach(we=>we.selected=pe.includes(we.value)):ge.refs?Jo(ge.ref)?ge.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(pe)?we.checked=!!pe.find(Ae=>Ae===we.value):we.checked=pe===we.value||!!pe)}):ge.refs.forEach(we=>we.checked=we.value===pe):Xm(ge.ref)?ge.ref.value="":(ge.ref.value=pe,ge.ref.type||b.state.next({name:U,values:St(u)})))}(ie.shouldDirty||ie.shouldTouch)&&S(U,pe,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&ne(U)},se=(U,Q,ie)=>{for(const ye in Q){if(!Q.hasOwnProperty(ye))return;const pe=Q[ye],ge=U+"."+ye,we=be(i,ge);(f.array.has(U)||gt(pe)||we&&!we._f)&&!qn(pe)?se(ge,pe,ie):fe(ge,pe,ie)}},L=(U,Q,ie={})=>{const ye=be(i,U),pe=f.array.has(U),ge=St(Q);tt(u,U,ge),pe?(b.array.next({name:U,values:St(u)}),(m.isDirty||m.dirtyFields||y.isDirty||y.dirtyFields)&&ie.shouldDirty&&b.state.next({name:U,dirtyFields:wo(l,u),isDirty:W(U,ge)})):ye&&!ye._f&&!Xt(ge)?se(U,ge,ie):fe(U,ge,ie),av(U,f)&&b.state.next({...n,name:U}),b.state.next({name:d.mount?U:void 0,values:St(u)})},D=async U=>{d.mount=!0;const Q=U.target;let ie=Q.name,ye=!0;const pe=be(i,ie),ge=Pe=>{ye=Number.isNaN(Pe)||qn(Pe)&&isNaN(Pe.getTime())||ja(Pe,be(u,ie,Pe))},we=tv(e.mode),Ae=tv(e.reValidateMode);if(pe){let Pe,ee;const ke=Q.type?ev(pe._f):qj(U),qe=U.type===Ic.BLUR||U.type===Ic.FOCUS_OUT,It=!o5(pe._f)&&!e.resolver&&!be(n.errors,ie)&&!pe._f.deps||u5(qe,be(n.touchedFields,ie),n.isSubmitted,Ae,we),Vt=av(ie,f,qe);tt(u,ie,ke),qe?(!Q||!Q.readOnly)&&(pe._f.onBlur&&pe._f.onBlur(U),g&&g(0)):pe._f.onChange&&pe._f.onChange(U);const is=S(ie,ke,qe),xs=!ss(is)||Vt;if(!qe&&b.state.next({name:ie,type:U.type,values:St(u)}),It)return(m.isValid||y.isValid)&&(e.mode==="onBlur"?qe&&C():qe||C()),xs&&b.state.next({name:ie,...Vt?{}:is});if(!qe&&Vt&&b.state.next({...n}),e.resolver){const{errors:Hs}=await z([ie]);if(ge(ke),ye){const Fs=nv(n.errors,i,ie),mn=nv(Hs,i,Fs.name||ie);Pe=mn.error,ie=mn.name,ee=ss(Hs)}}else N([ie],!0),Pe=(await iv(pe,f.disabled,u,_,e.shouldUseNativeValidation))[ie],N([ie]),ge(ke),ye&&(Pe?ee=!1:(m.isValid||y.isValid)&&(ee=await F(i,!0)));ye&&(pe._f.deps&&ne(pe._f.deps),R(ie,ee,Pe,is))}},I=(U,Q)=>{if(be(n.errors,Q)&&U.focus)return U.focus(),1},ne=async(U,Q={})=>{let ie,ye;const pe=Do(U);if(e.resolver){const ge=await $(mt(U)?U:pe);ie=ss(ge),ye=U?!pe.some(we=>be(ge,we)):ie}else U?(ye=(await Promise.all(pe.map(async ge=>{const we=be(i,ge);return await F(we&&we._f?{[ge]:we}:we)}))).every(Boolean),!(!ye&&!n.isValid)&&C()):ye=ie=await F(i);return b.state.next({...!Js(U)||(m.isValid||y.isValid)&&ie!==n.isValid?{}:{name:U},...e.resolver||!U?{isValid:ie}:{},errors:n.errors}),Q.shouldFocus&&!ye&&Ro(i,I,U?pe:f.mount),ye},A=U=>{const Q={...d.mount?u:l};return mt(U)?Q:Js(U)?be(Q,U):U.map(ie=>be(Q,ie))},q=(U,Q)=>({invalid:!!be((Q||n).errors,U),isDirty:!!be((Q||n).dirtyFields,U),error:be((Q||n).errors,U),isValidating:!!be(n.validatingFields,U),isTouched:!!be((Q||n).touchedFields,U)}),P=U=>{U&&Do(U).forEach(Q=>bt(n.errors,Q)),b.state.next({errors:U?n.errors:{}})},J=(U,Q,ie)=>{const ye=(be(i,U,{_f:{}})._f||{}).ref,pe=be(n.errors,U)||{},{ref:ge,message:we,type:Ae,...Pe}=pe;tt(n.errors,U,{...Pe,...Q,ref:ye}),b.state.next({name:U,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&ye&&ye.focus&&ye.focus()},ue=(U,Q)=>zs(U)?b.state.subscribe({next:ie=>"values"in ie&&U(Y(void 0,Q),ie)}):Y(U,Q,!0),xe=U=>b.state.subscribe({next:Q=>{c5(U.name,Q.name,U.exact)&&l5(Q,U.formState||m,Pt,U.reRenderRoot)&&U.callback({values:{...u},...n,...Q,defaultValues:l})}}).unsubscribe,me=U=>(d.mount=!0,y={...y,...U.formState},xe({...U,formState:y})),re=(U,Q={})=>{for(const ie of U?Do(U):f.mount)f.mount.delete(ie),f.array.delete(ie),Q.keepValue||(bt(i,ie),bt(u,ie)),!Q.keepError&&bt(n.errors,ie),!Q.keepDirty&&bt(n.dirtyFields,ie),!Q.keepTouched&&bt(n.touchedFields,ie),!Q.keepIsValidating&&bt(n.validatingFields,ie),!e.shouldUnregister&&!Q.keepDefaultValue&&bt(l,ie);b.state.next({values:St(u)}),b.state.next({...n,...Q.keepDirty?{isDirty:W()}:{}}),!Q.keepIsValid&&C()},he=({disabled:U,name:Q})=>{(ms(U)&&d.mount||U||f.disabled.has(Q))&&(U?f.disabled.add(Q):f.disabled.delete(Q))},De=(U,Q={})=>{let ie=be(i,U);const ye=ms(Q.disabled)||ms(e.disabled);return tt(i,U,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:U}},name:U,mount:!0,...Q}}),f.mount.add(U),ie?he({disabled:ms(Q.disabled)?Q.disabled:e.disabled,name:U}):T(U,!0,Q.value),{...ye?{disabled:Q.disabled||e.disabled}:{},...e.progressive?{required:!!Q.required,min:jo(Q.min),max:jo(Q.max),minLength:jo(Q.minLength),maxLength:jo(Q.maxLength),pattern:jo(Q.pattern)}:{},name:U,onChange:D,onBlur:D,ref:pe=>{if(pe){De(U,Q),ie=be(i,U);const ge=mt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,we=s5(ge),Ae=ie._f.refs||[];if(we?Ae.find(Pe=>Pe===ge):ge===ie._f.ref)return;tt(i,U,{_f:{...ie._f,...we?{refs:[...Ae.filter(ef),ge,...Array.isArray(be(l,U))?[{}]:[]],ref:{type:ge.type,name:U}}:{ref:ge}}}),T(U,!1,void 0,ge)}else ie=be(i,U,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!($j(f.array,U)&&d.action)&&f.unMount.add(U)}}},Xe=()=>e.shouldFocusError&&Ro(i,I,f.mount),pt=U=>{ms(U)&&(b.state.next({disabled:U}),Ro(i,(Q,ie)=>{const ye=be(i,ie);ye&&(Q.disabled=ye._f.disabled||U,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(pe=>{pe.disabled=ye._f.disabled||U}))},0,!1))},At=(U,Q)=>async ie=>{let ye;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let pe=St(u);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:ge,values:we}=await z();n.errors=ge,pe=St(we)}else await F(i);if(f.disabled.size)for(const ge of f.disabled)bt(pe,ge);if(bt(n.errors,"root"),ss(n.errors)){b.state.next({errors:{}});try{await U(pe,ie)}catch(ge){ye=ge}}else Q&&await Q({...n.errors},ie),Xe(),setTimeout(Xe);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ss(n.errors)&&!ye,submitCount:n.submitCount+1,errors:n.errors}),ye)throw ye},rs=(U,Q={})=>{be(i,U)&&(mt(Q.defaultValue)?L(U,St(be(l,U))):(L(U,Q.defaultValue),tt(l,U,St(Q.defaultValue))),Q.keepTouched||bt(n.touchedFields,U),Q.keepDirty||(bt(n.dirtyFields,U),n.isDirty=Q.defaultValue?W(U,St(be(l,U))):W()),Q.keepError||(bt(n.errors,U),m.isValid&&C()),b.state.next({...n}))},ks=(U,Q={})=>{const ie=U?St(U):l,ye=St(ie),pe=ss(U),ge=pe?l:ye;if(Q.keepDefaultValues||(l=ie),!Q.keepValues){if(Q.keepDirtyValues){const we=new Set([...f.mount,...Object.keys(wo(l,u))]);for(const Ae of Array.from(we))be(n.dirtyFields,Ae)?tt(ge,Ae,be(u,Ae)):L(Ae,be(ge,Ae))}else{if(Hm&&mt(U))for(const we of f.mount){const Ae=be(i,we);if(Ae&&Ae._f){const Pe=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(Gc(Pe)){const ee=Pe.closest("form");if(ee){ee.reset();break}}}}if(Q.keepFieldsRef)for(const we of f.mount)L(we,be(ge,we));else i={}}u=e.shouldUnregister?Q.keepDefaultValues?St(l):{}:St(ge),b.array.next({values:{...ge}}),b.state.next({values:{...ge}})}f={mount:Q.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!m.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,d.watch=!!e.shouldUnregister,b.state.next({submitCount:Q.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:Q.keepDirty?n.isDirty:!!(Q.keepDefaultValues&&!ja(U,l)),isSubmitted:Q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:Q.keepDirtyValues?Q.keepDefaultValues&&u?wo(l,u):n.dirtyFields:Q.keepDefaultValues&&U?wo(l,U):Q.keepDirty?n.dirtyFields:{},touchedFields:Q.keepTouched?n.touchedFields:{},errors:Q.keepErrors?n.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},Kn=(U,Q)=>ks(zs(U)?U(u):U,Q),pi=(U,Q={})=>{const ie=be(i,U),ye=ie&&ie._f;if(ye){const pe=ye.refs?ye.refs[0]:ye.ref;pe.focus&&(pe.focus(),Q.shouldSelect&&zs(pe.select)&&pe.select())}},Pt=U=>{n={...n,...U}},fn={control:{register:De,unregister:re,getFieldState:q,handleSubmit:At,setError:J,_subscribe:xe,_runSchema:z,_focusError:Xe,_getWatch:Y,_getDirty:W,_setValid:C,_setFieldArray:k,_setDisabledField:he,_setErrors:E,_getFieldArray:ae,_reset:ks,_resetDefaultValues:()=>zs(e.defaultValues)&&e.defaultValues().then(U=>{Kn(U,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:pt,_subjects:b,_proxyFormState:m,get _fields(){return i},get _formValues(){return u},get _state(){return d},set _state(U){d=U},get _defaultValues(){return l},get _names(){return f},set _names(U){f=U},get _formState(){return n},get _options(){return e},set _options(U){e={...e,...U}}},subscribe:me,trigger:ne,register:De,handleSubmit:At,watch:ue,setValue:L,getValues:A,reset:Kn,resetField:rs,clearErrors:P,unregister:re,setError:J,setFocus:pi,getFieldState:q};return{...fn,formControl:fn}}function Qm(s={}){const e=Ve.useRef(void 0),n=Ve.useRef(void 0),[i,l]=Ve.useState({isDirty:!1,isValidating:!1,isLoading:zs(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:zs(s.defaultValues)?void 0:s.defaultValues});if(!e.current)if(s.formControl)e.current={...s.formControl,formState:i},s.defaultValues&&!zs(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:d,...f}=m5(s);e.current={...f,formState:i}}const u=e.current.control;return u._options=s,Ym(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>l({...u._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),u._formState.isReady=!0,d},[u]),Ve.useEffect(()=>u._disableForm(s.disabled),[u,s.disabled]),Ve.useEffect(()=>{s.mode&&(u._options.mode=s.mode),s.reValidateMode&&(u._options.reValidateMode=s.reValidateMode)},[u,s.mode,s.reValidateMode]),Ve.useEffect(()=>{s.errors&&(u._setErrors(s.errors),u._focusError())},[u,s.errors]),Ve.useEffect(()=>{s.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,s.shouldUnregister]),Ve.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==i.isDirty&&u._subjects.state.next({isDirty:d})}},[u,i.isDirty]),Ve.useEffect(()=>{s.values&&!ja(s.values,n.current)?(u._reset(s.values,{keepFieldsRef:!0,...u._options.resetOptions}),n.current=s.values,l(d=>({...d}))):u._resetDefaultValues()},[u,s.values]),Ve.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),e.current.formState=Fj(i,u),e.current}const g5=({isOpen:s,onClose:e,item:n})=>{const{addMenuItem:i,updateMenuItem:l}=wt(),{register:u,handleSubmit:d,control:f,reset:g,formState:{errors:p}}=Qm(),[m,y]=v.useState(!1);v.useEffect(()=>{g(n?{name:n.name,description:n.description||"",price:n.price,category:n.category,preparationTime:n.preparation_time||0,available:n.available,image_url:n.image_url||""}:{name:"",description:"",price:"",category:"food",preparationTime:"",available:!0,image_url:""})},[n,g]);const b=async w=>{console.log("=== INCIO DO SUBMIT ==="),console.log("Dados recebidos do formulrio:",w),y(!0);try{const C={...w,description:w.description||"",preparationTime:w.preparationTime||void 0};console.log("Dados processados para envio:",C),n?(console.log("Modo: Edio de item existente"),await l({...n,...C})):(console.log("Modo: Criao de novo item"),await i(C)),console.log("Item salvo com sucesso!"),n||g({name:"",description:"",price:"",category:"food",preparationTime:"",available:!0,image_url:""}),e()}catch(C){console.error("=== ERRO DETALHADO ==="),console.error("Tipo do erro:",typeof C),console.error("Erro completo:",C),console.error("Stack trace:",C instanceof Error?C.stack:"N/A"),C&&typeof C=="object"&&"message"in C&&console.error("Mensagem do erro:",C.message),alert(`Erro ao salvar o prato: ${C instanceof Error?C.message:"Erro desconhecido"}`)}finally{y(!1),console.log("=== FIM DO SUBMIT ===")}},_=[{value:"food",label:"Pratos Principais"},{value:"snacks",label:"Petiscos"},{value:"drinks",label:"Bebidas"}];return r.jsx(Xn,{children:s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:r.jsxs(_e.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50 rounded-t-xl",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n?"Editar Prato":"Novo Prato"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n?"Atualize as informaes do prato":"Adicione um novo prato ao cardpio"})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-200 p-2 rounded-lg transition-colors duration-200",disabled:m,title:"Fechar modal","aria-label":"Fechar modal",children:r.jsx(ut,{size:24})})]}),r.jsxs("form",{onSubmit:d(b),className:"p-6 space-y-6",children:[r.jsx(Xr,{label:"Nome do Prato",error:p.name,children:r.jsx("input",{...u("name",{required:"Nome  obrigatrio"}),className:"form-input",placeholder:"Digite o nome do prato",disabled:m})}),r.jsx(Xr,{label:"Descrio",error:p.description,children:r.jsx("textarea",{...u("description"),className:"form-input min-h-[80px] resize-none",placeholder:"Descreva o prato...",disabled:m})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Xr,{label:"Categoria",error:p.category,children:r.jsx(Fn,{name:"category",control:f,rules:{required:"Categoria  obrigatria"},render:({field:w})=>r.jsx("select",{...w,className:"form-select",disabled:m,children:_.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))})})}),r.jsx(Xr,{label:"Preo (R$)",error:p.price,children:r.jsx("input",{type:"number",step:"0.01",...u("price",{required:"Preo  obrigatrio",valueAsNumber:!0,min:{value:.01,message:"Valor deve ser maior que 0"}}),className:"form-input",placeholder:"Digite o preo",disabled:m})})]}),r.jsxs(Xr,{label:"URL da Imagem (opcional)",error:p.image_url,children:[r.jsx("input",{...u("image_url"),className:"form-input",placeholder:"https://exemplo.com/imagem.jpg",disabled:m}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cole aqui o link da imagem do prato. Recomendamos imagens com proporo 1:1 (quadrada)."})]}),r.jsx(Xr,{label:"Tempo de Preparo (min)",error:p.preparationTime,children:r.jsx("input",{type:"number",...u("preparationTime",{setValueAs:w=>w===""||w===null?void 0:Number(w),min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"Digite o tempo em minutos",disabled:m})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Fn,{name:"available",control:f,render:({field:w})=>r.jsx("input",{type:"checkbox",onChange:w.onChange,onBlur:w.onBlur,name:w.name,ref:w.ref,checked:w.value,className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2",disabled:m,title:"Marcar como disponvel","aria-label":"Marcar prato como disponvel para pedidos"})}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prato disponvel para pedidos"})]}),r.jsxs("div",{className:"pt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:m,children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary flex items-center justify-center space-x-2",disabled:m,children:m?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Salvando..."})]}):r.jsx("span",{children:n?"Salvar Alteraes":"Adicionar Prato"})})]})]})]})})})},Xr=({label:s,children:e,error:n})=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:s}),e,n&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})}),r.jsx("span",{children:n.message})]})]}),p5=({menuItems:s})=>{const{removeMenuItem:e}=wt(),[n,i]=v.useState(""),[l,u]=v.useState(!1),[d,f]=v.useState(null),g=s.filter(_=>{const w=_.name.toLowerCase().includes(n.toLowerCase()),C=_.item_type!=="direct";return w&&C}),p=()=>{f(null),u(!0)},m=_=>{f(_),u(!0)},y=()=>{u(!1),f(null)},b=async _=>{window.confirm(`Tem certeza que deseja remover "${_.name}" do cardpio?`)&&await e(_.id)};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Gesto de Cardpio"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Gerencie apenas pratos que precisam de preparo na cozinha.",r.jsx("br",{}),r.jsx("span",{className:"text-blue-600 font-medium",children:'Produtos prontos do estoque aparecem automaticamente no balco quando marcados como "Disponvel para venda" no mdulo Estoque.'})]})]}),r.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Novo Prato"})]})})]}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6",children:r.jsx("input",{type:"text",placeholder:"Buscar pratos...",value:n,onChange:_=>i(_.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(_=>r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[_.image_url&&r.jsx("div",{className:"aspect-video w-full bg-gray-100 overflow-hidden",children:r.jsx("img",{src:_.image_url,alt:_.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:w=>{w.currentTarget.style.display="none"}})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:_.name}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>m(_),className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Editar prato","aria-label":"Editar prato",children:r.jsx(Zo,{size:16})}),r.jsx("button",{onClick:()=>b(_),className:"text-gray-400 hover:text-red-600 transition-colors",title:"Excluir prato","aria-label":"Excluir prato",children:r.jsx(iu,{size:16})})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:_.description}),r.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[r.jsx(Qt,{size:14}),r.jsxs("span",{children:[_.preparation_time||0,"min"]})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[r.jsx(Vs,{size:14}),r.jsxs("span",{className:"font-semibold",children:["R$ ",_.price.toFixed(2)]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${_.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.available?"Disponvel":"Indisponvel"}),r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:_.category==="Prato Principal"?"Prato Principal":_.category==="Petiscos"?"Petiscos":"Bebidas"})]})]})]},_.id))}),g.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"Nenhum prato encontrado"})}),r.jsx(g5,{isOpen:l,onClose:y,item:d})]})},x5=({orders:s,menuItems:e})=>{const{updateOrderStatus:n}=wt(),l=(()=>{const m=new Map;return s.forEach(y=>{const b=y.tableNumber||"Balco";m.has(b)||m.set(b,[]),m.get(b).push(y)}),m})(),u=m=>m.items.reduce((y,b)=>{const _=e.find(w=>w.id===b.menuItemId)||b.menuItem;return y+((_==null?void 0:_.preparationTime)||(_==null?void 0:_.preparation_time)||0)},0),d=m=>{const y=(new Date().getTime()-m.createdAt.getTime())/6e4;return y>20?"high":y>10?"medium":"low"},f=m=>{switch(m){case"high":return"border-red-400 bg-red-50";case"medium":return"border-yellow-400 bg-yellow-50";case"low":return"border-green-400 bg-green-50";default:return"border-gray-200 bg-white"}},g=m=>m.id.slice(-4).toUpperCase(),p=m=>(l.get(m)||[]).length>1;return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Pedidos da Cozinha"}),r.jsx("div",{className:"text-sm text-gray-600",children:Array.from(l.entries()).filter(([m,y])=>y.length>1).length>0&&r.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[Array.from(l.entries()).filter(([m,y])=>y.length>1).length," mesa(s) com mltiplos pedidos"]})})]}),Array.from(l.entries()).filter(([m,y])=>y.length>1).length>0&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(l.entries()).filter(([m,y])=>y.length>1).map(([m,y])=>r.jsxs("span",{className:"bg-orange-200 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:["Mesa ",m,": ",y.length," pedidos"]},m))})]}),s.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"Nenhum pedido pendente na cozinha"})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:s.map(m=>{const y=d(m),b=u(m),_=m.items.filter(C=>{const N=e.find(k=>k.id===C.menuItemId)||C.menuItem;return N&&N.item_type!=="direct"}),w=p(m.tableNumber||"Balco");return r.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`border-2 rounded-lg p-4 ${f(y)} ${w?"ring-2 ring-orange-300 ring-offset-2":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ru,{size:16,className:"text-gray-500"}),r.jsxs("span",{className:"font-bold text-lg",children:["Mesa ",m.tableNumber||"N/A"]}),r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",g(m)]}),p(m.tableNumber||"Balco")&&r.jsxs("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[(l.get(m.tableNumber||"Balco")||[]).length," pedidos"]})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[r.jsx(Qt,{size:14}),r.jsx("span",{children:Na(m.createdAt,"HH:mm",{locale:Gn})})]})]}),r.jsx("div",{className:"space-y-2 mb-4",children:_.map(C=>{const N=e.find(k=>k.id===C.menuItemId)||C.menuItem;return r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"font-medium",children:[C.quantity,"x ",(N==null?void 0:N.name)||"Item no encontrado"]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[(N==null?void 0:N.preparationTime)||(N==null?void 0:N.preparation_time)||0,"min"]})]},C.id)})}),m.notes&&r.jsx("div",{className:"mb-4 p-2 bg-yellow-100 rounded border",children:r.jsx("p",{className:"text-sm text-yellow-800",children:m.notes})}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Tempo estimado: ",b,"min"]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y==="high"?"bg-red-200 text-red-800":y==="medium"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:y==="high"?"Urgente":y==="medium"?"Mdio":"Normal"})]}),r.jsxs("div",{className:"space-y-2",children:[m.status==="pending"&&r.jsx("button",{onClick:()=>n(m.id,"preparing"),className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Iniciar Preparo"}),m.status==="preparing"&&r.jsx("button",{onClick:()=>n(m.id,"ready"),className:"w-full bg-green-600 text-white py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Marcar como Pronto"})]})]},m.id)})})]})},y5=()=>{const{kitchenOrders:s,menuItems:e}=wt(),[n,i]=v.useState("orders"),l=s.filter(f=>f.status==="pending"||f.status==="preparing"),u=e.filter(f=>f.item_type!=="direct"),d=u.filter(f=>f.preparationTime).reduce((f,g)=>f+(g.preparationTime||0),0)/u.filter(f=>f.preparationTime).length||0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Cozinha"}),r.jsx("p",{className:"text-gray-600",children:"Gesto completa da cozinha e cardpio"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>i("orders"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="orders"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Pedidos"}),r.jsx("button",{onClick:()=>i("menu"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="menu"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cardpio"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Pedidos Pendentes"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:l.length})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx(Qt,{className:"w-6 h-6 text-orange-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Tempo Mdio"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[d.toFixed(0),"min"]})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Qt,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Pratos Disponveis"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:u.filter(f=>f.available).length})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(Jk,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md",children:n==="orders"?r.jsx(x5,{orders:l,menuItems:u}):r.jsx(p5,{menuItems:u})})]})},b5=({isOpen:s,onClose:e,item:n})=>{const{addInventoryItem:i,updateInventoryItem:l,inventoryCategories:u}=wt(),{register:d,handleSubmit:f,control:g,reset:p,formState:{errors:m}}=Qm(),[y,b]=v.useState(!1);v.useEffect(()=>{p(n?{name:n.name,categoryId:n.categoryId,currentStock:n.currentStock,minStock:n.minStock,unit:n.unit,cost:n.cost,supplier:n.supplier,availableForSale:n.availableForSale,image_url:n.image_url}:{name:"",categoryId:"",currentStock:void 0,minStock:void 0,unit:"unidades",cost:void 0,supplier:"",availableForSale:!1,image_url:""})},[n,p]);const _=async C=>{b(!0);try{n?await l({...n,...C}):await i(C),e()}catch(N){console.error("Falha ao salvar o item:",N)}finally{b(!1)}},w=["unidades","kg","litros","garrafas"];return r.jsx(Xn,{children:s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:r.jsxs(_e.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50 rounded-t-xl",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n?"Editar Item":"Novo Item no Estoque"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n?"Atualize as informaes do item":"Adicione um novo item ao inventrio"})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-200 p-2 rounded-lg transition-colors duration-200",disabled:y,children:r.jsx(ut,{size:24})})]}),r.jsxs("form",{onSubmit:f(_),className:"p-6 space-y-6",children:[r.jsx(en,{label:"Nome do Item",error:m.name,children:r.jsx("input",{...d("name",{required:"Nome  obrigatrio"}),className:"form-input",placeholder:"Digite o nome do item",disabled:y})}),r.jsx(en,{label:"Categoria",error:m.categoryId,children:r.jsx(Fn,{name:"categoryId",control:g,rules:{required:"Categoria  obrigatria"},render:({field:C})=>r.jsxs("select",{...C,className:"form-select",disabled:y,children:[r.jsx("option",{value:"",children:"Selecione uma categoria"}),u.map(N=>r.jsx("option",{value:N.id,children:N.name},N.id))]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(en,{label:"Estoque Atual",error:m.currentStock,children:r.jsx("input",{type:"number",...d("currentStock",{required:"Estoque atual  obrigatrio",valueAsNumber:!0,min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"0",disabled:y})}),r.jsx(en,{label:"Estoque Mnimo",error:m.minStock,children:r.jsx("input",{type:"number",...d("minStock",{required:"Estoque mnimo  obrigatrio",valueAsNumber:!0,min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"0",disabled:y})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(en,{label:"Unidade",error:m.unit,children:r.jsx(Fn,{name:"unit",control:g,rules:{required:"Unidade  obrigatria"},render:({field:C})=>r.jsx("select",{...C,className:"form-select",disabled:y,children:w.map(N=>r.jsx("option",{value:N,children:N},N))})})}),r.jsx(en,{label:"Custo por Unidade (R$)",error:m.cost,children:r.jsx("input",{type:"number",step:"0.01",...d("cost",{required:"Custo  obrigatrio",valueAsNumber:!0,min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"0,00",disabled:y})})]}),r.jsx(en,{label:"Fornecedor (Opcional)",error:m.supplier,children:r.jsx("input",{...d("supplier"),className:"form-input",placeholder:"Nome do fornecedor",disabled:y})}),r.jsxs(en,{label:"URL da Imagem (Opcional)",error:m.image_url,children:[r.jsx("input",{...d("image_url"),className:"form-input",placeholder:"https://exemplo.com/imagem.jpg",disabled:y}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cole aqui o link de uma imagem para representar este item do estoque"})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx(Fn,{name:"availableForSale",control:g,render:({field:C})=>r.jsx("input",{type:"checkbox",checked:C.value||!1,onChange:N=>C.onChange(N.target.checked),onBlur:C.onBlur,name:C.name,ref:C.ref,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:y})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Disponvel para Venda"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Marque esta opo para que o produto aparea automaticamente no balco e comandas quando houver estoque"})]})]}),r.jsxs("div",{className:"pt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:y,children:"Cancelar"}),r.jsx("button",{type:"submit",className:"btn-primary flex items-center justify-center space-x-2",disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Salvando..."})]}):r.jsx("span",{children:n?"Salvar Alteraes":"Adicionar Item"})})]})]})]})})})},en=({label:s,children:e,error:n})=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:s}),e,n&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})}),r.jsx("span",{children:n.message})]})]}),v5=({item:s,categories:e,onEdit:n,onDelete:i})=>{const l=s.currentStock<=s.minStock,u=s.availableForSale||!1,d=e.find(f=>f.id===s.categoryId);return r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white border rounded-lg p-4 hover:shadow-lg transition-shadow relative ${l?"border-red-300":u?"border-green-300":"border-gray-200"}`,children:[s.image_url&&r.jsx("div",{className:"w-full h-32 mb-3 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:r.jsx("img",{src:s.image_url,alt:s.name,className:"max-w-full max-h-full object-contain hover:scale-105 transition-transform duration-300",onError:f=>{f.currentTarget.style.display="none"}})}),r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"pr-4 flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:s.name}),r.jsx("p",{className:"text-sm text-gray-500",children:(d==null?void 0:d.name)||"Sem categoria"})]}),r.jsxs("div",{className:"flex space-x-2 ml-2",children:[r.jsx("button",{onClick:()=>n(s),className:"text-gray-400 hover:text-blue-600 transition-colors p-1 rounded hover:bg-gray-100",title:"Editar item","aria-label":`Editar ${s.name}`,children:r.jsx(Zo,{size:16})}),r.jsx("button",{onClick:()=>i(s.id),className:"text-gray-400 hover:text-red-600 transition-colors p-1 rounded hover:bg-gray-100",title:"Excluir item","aria-label":`Excluir ${s.name}`,children:r.jsx(iu,{size:16})})]})]}),r.jsx("div",{className:"mb-3",children:u?r.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-medium w-fit",children:[r.jsx($m,{size:12}),r.jsx("span",{children:"Disponvel para venda"})]}):r.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs font-medium w-fit",children:[r.jsx(qb,{size:12}),r.jsx("span",{children:"No disponvel para venda"})]})}),r.jsxs("div",{className:"flex justify-between items-baseline mb-3",children:[r.jsx("span",{className:"text-2xl font-bold text-gray-800",children:s.currentStock}),r.jsxs("span",{className:"text-sm text-gray-600",children:["/ ",s.minStock," ",s.unit]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:`h-2.5 rounded-full ${l?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(s.currentStock/(s.minStock*2)*100,100)}%`}})}),(l||!u)&&r.jsxs("div",{className:"flex flex-col space-y-1 mt-2",children:[l&&r.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[r.jsx(cn,{size:14}),r.jsx("span",{children:"Estoque baixo"})]}),!u&&r.jsxs("div",{className:"flex items-center space-x-1 text-orange-600 text-xs",children:[r.jsx(qb,{size:14}),r.jsx("span",{children:"Produto no liberado para venda no balco"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-3 flex justify-between",children:[r.jsxs("span",{children:["Custo: R$ ",s.cost.toFixed(2)]}),r.jsxs("span",{children:["Fornecedor: ",s.supplier||"N/A"]})]})]})},w5=()=>{const s=di(),{inventory:e,inventoryCategories:n,removeInventoryItem:i}=wt(),[l,u]=v.useState(!1),[d,f]=v.useState(null),[g,p]=v.useState(""),m=C=>{f(C),u(!0)},y=()=>{f(null),u(!0)},b=()=>{u(!1),f(null)},_=v.useMemo(()=>e.filter(C=>C.name.toLowerCase().includes(g.toLowerCase())),[e,g]),w=v.useMemo(()=>{const C=e.reduce((k,O)=>k+O.cost*O.currentStock,0),N=e.filter(k=>k.currentStock<=k.minStock).length;return{totalValue:C,lowStockCount:N,totalItems:e.length}},[e]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Estoque"}),r.jsx("p",{className:"text-gray-600",children:"Controle e gesto de inventrio"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 mt-4 sm:mt-0",children:[r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s("/inventory/atualizacao-massiva"),className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[r.jsx(ln,{size:20}),r.jsx("span",{children:"Atualizao Massiva"})]}),r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Novo Item"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(tf,{icon:Vs,title:"Valor Total do Estoque",value:`R$ ${w.totalValue.toFixed(2)}`,color:"green"}),r.jsx(tf,{icon:ln,title:"Itens Totais",value:w.totalItems,color:"blue"}),r.jsx(tf,{icon:cn,title:"Itens com Estoque Baixo",value:w.lowStockCount,color:"orange",onClick:()=>s("/inventory/estoque-baixo"),clickable:!0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Itens do Inventrio"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ea,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar itens...",value:g,onChange:C=>p(C.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(C=>r.jsx(v5,{item:C,categories:n,onEdit:m,onDelete:i},C.id))}),_.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"Nenhum item encontrado"})})]}),l&&r.jsx(b5,{isOpen:l,onClose:b,item:d})]})},tf=({icon:s,title:e,value:n,color:i,onClick:l,clickable:u=!1})=>{const d={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",orange:"bg-orange-100 text-orange-600"},f="bg-white rounded-lg shadow-md p-6",g=u?"cursor-pointer hover:shadow-lg transition-shadow":"";return r.jsx(_e.div,{className:`${f} ${g}`,onClick:l,whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:e}),r.jsx("p",{className:`text-3xl font-bold text-${i}-600`,children:n})]}),r.jsx("div",{className:`p-3 rounded-full ${d[i]}`,children:r.jsx(s,{className:"w-6 h-6"})})]})})},j5=({isOpen:s,onClose:e,itens:n,categorias:i})=>{const[l,u]=v.useState(""),[d,f]=v.useState(""),[g,p]=v.useState(""),[m,y]=v.useState("telefone"),b=R=>{const z=R.replace(/\D/g,"");return z.length<=2?z:z.length<=7?`(${z.slice(0,2)}) ${z.slice(2)}`:`(${z.slice(0,2)}) ${z.slice(2,7)}-${z.slice(7,11)}`},_=R=>{const z=R.replace(/\D/g,"");return z.length===11&&z.startsWith("11",0)||z.length===11},w=(R,z)=>Math.max(z*2-R,z),C=()=>{const R=new Date,z=R.toLocaleDateString("pt-BR"),$=R.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),F=n.reduce((W,Y)=>{var fe;const ae=((fe=i.find(se=>se.id===Y.categoryId))==null?void 0:fe.name)||"Sem Categoria";return W[ae]||(W[ae]=[]),W[ae].push(Y),W},{});let V=` *AABB - Lista de Compras*
`;return V+=` ${z} s ${$}

`,V+=` *ITENS PARA REPOSIO:*

`,Object.entries(F).forEach(([W,Y])=>{V+=` *${W.toUpperCase()}*
`,Y.forEach(ae=>{const fe=w(ae.currentStock,ae.minStock),se=ae.currentStock===0?" ESGOTADO":" BAIXO";V+=` ${ae.name}
`,V+=`  ${se} - Atual: ${ae.currentStock} ${ae.unit}
`,V+=`  Mnimo: ${ae.minStock} ${ae.unit}
`,V+=`  *Sugesto: ${fe} ${ae.unit}*
`,ae.supplier&&(V+=`  Fornecedor: ${ae.supplier}
`),ae.cost&&(V+=`  Custo: R$ ${ae.cost.toFixed(2)}
`),V+=`
`}),V+=`
`}),V+=` *Observaes:*
`,V+=`- Quantidades baseadas no estoque mnimo
`,V+=`- Verificar disponibilidade com fornecedores
`,V+=`- Priorizar itens esgotados

`,V+=` Solicitado pelo Sistema AABB
`,V+=` Contato: (11) 99999-9999

`,V+=`---
`,V+="Sistema AABB - Gesto de Estoque",V},N=R=>{const z=b(R.target.value);u(z),d&&f("")},k=()=>{if(!_(l)){f("Nmero de telefone invlido. Use o formato (XX) XXXXX-XXXX");return}const R=C();p(R),y("mensagem")},O=()=>{const z=`55${l.replace(/\D/g,"")}`,$=encodeURIComponent(g),F=`https://web.whatsapp.com/send?phone=${z}&text=${$}`;if(!window.open(F,"_blank")){const W=`whatsapp://send?phone=${z}&text=${$}`;window.location.href=W}e()},E=async()=>{try{await navigator.clipboard.writeText(g),alert("Mensagem copiada para a rea de transferncia!")}catch(R){console.error("Erro ao copiar mensagem:",R),alert("Erro ao copiar mensagem. Tente selecionar e copiar manualmente.")}},T=()=>{y("telefone"),p("")},S=()=>{u(""),f(""),p(""),y("telefone"),e()};return r.jsx(Xn,{children:s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:m==="telefone"?"Compartilhar no WhatsApp":"Confirmar Envio"}),r.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ut,{size:20,className:"text-gray-500"})})]}),r.jsx("div",{className:"p-6",children:m==="telefone"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Insira o nmero de telefone para enviar a lista de compras via WhatsApp."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nmero de Telefone"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vc,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:N,placeholder:"(11) 99999-9999",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${d?"border-red-300":"border-gray-300"}`,maxLength:15})]}),d&&r.jsx("p",{className:"text-red-600 text-sm",children:d})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Resumo da Lista"}),r.jsxs("p",{className:"text-blue-700 text-sm",children:[n.length," ",n.length===1?"item":"itens"," com estoque baixo sero includos na mensagem."]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-600 mb-4",children:["Mensagem que ser enviada para ",r.jsx("strong",{children:l}),":"]}),r.jsx("div",{className:"bg-gray-50 border rounded-lg p-4 max-h-96 overflow-y-auto",children:r.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:g})})]}),r.jsx("div",{className:"flex space-x-3",children:r.jsxs("button",{onClick:E,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(i6,{size:16}),r.jsx("span",{children:"Copiar Mensagem"})]})})]})}),r.jsx("div",{className:"flex justify-between p-6 border-t bg-gray-50",children:m==="telefone"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:S,className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:k,disabled:!l,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r.jsx("span",{children:"Gerar Mensagem"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:T,className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Voltar"}),r.jsxs("button",{onClick:O,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[r.jsx(P6,{size:16}),r.jsx("span",{children:"Enviar WhatsApp"})]})]})})]})})})},_5=()=>{const s=di(),{inventory:e,inventoryCategories:n}=wt(),[i,l]=v.useState(!1),u=v.useMemo(()=>e.filter(p=>p.currentStock<=p.minStock),[e]),d=v.useMemo(()=>{const p=u.reduce((m,y)=>{var _;const b=((_=n.find(w=>w.id===y.categoryId))==null?void 0:_.name)||"Sem Categoria";return m[b]||(m[b]=[]),m[b].push(y),m},{});return Object.entries(p).sort(([m],[y])=>m.localeCompare(y))},[u,n]),f=(p,m)=>Math.max(m*2-p,m),g=()=>{l(!0)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>s("/inventory"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Um,{size:20,className:"text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Itens com Estoque Baixo"}),r.jsxs("p",{className:"text-gray-600",children:[u.length," ",u.length===1?"item precisa":"itens precisam"," de reposio"]})]})]}),u.length>0&&r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[r.jsx(z6,{size:20}),r.jsx("span",{children:"Compartilhar no WhatsApp"})]})]}),u.length===0?r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-4 bg-green-100 rounded-full",children:r.jsx(ln,{className:"w-8 h-8 text-green-600"})})}),r.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Parabns! Todos os itens esto com estoque adequado"}),r.jsx("p",{className:"text-green-600",children:"No h itens que precisam de reposio no momento."})]}):r.jsx("div",{className:"space-y-6",children:d.map(([p,m],y)=>r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[r.jsx(cn,{className:"w-5 h-5 text-orange-500"}),r.jsx("span",{children:p}),r.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",m.length," itens)"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(b=>{const _=f(b.currentStock,b.minStock),w=b.currentStock===0;return r.jsxs("div",{className:`p-4 rounded-lg border-2 ${w?"border-red-300 bg-red-50":"border-orange-300 bg-orange-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:b.name}),w&&r.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"ESGOTADO"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Estoque Atual:"}),r.jsxs("span",{className:`font-medium ${w?"text-red-600":"text-orange-600"}`,children:[b.currentStock," ",b.unit]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Estoque Mnimo:"}),r.jsxs("span",{className:"font-medium text-gray-800",children:[b.minStock," ",b.unit]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{className:"text-gray-600",children:"Sugesto de Compra:"}),r.jsxs("span",{className:"font-bold text-blue-600",children:[_," ",b.unit]})]}),b.supplier&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Fornecedor:"}),r.jsx("span",{className:"font-medium text-gray-800 text-xs",children:b.supplier})]}),b.cost&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Custo Unit.:"}),r.jsxs("span",{className:"font-medium text-gray-800",children:["R$ ",b.cost.toFixed(2)]})]})]})]},b.id)})})]},p))}),r.jsx(j5,{isOpen:i,onClose:()=>l(!1),itens:u,categorias:n})]})},N5=()=>{const s=di(),{inventory:e,inventoryCategories:n,updateInventoryItem:i}=wt(),[l,u]=v.useState(""),[d,f]=v.useState(""),[g,p]=v.useState({}),[m,y]=v.useState(!1),b=v.useMemo(()=>e.filter(T=>{const S=T.name.toLowerCase().includes(l.toLowerCase()),R=!d||T.categoryId===d;return S&&R}),[e,l,d]),_=v.useMemo(()=>Object.values(g).filter(T=>T.selecionado),[g]),w=v.useMemo(()=>_.reduce((T,S)=>T+S.valorTotal,0),[_]),C=(T,S)=>{p(R=>{var z,$,F;return{...R,[T]:{...R[T],id:T,selecionado:S,quantidadeComprada:((z=R[T])==null?void 0:z.quantidadeComprada)||1,valorUnitario:(($=R[T])==null?void 0:$.valorUnitario)||0,valorTotal:((F=R[T])==null?void 0:F.valorTotal)||0}}})},N=(T,S)=>{S<0||p(R=>{const z=R[T]||{id:T,selecionado:!1,quantidadeComprada:0,valorUnitario:0,valorTotal:0},$=S*z.valorUnitario;return{...R,[T]:{...z,quantidadeComprada:S,valorTotal:$}}})},k=(T,S)=>{S<0||p(R=>{const z=R[T]||{id:T,selecionado:!1,quantidadeComprada:0,valorUnitario:0,valorTotal:0},$=z.quantidadeComprada*S;return{...R,[T]:{...z,valorUnitario:S,valorTotal:$}}})},O=async()=>{y(!0);try{const T=_.map(async S=>{const R=e.find(V=>V.id===S.id);if(!R)return;const z=R.currentStock+S.quantidadeComprada,$=S.valorUnitario>0?S.valorUnitario:R.cost,F={...R,currentStock:z,cost:$};await i(F)});await Promise.all(T),p({}),alert(`${_.length} itens atualizados com sucesso!`)}catch(T){console.error("Erro ao atualizar estoque:",T),alert("Erro ao atualizar estoque. Tente novamente.")}finally{y(!1)}},E=T=>g[T]||{id:T,selecionado:!1,quantidadeComprada:1,valorUnitario:0,valorTotal:0};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>s("/inventory"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Um,{size:20,className:"text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Atualizao Massiva de Estoque"}),r.jsx("p",{className:"text-gray-600",children:"Selecione os itens comprados e atualize o estoque em lote"})]})]}),_.length>0&&r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:O,disabled:m,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[r.jsx(qc,{size:20}),r.jsx("span",{children:m?"Salvando...":`Salvar ${_.length} Itens`})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ea,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:l,onChange:T=>u(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Todas as categorias"}),n.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]}),r.jsxs("button",{onClick:()=>{const T=b.filter(R=>R.currentStock<=R.minStock),S={...g};T.forEach(R=>{const z=Math.max(R.minStock*2-R.currentStock,R.minStock);S[R.id]={id:R.id,selecionado:!0,quantidadeComprada:z,valorUnitario:R.cost||0,valorTotal:z*(R.cost||0)}}),p(S)},className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(ln,{size:16}),r.jsx("span",{children:"Selecionar Estoque Baixo"})]}),r.jsxs("button",{onClick:()=>p({}),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(ut,{size:16}),r.jsx("span",{children:"Limpar Seleo"})]})]})}),_.length>0&&r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.length}),r.jsx("p",{className:"text-blue-800 text-sm",children:"Itens Selecionados"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.reduce((T,S)=>T+S.quantidadeComprada,0)}),r.jsx("p",{className:"text-blue-800 text-sm",children:"Quantidade Total"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",w.toFixed(2)]}),r.jsx("p",{className:"text-blue-800 text-sm",children:"Valor Total"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Produtos Disponveis (",b.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selecionar"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque Atual"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantidade Comprada"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Unitrio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Novo Estoque"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(T=>{const S=E(T.id),R=n.find($=>$.id===T.categoryId),z=T.currentStock+(S.selecionado?S.quantidadeComprada:0);return r.jsxs("tr",{className:S.selecionado?"bg-blue-50":"",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",checked:S.selecionado,onChange:$=>C(T.id,$.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),r.jsx("div",{className:"text-sm text-gray-500",children:R==null?void 0:R.name})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("span",{className:`text-sm font-medium ${T.currentStock<=T.minStock?"text-red-600":"text-gray-900"}`,children:[T.currentStock," ",T.unit]}),T.currentStock<=T.minStock&&r.jsx("div",{className:"text-xs text-red-500",children:"Estoque baixo"})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.selecionado?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>N(T.id,S.quantidadeComprada-1),className:"p-1 hover:bg-gray-200 rounded",children:r.jsx(qm,{size:16})}),r.jsx("input",{type:"number",min:"0",value:S.quantidadeComprada,onChange:$=>N(T.id,parseInt($.target.value)||0),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{onClick:()=>N(T.id,S.quantidadeComprada+1),className:"p-1 hover:bg-gray-200 rounded",children:r.jsx(gs,{size:16})}),r.jsx("span",{className:"text-sm text-gray-500",children:T.unit})]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.selecionado?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm",children:"R$"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:S.valorUnitario,onChange:$=>k(T.id,parseFloat($.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"0,00"})]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.selecionado?r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["R$ ",S.valorTotal.toFixed(2)]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("span",{className:`text-sm font-medium ${S.selecionado?"text-green-600":"text-gray-500"}`,children:[z," ",T.unit]}),S.selecionado&&S.quantidadeComprada>0&&r.jsxs("div",{className:"text-xs text-green-500",children:["+",S.quantidadeComprada," ",T.unit]})]})]},T.id)})})]})}),b.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ln,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhum produto encontrado"})]})]})]})},S5=({isOpen:s,onClose:e,member:n})=>{const{addMember:i,updateMember:l}=wt(),{register:u,handleSubmit:d,control:f,reset:g,formState:{errors:p}}=Qm(),[m,y]=v.useState(!1);v.useEffect(()=>{g(n||{name:"",email:"",phone:"",avatar:`https://api.dicebear.com/8.x/initials/svg?seed=${name||"user"}`,status:"active",membershipType:"individual"})},[n,g]);const b=async C=>{y(!0);try{n?await l({...n,...C}):await i(C),e()}catch(N){console.error("Falha ao salvar o membro:",N)}finally{y(!1)}},_=["active","inactive","pending"],w=["individual","family","vip"];return r.jsx(Xn,{children:s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n?"Editar Membro":"Novo Membro"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ut,{size:24})})]}),r.jsxs("form",{onSubmit:d(b),className:"p-6 space-y-4",children:[r.jsx(Kr,{label:"Nome Completo",error:p.name,children:r.jsx("input",{...u("name",{required:"Nome  obrigatrio"}),className:"form-input",disabled:m})}),r.jsx(Kr,{label:"Email",error:p.email,children:r.jsx("input",{type:"email",...u("email",{required:"Email  obrigatrio",pattern:{value:/^\S+@\S+$/i,message:"Email invlido"}}),className:"form-input",disabled:m})}),r.jsx(Kr,{label:"Telefone",error:p.phone,children:r.jsx("input",{...u("phone",{required:"Telefone  obrigatrio"}),className:"form-input",disabled:m})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Kr,{label:"Status",error:p.status,children:r.jsx(Fn,{name:"status",control:f,render:({field:C})=>r.jsx("select",{...C,className:"form-input",disabled:m,children:_.map(N=>r.jsx("option",{value:N,className:"capitalize",children:N},N))})})}),r.jsx(Kr,{label:"Tipo de Plano",error:p.membershipType,children:r.jsx(Fn,{name:"membershipType",control:f,render:({field:C})=>r.jsx("select",{...C,className:"form-input",disabled:m,children:w.map(N=>r.jsx("option",{value:N,className:"capitalize",children:N},N))})})})]}),r.jsx(Kr,{label:"URL do Avatar",error:p.avatar,children:r.jsx("input",{...u("avatar"),className:"form-input",disabled:m})}),r.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",disabled:m,children:"Cancelar"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-wait",disabled:m,children:m?"Salvando...":n?"Salvar Alteraes":"Adicionar Membro"})]})]})]})})})},Kr=({label:s,children:e,error:n})=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),e,n&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.message})]}),T5=({member:s,onEdit:e})=>{const n={active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"},i={active:"Ativo",inactive:"Inativo",pending:"Pendente"};return r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-xl transition-shadow flex flex-col",children:[r.jsxs("div",{className:"relative self-center",children:[r.jsx("img",{src:s.avatar,alt:s.name,className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),r.jsx("span",{className:`absolute bottom-1 right-1 block h-4 w-4 rounded-full border-2 border-white ${s.status==="active"?"bg-green-500":s.status==="inactive"?"bg-red-500":"bg-yellow-500"}`})]}),r.jsx("h3",{className:"font-bold text-lg text-gray-800",children:s.name}),r.jsx("p",{className:`text-xs font-medium px-2 py-0.5 rounded-full self-center my-2 ${n[s.status]}`,children:i[s.status]}),r.jsx("div",{className:"text-sm text-gray-600 capitalize mb-4",children:s.membershipType}),r.jsxs("div",{className:"text-left space-y-2 text-xs text-gray-500 border-t pt-3 mt-auto",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kj,{size:14}),r.jsx("span",{children:s.email})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vc,{size:14}),r.jsx("span",{children:s.phone})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(au,{size:14}),r.jsxs("span",{children:["Membro desde ",Na(s.joinDate,"MMM yyyy",{locale:Gn})]})]})]}),r.jsxs("button",{onClick:()=>e(s),className:"mt-4 w-full bg-gray-100 text-gray-700 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(Zo,{size:14}),r.jsx("span",{children:"Editar Perfil"})]})]})},C5=()=>{const{members:s}=wt(),[e,n]=v.useState(!1),[i,l]=v.useState(null),[u,d]=v.useState(""),[f,g]=v.useState("all"),p=w=>{l(w),n(!0)},m=()=>{l(null),n(!0)},y=()=>{n(!1),l(null)},b=v.useMemo(()=>s.filter(w=>{const C=w.name.toLowerCase().includes(u.toLowerCase()),N=f==="all"||w.status===f;return C&&N}),[s,u,f]),_=v.useMemo(()=>{const w=fM(new Date);return{total:s.length,active:s.filter(C=>C.status==="active").length,newThisMonth:s.filter(C=>hM(C.joinDate,w)).length}},[s]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Membros"}),r.jsx("p",{className:"text-gray-600",children:"Gesto completa de scios do clube"})]}),r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2 mt-4 sm:mt-0",children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Novo Membro"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(sf,{icon:In,title:"Total de Membros",value:_.total,color:"blue"}),r.jsx(sf,{icon:Dj,title:"Membros Ativos",value:_.active,color:"green"}),r.jsx(sf,{icon:Q6,title:"Novos (ltimo Ms)",value:_.newThisMonth,color:"purple"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 sm:mb-0",children:"Lista de Membros"}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ea,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar membros...",value:u,onChange:w=>d(w.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:f,onChange:w=>g(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos os Status"}),r.jsx("option",{value:"active",children:"Ativo"}),r.jsx("option",{value:"inactive",children:"Inativo"}),r.jsx("option",{value:"pending",children:"Pendente"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:b.map(w=>r.jsx(T5,{member:w,onEdit:p},w.id))}),b.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"Nenhum membro encontrado"})})]}),e&&r.jsx(S5,{isOpen:e,onClose:y,member:i})]})},sf=({icon:s,title:e,value:n,color:i})=>{const l={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600"};return r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:e}),r.jsx("p",{className:`text-3xl font-bold text-${i}-600`,children:n})]}),r.jsx("div",{className:`p-3 rounded-full ${l[i]}`,children:r.jsx(s,{className:"w-6 h-6"})})]})})},E5=()=>{const[s,e]=v.useState(!0),n=v.useRef(null),i=v.useCallback(()=>(n.current||(n.current=new(window.AudioContext||window.webkitAudioContext)),n.current),[]),l=v.useCallback(()=>{if(s)try{const g=i(),p=(m,y,b=0)=>{setTimeout(()=>{const _=g.createOscillator(),w=g.createGain();_.connect(w),w.connect(g.destination),_.frequency.setValueAtTime(m,g.currentTime),_.type="sine",w.gain.setValueAtTime(0,g.currentTime),w.gain.linearRampToValueAtTime(.3,g.currentTime+.01),w.gain.exponentialRampToValueAtTime(.01,g.currentTime+y),_.start(g.currentTime),_.stop(g.currentTime+y)},b)};p(800,.2,0),p(1e3,.3,200)}catch(g){console.warn("Erro ao reproduzir som de notificao:",g);try{const p="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEcCTSNzPLOdSUGMIMcaYOlhAAAaYOlhAAAaYOlhAAAaYOlhAAAAA==",m=new Audio(p);m.volume=.3,m.play().catch(()=>{console.log(" Pedido pronto!")})}catch{console.log(" Pedido pronto!")}}},[s,i]),u=v.useCallback(()=>{n.current&&(n.current.close(),n.current=null)},[]),d=v.useCallback(g=>{console.log("Volume definido para:",g)},[]),f=v.useCallback(()=>{e(g=>!g)},[]);return{play:l,stop:u,setVolume:d,isEnabled:s,toggle:f}},el=()=>{const[s,e]=v.useState([]),[n,i]=v.useState(!0),[l,u]=v.useState(null),d=E5(),{refreshKitchenOrders:f,refreshBarOrders:g}=wt(),p=async()=>{try{i(!0);const{data:E,error:T}=await de.from("comandas").select(`
          *,
          table:bar_tables(*),
          customer:bar_customers(*),
          employee:profiles(*),
          items:comanda_items(
            *,
            menu_item:menu_items(*)
          )
        `).order("opened_at",{ascending:!1});if(T)throw T;e(E||[])}catch(E){u(E instanceof Error?E.message:"Erro ao carregar comandas")}finally{i(!1)}},m=async E=>{try{const{data:T,error:S}=await de.from("comandas").insert([E]).select(`
          *,
          table:bar_tables(*),
          customer:bar_customers(*),
          employee:profiles(*)
        `).single();if(S)throw S;return e(R=>[T,...R]),T}catch(T){throw new Error(T instanceof Error?T.message:"Erro ao criar comanda")}},y=async(E,T)=>{try{const S={status:T};T==="closed"&&(S.closed_at=new Date().toISOString());const{error:R}=await de.from("comandas").update(S).eq("id",E);if(R)throw R;e(z=>z.map($=>$.id===E?{...$,status:T,...S}:$))}catch(S){throw new Error(S instanceof Error?S.message:"Erro ao atualizar comanda")}},b=async(E,T)=>{try{const{data:S,error:R}=await de.from("comanda_items").insert([{comanda_id:E,...T}]).select(`
          *,
          menu_item:menu_items(*)
        `).single();if(R)throw R;return e(z=>z.map($=>$.id===E?{...$,items:[...$.items||[],S]}:$)),console.log(" Atualizando pedidos da cozinha e bar aps adicionar item..."),await Promise.all([f(),g()]),S}catch(S){throw new Error(S instanceof Error?S.message:"Erro ao adicionar item  comanda")}},_=async(E,T)=>{try{const S={status:T};T==="ready"?S.prepared_at=new Date().toISOString():T==="delivered"&&(S.delivered_at=new Date().toISOString());const{error:R}=await de.from("comanda_items").update(S).eq("id",E);if(R)throw R;T==="ready"&&d.play(),e(z=>z.map($=>{var F;return{...$,items:(F=$.items)==null?void 0:F.map(V=>V.id===E?{...V,status:T,...S}:V)}}))}catch(S){throw new Error(S instanceof Error?S.message:"Erro ao atualizar item")}},w=async E=>{try{const{data:T,error:S}=await de.from("comandas").select(`
          *,
          table:bar_tables(*),
          customer:bar_customers(*),
          employee:profiles(*),
          items:comanda_items(
            *,
            menu_item:menu_items(*)
          )
        `).eq("table_id",E).eq("status","open").single();if(S&&S.code!=="PGRST116")throw S;return T}catch(T){throw new Error(T instanceof Error?T.message:"Erro ao buscar comanda da mesa")}},C=async E=>{try{const{error:T}=await de.from("comanda_items").delete().eq("id",E);if(T)throw T;e(S=>S.map(R=>{var z;return{...R,items:(z=R.items)==null?void 0:z.filter($=>$.id!==E)}}))}catch(T){throw new Error(T instanceof Error?T.message:"Erro ao remover item da comanda")}},N=async(E,T)=>{try{const{data:S,error:R}=await de.from("bill_splits").insert([{comanda_id:E,split_type:T.type,person_count:T.person_count,splits:T.splits,service_charge_percentage:T.service_charge_percentage,discount_amount:T.discount_amount}]).select().single();if(R)throw R;return S}catch(S){throw new Error(S instanceof Error?S.message:"Erro ao criar diviso de conta")}},k=async E=>{try{const{data:T,error:S}=await de.from("bill_splits").select("*").eq("comanda_id",E).single();if(S&&S.code!=="PGRST116")throw S;return T}catch(T){throw new Error(T instanceof Error?T.message:"Erro ao buscar diviso de conta")}},O=async(E,T)=>{try{return await y(E,"closed"),console.log("Processando pagamentos mltiplos:",T),{success:!0,payments:T}}catch(S){throw new Error(S instanceof Error?S.message:"Erro ao processar pagamentos")}};return v.useEffect(()=>{p()},[]),{comandas:s,loading:n,error:l,refetch:p,createComanda:m,updateComandaStatus:y,addItemToComanda:b,updateItemStatus:_,getComandaByTable:w,removeItemFromComanda:C,createBillSplit:N,getBillSplit:k,processMultiplePayments:O}},A5=({mode:s,onModeChange:e,user:n})=>{const i={balcao:"Balco",mesas:"Mesas",comandas:"Comandas",fila:"Fila",pedidos:"Preparo"},l={balcao:"Balco",mesas:"Mesas",comandas:"Comandas",fila:"Fila de Pedidos",pedidos:"Pedidos Bar"},u={balcao:"",mesas:"",comandas:"",fila:"",pedidos:""};return r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:r.jsx("div",{className:"px-2 sm:px-4 lg:px-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center py-3 space-y-3 lg:space-y-0 min-h-16",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 min-w-0 flex-1",children:[r.jsxs("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 truncate",children:[r.jsx("span",{className:"hidden sm:inline",children:"Sistema de Atendimento - "}),"Bar"]}),n&&r.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 mt-1 sm:mt-0 truncate",children:[r.jsx("span",{className:"hidden sm:inline",children:"Atendente: "}),n.full_name||n.email]})]}),r.jsx("nav",{className:"flex flex-wrap gap-1 sm:gap-2",children:Object.keys(i).map(d=>r.jsxs("button",{onClick:()=>e(d),className:`
                  flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 rounded-lg font-medium transition-colors text-xs sm:text-sm
                  ${s===d?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}
                `,children:[r.jsx("span",{className:"text-sm sm:text-lg",children:u[d]}),r.jsx("span",{className:"hidden sm:inline",children:l[d]}),r.jsx("span",{className:"sm:hidden",children:i[d]})]},d))})]})})})};function k5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const ov=v.forwardRef(k5);function M5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const O5=v.forwardRef(M5);function D5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Zj=v.forwardRef(D5);function R5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ac=v.forwardRef(R5);function P5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const L5=v.forwardRef(P5);function B5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const af=v.forwardRef(B5);function z5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Hf=v.forwardRef(z5);function U5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const V5=v.forwardRef(U5);function q5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Ff=v.forwardRef(q5);function $5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const H5=v.forwardRef($5);function F5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const I5=v.forwardRef(F5);function G5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Y5=v.forwardRef(G5);function X5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Kc=v.forwardRef(X5);function K5({title:s,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),s?v.createElement("title",{id:e},s):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Wm=v.forwardRef(K5),Jj=(s=!1)=>{const[e,n]=v.useState([]),[i,l]=v.useState(!0),[u,d]=v.useState(null),f=async()=>{try{l(!0),console.log("Fetching menu items...");try{const{data:N,error:k}=await de.from("menu_items").select("count").limit(1);if(k&&k.message.includes("JWT"))throw new Error("Supabase no configurado")}catch(N){console.error("Supabase no configurado. Criando dados mock...",N);const k=[{id:"mock-1",name:"Cerveja Pilsen",description:"Cerveja gelada 350ml",price:8.5,category:"Bebidas",image_url:void 0,available:!0,preparation_time:0,item_type:"prepared",direct_inventory_item_id:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"mock-2",name:"Refrigerante",description:"Coca-Cola 350ml",price:5,category:"Bebidas",image_url:void 0,available:!0,preparation_time:0,item_type:"prepared",direct_inventory_item_id:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"mock-3",name:"Poro de Batata",description:"Batata frita crocante",price:15,category:"Petiscos",image_url:void 0,available:!0,preparation_time:15,item_type:"prepared",direct_inventory_item_id:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];n(k),d("Dados de exemplo sendo exibidos. Configure o Supabase para usar dados reais.");return}const{data:m,error:y}=await de.from("menu_items").select("*");console.log("All menu items:",m,"Error:",y);let b=de.from("menu_items").select(`
          *,
          inventory_items!left(
            name,
            image_url,
            current_stock,
            min_stock,
            unit,
            available_for_sale
          )
        `).eq("available",!0).order("category",{ascending:!0}).order("name",{ascending:!0});s||(b=b.neq("item_type","direct"));const{data:_,error:w}=await b;if(console.log("Available menu items:",_,"Error:",w),w)throw w;if(!_||_.length===0){console.log("No menu items found - creating sample data");const N=[{name:"Cerveja Pilsen",description:"Cerveja gelada 350ml",price:8.5,category:"Bebidas",available:!0},{name:"Refrigerante",description:"Coca-Cola 350ml",price:5,category:"Bebidas",available:!0}],{data:k,error:O}=await de.from("menu_items").insert(N).select();if(console.log("Sample data inserted:",k,"Error:",O),!O&&k){const E=k.map(T=>({id:T.id,name:T.name,description:T.description||"",price:T.price,category:T.category||"",image_url:T.image_url||void 0,available:T.available||!1,preparation_time:T.preparation_time||0,item_type:T.item_type||"prepared",direct_inventory_item_id:T.direct_inventory_item_id||void 0,created_at:T.created_at||void 0,updated_at:T.updated_at||void 0}));n(E);return}}const C=(_||[]).map(N=>{const k=N.inventory_items,O=N.item_type==="direct";return{id:N.id,name:O&&(k!=null&&k.name)?k.name:N.name,description:N.description||"",price:typeof N.price=="string"?parseFloat(N.price):N.price||0,category:N.category||"",image_url:O&&(k!=null&&k.image_url)?k.image_url:N.image_url||void 0,available:N.available||!1,preparation_time:N.preparation_time||0,item_type:N.item_type||"prepared",direct_inventory_item_id:N.direct_inventory_item_id||void 0,created_at:N.created_at||void 0,updated_at:N.updated_at||void 0,inventory_items:k?{id:"",name:k.name||"",currentStock:k.current_stock||0,minStock:k.min_stock||0,unit:k.unit||"unidades",lastUpdated:new Date,cost:0,availableForSale:k.available_for_sale||!1,image_url:k.image_url||void 0}:void 0}});console.log("Mapped items:",C),n(C)}catch(m){console.error("Error in fetchMenuItems:",m),d(m instanceof Error?m.message:"Erro ao carregar itens do menu")}finally{l(!1)}},g=m=>e.filter(y=>y.category===m),p=()=>e.filter(m=>m.available);return v.useEffect(()=>{f()},[s]),{menuItems:e,loading:i,error:u,refetch:f,getItemsByCategory:g,getAvailableItems:p}},e1=()=>{const{user:s}=ps(),[e,n]=v.useState({orders:[],metrics:null,loading:!0,error:null}),i=v.useCallback(E=>{n(T=>({...T,...E}))},[]),l=v.useCallback((E,T)=>{console.error(`Erro em ${T}:`,E),i({error:`Erro em ${T}: ${E.message||"Erro desconhecido"}`,loading:!1})},[i]),u=v.useCallback(async()=>{if(s)try{i({loading:!0,error:null});const{data:E,error:T}=await de.from("balcao_orders_with_details").select("*").order("created_at",{ascending:!1}).limit(50);if(T)throw T;const S=await Promise.all((E||[]).map(async R=>{const{data:z,error:$}=await de.from("balcao_order_items").select(`
              *,
              menu_items:menu_item_id (
                id,
                name,
                category,
                price,
                preparation_time,
                item_type
              )
            `).eq("balcao_order_id",R.id);return $&&console.warn(`Erro ao carregar itens do pedido ${R.id}:`,$),{...R,items:(z==null?void 0:z.map(F=>({...F,menu_item:Array.isArray(F.menu_items)?F.menu_items[0]:F.menu_items})))||[]}}));i({orders:S,loading:!1})}catch(E){l(E,"carregamento de pedidos")}},[s,i,l]),d=v.useCallback(async E=>{if(!s)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const{data:T,error:S}=await de.from("balcao_orders").insert({employee_id:s.id,customer_name:E.customer_name,customer_phone:E.customer_phone,discount_amount:E.discount_amount||0,notes:E.notes,customer_notes:E.customer_notes,status:"pending_payment"}).select().single();if(S)throw S;const R=E.items.map($=>({balcao_order_id:T.id,menu_item_id:$.menu_item_id,quantity:$.quantity,unit_price:$.unit_price,notes:$.notes,status:"pending"})),{error:z}=await de.from("balcao_order_items").insert(R);if(z)throw z;return await u(),T.id}catch(T){throw l(T,"criao de pedido"),T}},[s,i,l,u]),f=v.useCallback(async(E,T)=>{try{i({loading:!0,error:null});const S={status:T.status,updated_at:new Date().toISOString()};T.status==="paid"?(S.payment_method=T.payment_method,S.cash_session_id=T.cash_session_id,S.paid_at=new Date().toISOString()):T.status==="preparing"?S.preparation_started_at=new Date().toISOString():T.status==="ready"?S.preparation_completed_at=new Date().toISOString():T.status==="delivered"&&(S.delivered_at=new Date().toISOString(),S.delivered_by=T.delivered_by||(s==null?void 0:s.id)),T.notes&&(S.notes=T.notes);const{error:R}=await de.from("balcao_orders").update(S).eq("id",E);if(R)throw R;await u()}catch(S){throw l(S,"atualizao de status do pedido"),S}},[i,l,u,s]),g=v.useCallback(async E=>{try{await f(E.order_id,{status:"paid",payment_method:E.payment_method,cash_session_id:E.cash_session_id,notes:E.notes});const{error:T}=await de.from("cash_transactions").insert({cash_session_id:E.cash_session_id,transaction_type:"sale",payment_method:E.payment_method,amount:E.amount_paid,processed_by:s.id,notes:`Pedido de balco #${E.order_id}`,processed_at:new Date().toISOString()});if(T)throw T}catch(T){throw l(T,"processamento de pagamento"),T}},[f,l,s]),p=v.useCallback(async(E,T)=>{try{const S={status:T,updated_at:new Date().toISOString()};T==="preparing"?S.preparation_started_at=new Date().toISOString():T==="ready"&&(S.preparation_completed_at=new Date().toISOString());const{error:R}=await de.from("balcao_order_items").update(S).eq("id",E);if(R)throw R;await u()}catch(S){throw l(S,"atualizao de status do item"),S}},[l,u]),m=v.useCallback(async(E,T)=>{try{await f(E,{status:"cancelled",notes:T?`Cancelado: ${T}`:"Pedido cancelado"})}catch(S){throw l(S,"cancelamento de pedido"),S}},[f,l]),y=v.useCallback(async E=>{try{let T=de.from("balcao_orders_with_details").select("*");E.status&&E.status.length>0&&(T=T.in("status",E.status)),E.employee_id&&(T=T.eq("employee_id",E.employee_id)),E.start_date&&(T=T.gte("created_at",E.start_date)),E.end_date&&(T=T.lte("created_at",E.end_date)),E.customer_name&&(T=T.ilike("customer_name",`%${E.customer_name}%`)),E.order_number&&(T=T.eq("order_number",E.order_number)),E.payment_method&&(T=T.eq("payment_method",E.payment_method));const{data:S,error:R}=await T.order("created_at",{ascending:!1}).limit(100);if(R)throw R;return S||[]}catch(T){return l(T,"busca de pedidos"),[]}},[l]),b=v.useCallback(async()=>{try{const E=new Date().toISOString().split("T")[0],{data:T,error:S}=await de.from("balcao_orders").select("status, final_amount, payment_method").gte("created_at",`${E}T00:00:00.000Z`).lt("created_at",`${E}T23:59:59.999Z`);if(S)throw S;const R=T||[],z={today:{total_orders:R.length,total_revenue:R.reduce(($,F)=>$+(F.final_amount||0),0),avg_order_value:R.length>0?R.reduce(($,F)=>$+(F.final_amount||0),0)/R.length:0,pending_payment:R.filter($=>$.status==="pending_payment").length,preparing:R.filter($=>$.status==="preparing").length,ready_for_delivery:R.filter($=>$.status==="ready").length},by_status:[],by_payment_method:[],hourly_breakdown:[]};i({metrics:z})}catch(E){l(E,"carregamento de mtricas")}},[i,l]),_=v.useCallback(async()=>{await Promise.all([u(),b()])},[u,b]),w=v.useCallback(E=>e.orders.filter(T=>T.status===E),[e.orders]),C=v.useCallback(E=>e.orders.find(T=>T.id===E),[e.orders]),N=w("pending_payment"),k=w("preparing"),O=w("ready");return v.useEffect(()=>{s&&_()},[s,_]),v.useEffect(()=>{if(!s)return;const E=de.channel("balcao_orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"balcao_orders"},()=>{u()}).on("postgres_changes",{event:"*",schema:"public",table:"balcao_order_items"},()=>{u()}).subscribe();return()=>{E.unsubscribe()}},[s,u]),{orders:e.orders,pendingOrders:N,preparingOrders:k,readyOrders:O,metrics:e.metrics,loading:e.loading,error:e.error,createOrder:d,updateOrderStatus:f,updateItemStatus:p,cancelOrder:m,processPayment:g,searchOrders:y,getOrdersByStatus:w,refreshData:_,getOrderById:C,loadMetrics:b}},Zm=()=>{const{user:s}=ps(),[e,n]=v.useState({currentSession:null,pendingComandas:[],todaysTransactions:[],todaysSessions:[],todaysSummary:{session_date:new Date().toISOString().split("T")[0],total_sessions:0,total_sales:0,total_transactions:0,by_payment_method:[],by_employee:[],discrepancies:[],avg_ticket:0,peak_hours:[]},loading:!0,error:null}),i=v.useCallback(g=>{n(p=>({...p,...g}))},[]),l=v.useCallback((g,p)=>{console.error(`Erro em ${p}:`,g),i({error:`Erro em ${p}: ${g.message||"Erro desconhecido"}`,loading:!1})},[i]),u=v.useCallback(async()=>{if(s)try{i({loading:!0,error:null});const{data:g,error:p}=await de.from("cash_sessions").select("*").eq("employee_id",s.id).eq("status","open").maybeSingle();if(p&&p.code!=="PGRST116")throw p;const m=g?{...g,employee:{id:s.id,name:s.email||"Usurio",role:"employee"}}:null;i({currentSession:m,pendingComandas:[],todaysTransactions:[],todaysSessions:[],loading:!1})}catch(g){l(g,"carregamento inicial")}},[s,i,l]),d=v.useCallback(async g=>{if(!s)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const p={employee_id:s.id,opening_amount:g.opening_amount,opening_notes:g.opening_notes,supervisor_approval_id:g.supervisor_approval_id,status:"open"},{data:m,error:y}=await de.from("cash_sessions").insert(p).select("*").single();if(y)throw y;await u()}catch(p){throw l(p,"abertura de caixa"),p}},[s,i,l,u]),f=v.useCallback(async g=>{if(!e.currentSession)throw new Error("Nenhuma sesso aberta");try{i({loading:!0,error:null});const p=g.closing_amount-e.currentSession.expected_amount,{error:m}=await de.from("cash_sessions").update({status:"closed",closed_at:new Date().toISOString(),closing_amount:g.closing_amount,cash_discrepancy:p,closing_notes:g.closing_notes}).eq("id",e.currentSession.id);if(m)throw m;const y=g.reconciliation.map(_=>({cash_session_id:e.currentSession.id,payment_method:_.payment_method,expected_amount:_.expected_amount,actual_amount:_.actual_amount,transaction_count:_.transaction_count,reconciled_by:s.id,notes:_.notes})),{error:b}=await de.from("payment_reconciliation").insert(y);if(b)throw b;await u()}catch(p){throw l(p,"fechamento de caixa"),p}},[e.currentSession,s,i,l,u]);return v.useEffect(()=>{u()},[u]),{currentSession:e.currentSession,pendingComandas:e.pendingComandas,todaysTransactions:e.todaysTransactions,todaysSessions:e.todaysSessions,todaysSummary:e.todaysSummary,loading:e.loading,error:e.error,openCashSession:d,closeCashSession:f,getCurrentSession:()=>e.currentSession,processComandaPayment:async()=>{throw new Error("No implementado ainda")},processRefund:async()=>{throw new Error("No implementado ainda")},processAdjustment:async()=>{throw new Error("No implementado ainda")},generateDailySummary:async()=>e.todaysSummary,generateMonthlySummary:async()=>({month:new Date().toISOString().slice(0,7),total_sessions:0,total_sales:0,total_transactions:0,employees_performance:[],top_payment_methods:[],daily_breakdown:[],avg_discrepancy:0,peak_days:[]}),getTransactionsByFilters:async()=>[],getSessionsByFilters:async()=>[],validateCashAmount:async()=>({isValid:!0,errors:[]}),validateSession:async()=>({isValid:!0,errors:[]}),reloadData:u}},Et=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),Q5={dinheiro:"Dinheiro",cartao_debito:"Carto de Dbito",cartao_credito:"Carto de Crdito",pix:"PIX",transferencia:"Transferncia"},W5=({isOpen:s,onClose:e,onSelectCustomer:n})=>{const[i,l]=v.useState(""),[u,d]=v.useState([]),[f,g]=v.useState(!1),[p,m]=v.useState("phone");v.useEffect(()=>{s&&(l(""),d([]))},[s]);const y=async()=>{if(i.trim()){g(!0);try{let w=de.from("bar_customers").select("*");p==="phone"?w=w.ilike("phone",`%${i}%`):w=w.ilike("name",`%${i}%`);const{data:C,error:N}=await w.eq("status","active").order("name").limit(10);if(N)throw N;if(!C||C.length===0){const k=[{id:"mock-1",phone:i.includes("11")?i:"(11) 99999-1234",name:"Joo Silva",email:"joao@exemplo.com",credit_limit:1e3,current_balance:0,status:"active",is_vip:!0,loyalty_points:250,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_visit:"2024-08-30"},{id:"mock-2",phone:"(11) 88888-5678",name:"Maria Santos",email:"maria@exemplo.com",credit_limit:500,current_balance:0,status:"active",is_vip:!1,loyalty_points:120,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_visit:"2024-08-28"}];d(p==="phone"?k.filter(O=>O.phone.includes(i)||i.includes("11")):k.filter(O=>O.name.toLowerCase().includes(i.toLowerCase())))}else d(C)}catch(w){console.error("Erro ao buscar clientes:",w),d([])}finally{g(!1)}}},b=w=>{w.key==="Enter"&&y()},_=w=>{n(w),e()};return s?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Identificar Membro"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Wm,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"p-6 border-b",children:[r.jsx("div",{className:"flex space-x-4 mb-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>m("phone"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${p==="phone"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(Ff,{className:"h-4 w-4 inline mr-1"}),"Telefone"]}),r.jsxs("button",{onClick:()=>m("name"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${p==="name"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(Kc,{className:"h-4 w-4 inline mr-1"}),"Nome"]})]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:p==="phone"?"Digite o telefone (ex: 11999999999)":"Digite o nome do membro",value:i,onChange:w=>l(w.target.value),onKeyPress:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),r.jsx("button",{onClick:y,disabled:f||!i.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Buscando...":"Buscar"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:f?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length>0?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:[u.length," resultado(s) encontrado(s)"]}),u.map(w=>r.jsxs("div",{onClick:()=>_(w),className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 cursor-pointer transition-colors border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:w.name}),w.is_vip&&r.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[r.jsx(I5,{className:"h-3 w-3 text-yellow-600"}),r.jsx("span",{className:"text-xs font-medium text-yellow-800",children:"VIP"})]})]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ff,{className:"h-4 w-4"}),r.jsx("span",{children:w.phone})]}),w.email&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(L5,{className:"h-4 w-4"}),r.jsx("span",{children:w.email})]})]})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsxs("div",{className:"text-gray-900 font-medium",children:[w.loyalty_points," pontos"]}),w.last_visit&&r.jsxs("div",{className:"text-gray-500",children:["ltima visita: ",new Date(w.last_visit).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[r.jsx("span",{className:`px-2 py-1 rounded-full ${w.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.status==="active"?"Ativo":"Inativo"}),r.jsxs("span",{className:"text-gray-500",children:["Limite: R$ ",w.credit_limit.toFixed(2)]})]})]},w.id))]}):i&&!f?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Kc,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum membro encontrado"}),r.jsxs("p",{className:"text-gray-600",children:["Tente buscar por outro ",p==="phone"?"telefone":"nome"," ou verifique se o membro est cadastrado."]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Hf,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Buscar Membro"}),r.jsxs("p",{className:"text-gray-600",children:["Digite o ",p==="phone"?"telefone":"nome"," do membro para aplicar descontos e benefcios."]})]})}),r.jsx("div",{className:"p-6 border-t bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsx("span",{children:" Membros recebem 10% de desconto automaticamente"}),r.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Continuar sem identificar"})]})})]})}):null},lv=()=>{const{user:s}=ps(),{menuItems:e,loading:n}=Jj(!0),{createOrder:i}=e1(),{currentSession:l}=Zm(),{inventory:u}=wt(),[d,f]=v.useState([]),[g,p]=v.useState(null),[m,y]=v.useState(""),[b,_]=v.useState(""),[w,C]=v.useState("all"),[N,k]=v.useState(""),[O,E]=v.useState(!1),[T,S]=v.useState(!1),[R,z]=v.useState({}),$=v.useMemo(()=>Array.from(new Set(e.map(q=>q.category))).sort(),[e]),F=v.useMemo(()=>{let A=e.filter(q=>q.available);return w!=="all"&&(A=A.filter(q=>q.category===w)),N&&(A=A.filter(q=>{var P;return q.name.toLowerCase().includes(N.toLowerCase())||((P=q.description)==null?void 0:P.toLowerCase().includes(N.toLowerCase()))})),A},[e,w,N]),V=v.useMemo(()=>d.reduce((A,q)=>A+q.price*q.quantity,0),[d]),W=v.useMemo(()=>g?V*.1:0,[g,V]),Y=v.useMemo(()=>V-W,[V,W]),ae=(A,q)=>{if(A.item_type==="direct"&&A.direct_inventory_item_id){const P=u.find(J=>J.id===A.direct_inventory_item_id);return P?P.currentStock<q?{available:!1,currentStock:P.currentStock,warning:`Estoque insuficiente. Disponvel: ${P.currentStock} ${P.unit}`}:P.currentStock<=P.minStock?{available:!0,currentStock:P.currentStock,warning:`Estoque baixo! Disponvel: ${P.currentStock} ${P.unit}`}:{available:!0,currentStock:P.currentStock}:{available:!1,warning:"Item no encontrado no estoque"}}return{available:!0}},fe=A=>{const q=ae(A,1);if(!q.available){alert(q.warning);return}f(P=>{const J=P.find(ue=>ue.menu_item_id===A.id);if(J){const ue=J.quantity+1,xe=ae(A,ue);return xe.available?(xe.warning?z(me=>({...me,[A.id]:xe.warning})):z(me=>{const re={...me};return delete re[A.id],re}),P.map(me=>me.menu_item_id===A.id?{...me,quantity:ue}:me)):(alert(xe.warning),P)}else return q.warning&&z(ue=>({...ue,[A.id]:q.warning})),[...P,{menu_item_id:A.id,name:A.name,price:A.price,quantity:1}]})},se=A=>{f(q=>q.filter(P=>P.menu_item_id!==A)),z(q=>{const P={...q};return delete P[A],P})},L=(A,q)=>{if(q<=0){se(A);return}const P=e.find(J=>J.id===A);if(P){const J=ae(P,q);if(!J.available){alert(J.warning);return}J.warning?z(ue=>({...ue,[A]:J.warning})):z(ue=>{const xe={...ue};return delete xe[A],xe})}f(J=>J.map(ue=>ue.menu_item_id===A?{...ue,quantity:q}:ue))},D=()=>{f([]),p(null),y(""),_(""),z({})},I=()=>{const A=[];for(const q of d){const P=e.find(J=>J.id===q.menu_item_id);if(P){const J=ae(P,q.quantity);J.available||A.push(`${P.name}: ${J.warning}`)}}return{valid:A.length===0,errors:A}},ne=async()=>{if(d.length===0)return;const A=I();if(!A.valid){alert(`Problemas de estoque encontrados:

`+A.errors.join(`
`));return}S(!0);try{const q={customer_name:g==null?void 0:g.name,customer_phone:g==null?void 0:g.phone,customer_notes:b||void 0,items:d.map(J=>({menu_item_id:J.menu_item_id,quantity:J.quantity,unit_price:J.price,notes:J.notes})),discount_amount:W,notes:m||void 0},P=await i(q);D(),alert("Pedido criado com sucesso! Aguardando pagamento.")}catch(q){console.error("Erro ao criar pedido:",q),q instanceof Error&&q.message.includes("Estoque insuficiente")?alert("Estoque insuficiente para um ou mais itens. Verifique o estoque e tente novamente."):alert("Erro ao criar pedido. Tente novamente.")}finally{S(!1)}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Criar Pedido de Balco"}),r.jsx("p",{className:"text-gray-600",children:"Sistema independente de comandas"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:l?r.jsx("div",{className:"bg-green-100 px-4 py-2 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zj,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-800 font-medium",children:"Caixa Aberto"})]})}):r.jsx("div",{className:"bg-yellow-100 px-4 py-2 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ac,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"text-yellow-800 font-medium",children:"Caixa Fechado"})]})})})]})}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-white p-4 border-b",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Hf,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar itens...",value:N,onChange:A=>k(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:w,onChange:A=>C(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas Categorias"}),$.map(A=>r.jsx("option",{value:A,children:A},A))]})]})}),r.jsx("div",{className:"flex-1 overflow-auto p-4",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:F.map(A=>{const q=ae(A,1),P=q.warning&&q.available,J=!q.available;return r.jsxs(_e.div,{whileHover:{scale:J?1:1.02},whileTap:{scale:J?1:.98},onClick:()=>!J&&fe(A),className:`bg-white rounded-lg p-4 shadow-sm border transition-shadow relative ${J?"cursor-not-allowed opacity-50 border-red-300":P?"cursor-pointer hover:shadow-md border-yellow-300":"cursor-pointer hover:shadow-md border-gray-200"}`,children:[J&&r.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[r.jsx(af,{className:"h-3 w-3"}),r.jsx("span",{children:"Esgotado"})]}),P&&r.jsxs("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[r.jsx(af,{className:"h-3 w-3"}),r.jsx("span",{children:"Baixo"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:A.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:A.category}),A.item_type==="direct"&&q.currentStock!==void 0&&r.jsxs("p",{className:`text-xs mb-2 ${J?"text-red-600":P?"text-yellow-600":"text-gray-500"}`,children:["Estoque: ",q.currentStock]}),r.jsx("p",{className:`text-lg font-bold ${J?"text-gray-400":"text-blue-600"}`,children:Et(A.price)})]})]},A.id)})})})]}),r.jsxs("div",{className:"w-96 bg-white border-l flex flex-col",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Carrinho"}),d.length>0&&r.jsx("button",{onClick:D,className:"text-red-600 hover:text-red-700 text-sm",children:"Limpar"})]})}),r.jsx("div",{className:"flex-1 overflow-auto p-4",children:d.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500",children:"Carrinho vazio"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Adicione itens do menu"})]}):r.jsx("div",{className:"space-y-4",children:d.map(A=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:A.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[Et(A.price)," cada"]}),R[A.menu_item_id]&&r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(af,{className:"h-4 w-4 text-yellow-500"}),r.jsx("p",{className:"text-xs text-yellow-600",children:R[A.menu_item_id]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>L(A.menu_item_id,A.quantity-1),className:"p-1 rounded hover:bg-gray-200",children:r.jsx(V5,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:A.quantity}),r.jsx("button",{onClick:()=>L(A.menu_item_id,A.quantity+1),className:"p-1 rounded hover:bg-gray-200",children:r.jsx(H5,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>se(A.menu_item_id),className:"p-1 rounded hover:bg-red-100 text-red-600 ml-2",children:r.jsx(Y5,{className:"h-4 w-4"})})]})]},A.menu_item_id))})}),g&&r.jsx("div",{className:"p-4 border-t bg-blue-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-900",children:g.name}),r.jsx("p",{className:"text-sm text-blue-700",children:"Membro - Desconto 10%"})]}),r.jsx("button",{onClick:()=>p(null),className:"text-blue-600 hover:text-blue-700",children:r.jsx(Wm,{className:"h-5 w-5"})})]})}),d.length>0&&r.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[r.jsxs("button",{onClick:()=>E(!0),className:"w-full mb-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center space-x-2",children:[r.jsx(Kc,{className:"h-5 w-5"}),r.jsx("span",{children:g?"Trocar Cliente":"Identificar Cliente"})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Et(V)})]}),W>0&&r.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[r.jsx("span",{children:"Desconto (10%):"}),r.jsxs("span",{children:["-",Et(W)]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Et(Y)})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes do Cliente"}),r.jsx("textarea",{value:b,onChange:A=>_(A.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observaes especiais..."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes Internas"}),r.jsx("textarea",{value:m,onChange:A=>y(A.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observaes sobre o pedido..."})]}),r.jsx("button",{onClick:ne,disabled:T||d.length===0,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 font-medium",children:T?"Criando Pedido...":"Criar Pedido"})]})]})]}),r.jsx(W5,{isOpen:O,onClose:()=>E(!1),onSelectCustomer:A=>{p(A),E(!1)}})]})},Z5={pending_payment:"Aguardando Pagamento",paid:"Pago",preparing:"Preparando",ready:"Pronto",delivered:"Entregue",cancelled:"Cancelado"},J5={pending_payment:"bg-yellow-100 text-yellow-800",paid:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",ready:"bg-green-100 text-green-800",delivered:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},cv=s=>`#${s.toString().padStart(4,"0")}`,eO=()=>{var T;const{pendingOrders:s,preparingOrders:e,readyOrders:n,updateOrderStatus:i,processPayment:l,loading:u,refreshData:d}=e1(),{currentSession:f}=Zm(),[g,p]=v.useState(!1),[m,y]=v.useState(null),[b,_]=v.useState("dinheiro"),[w,C]=v.useState(!1),N=async()=>{if(!(!m||!f)){C(!0);try{await l({order_id:m.id,payment_method:b,cash_session_id:f.id,amount_paid:m.final_amount}),p(!1),y(null)}catch(S){console.error("Erro ao processar pagamento:",S),alert("Erro ao processar pagamento. Tente novamente.")}finally{C(!1)}}},k=async S=>{try{await i(S,{status:"ready"})}catch(R){console.error("Erro ao marcar como pronto:",R),alert("Erro ao atualizar status. Tente novamente.")}},O=async S=>{try{await i(S,{status:"delivered"})}catch(R){console.error("Erro ao marcar como entregue:",R),alert("Erro ao atualizar status. Tente novamente.")}},E=({order:S})=>{var W;const R=J5[S.status],z=Z5[S.status],F=(()=>{const Y=new Date(S.created_at);return Math.floor((new Date().getTime()-Y.getTime())/(1e3*60))})(),V=F>15;return r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-md p-4 border-l-4 ${V?"border-red-500":S.status==="ready"?"border-green-500":"border-blue-500"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:cv(S.order_number)}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R}`,children:z})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(Ac,{className:"h-4 w-4"}),r.jsxs("span",{className:V?"text-red-600 font-medium":"",children:[F,"min"]})]})]}),(S.customer_name||S.customer_phone)&&r.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[S.customer_name&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Kc,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:S.customer_name})]}),S.customer_phone&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ff,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:S.customer_phone})]})]})}),r.jsx("div",{className:"space-y-2 mb-3",children:(W=S.items)==null?void 0:W.map(Y=>{var ae;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:[Y.quantity,"x ",((ae=Y.menu_item)==null?void 0:ae.name)||"Item",Y.notes&&r.jsxs("span",{className:"text-gray-500 italic",children:[" - ",Y.notes]})]}),r.jsx("span",{className:"font-medium",children:Et(Y.total_price)})]},Y.id)})}),(S.customer_notes||S.notes)&&r.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 rounded",children:[S.customer_notes&&r.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[r.jsx(O5,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),r.jsx("span",{className:"text-yellow-800",children:S.customer_notes})]}),S.notes&&r.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Obs. interna: ",S.notes]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-3 pt-2 border-t",children:[r.jsx("span",{className:"font-medium text-gray-900",children:"Total:"}),r.jsx("span",{className:"text-lg font-bold text-green-600",children:Et(S.final_amount)})]}),r.jsxs("div",{className:"flex space-x-2",children:[S.status==="pending_payment"&&r.jsx("button",{onClick:()=>{y(S),p(!0)},disabled:!f,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Receber Pagamento"}),S.status==="preparing"&&r.jsx("button",{onClick:()=>k(S.id),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 text-sm font-medium",children:"Marcar como Pronto"}),S.status==="ready"&&r.jsx("button",{onClick:()=>O(S.id),className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 text-sm font-medium",children:"Entregar ao Cliente"})]})]})};return u?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pedidos de Balco"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[f?r.jsx("div",{className:"bg-green-100 px-3 py-1 rounded-lg",children:r.jsx("span",{className:"text-green-800 text-sm font-medium",children:"Caixa Aberto"})}):r.jsx("div",{className:"bg-red-100 px-3 py-1 rounded-lg",children:r.jsx("span",{className:"text-red-800 text-sm font-medium",children:"Caixa Fechado"})}),r.jsxs("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[r.jsx(ov,{className:"h-4 w-4"}),r.jsx("span",{children:"Atualizar"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-yellow-100 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"Aguardando Pagamento"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:s.length})]}),r.jsx(Ac,{className:"h-8 w-8 text-yellow-600"})]})}),r.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Preparando"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.length})]}),r.jsx(ov,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Prontos"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.length})]}),r.jsx(Zj,{className:"h-8 w-8 text-green-600"})]})})]}),r.jsxs("div",{className:"space-y-6",children:[s.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Aguardando Pagamento (",s.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(S=>r.jsx(E,{order:S},S.id))})]}),e.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Preparando (",e.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(S=>r.jsx(E,{order:S},S.id))})]}),n.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Prontos para Entrega (",n.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(S=>r.jsx(E,{order:S},S.id))})]}),s.length===0&&e.length===0&&n.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ac,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido pendente"}),r.jsx("p",{className:"text-gray-600",children:"Todos os pedidos foram processados e entregues."})]})]}),g&&m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Receber Pagamento - ",cv(m.order_number)]}),r.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Wm,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Resumo do Pedido"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[(T=m.items)==null?void 0:T.map(S=>{var R;return r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[S.quantity,"x ",(R=S.menu_item)==null?void 0:R.name]}),r.jsx("span",{children:Et(S.total_price)})]},S.id)}),r.jsxs("div",{className:"border-t pt-2 flex justify-between font-medium",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Et(m.final_amount)})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pagamento"}),r.jsxs("select",{value:b,onChange:S=>_(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"dinheiro",children:"Dinheiro"}),r.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),r.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),r.jsx("option",{value:"pix",children:"PIX"}),r.jsx("option",{value:"transferencia",children:"Transferncia"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:N,disabled:w||!f,className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:w?"Processando...":"Confirmar Pagamento"})]})]})})]})},cu=()=>{const[s,e]=v.useState([]),[n,i]=v.useState(!0),[l,u]=v.useState(null),d=async()=>{try{i(!0);const{data:p,error:m}=await de.from("bar_tables").select("*").order("number");if(m)throw m;e(p||[])}catch(p){u(p instanceof Error?p.message:"Erro ao carregar mesas")}finally{i(!1)}},f=async(p,m)=>{try{const{error:y}=await de.from("bar_tables").update({status:m}).eq("id",p);if(y)throw y;e(b=>b.map(_=>_.id===p?{..._,status:m}:_))}catch(y){throw new Error(y instanceof Error?y.message:"Erro ao atualizar mesa")}},g=async(p,m,y)=>{try{const{error:b}=await de.from("bar_tables").update({position_x:m,position_y:y}).eq("id",p);if(b)throw b;e(_=>_.map(w=>w.id===p?{...w,position_x:m,position_y:y}:w))}catch(b){throw new Error(b instanceof Error?b.message:"Erro ao atualizar posio da mesa")}};return v.useEffect(()=>{d()},[]),{tables:s,loading:n,error:l,refetch:d,updateTableStatus:f,updateTablePosition:g}},t1=({isOpen:s,onClose:e,selectedTable:n,onComandaCreated:i})=>{const{user:l}=ps(),{tables:u}=cu(),{createComanda:d}=el(),[f,g]=v.useState({table_id:(n==null?void 0:n.id)||"",customer_id:"",customer_name:"",people_count:1,notes:""}),[p,m]=v.useState(""),[y,b]=v.useState([]),[_,w]=v.useState(!1),[C,N]=v.useState(!1),k=async T=>{if(!T.trim()){b([]);return}try{w(!0);const{data:S,error:R}=await de.from("bar_customers").select("*").or(`phone.ilike.%${T}%,name.ilike.%${T}%`).eq("status","active").limit(10);if(R)throw R;b(S||[])}catch(S){console.error("Erro ao buscar clientes:",S)}finally{w(!1)}},O=T=>{g(S=>({...S,customer_id:T.id,customer_name:T.name})),m(T.name),b([])},E=async T=>{if(T.preventDefault(),!!l)try{N(!0);const S={table_id:f.table_id||void 0,customer_id:f.customer_id||void 0,customer_name:f.customer_name||void 0,employee_id:l.id,people_count:f.people_count,notes:f.notes||void 0};await d(S),i&&i(),e(),g({table_id:"",customer_id:"",customer_name:"",people_count:1,notes:""}),m("")}catch(S){console.error("Erro ao criar comanda:",S),alert("Erro ao criar comanda. Tente novamente.")}finally{N(!1)}};return v.useEffect(()=>{n&&g(T=>({...T,table_id:n.id}))},[n]),v.useEffect(()=>{const T=setTimeout(()=>{k(p)},300);return()=>clearTimeout(T)},[p]),s?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nova Comanda"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ut,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:E,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(ru,{className:"w-4 h-4 inline mr-1"}),"Mesa (opcional)"]}),r.jsxs("select",{value:f.table_id,onChange:T=>g(S=>({...S,table_id:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Balco (sem mesa)"}),u.filter(T=>T.status==="available").map(T=>r.jsxs("option",{value:T.id,children:["Mesa ",T.number," (",T.capacity," pessoas)"]},T.id))]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx($c,{className:"w-4 h-4 inline mr-1"}),"Cliente (opcional)"]}),r.jsx("input",{type:"text",value:p,onChange:T=>{m(T.target.value),T.target.value||g(S=>({...S,customer_id:"",customer_name:""}))},placeholder:"Buscar por telefone ou nome...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-40 overflow-y-auto",children:y.map(T=>r.jsxs("button",{type:"button",onClick:()=>O(T),className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100",children:[r.jsx("div",{className:"font-medium",children:T.name}),r.jsx("div",{className:"text-sm text-gray-600",children:T.phone})]},T.id))}),_&&r.jsx("div",{className:"absolute right-3 top-9",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),p&&!f.customer_id&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do cliente"}),r.jsx("input",{type:"text",value:f.customer_name,onChange:T=>g(S=>({...S,customer_name:T.target.value})),placeholder:"Digite o nome do cliente",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(In,{className:"w-4 h-4 inline mr-1"}),"Nmero de pessoas"]}),r.jsx("input",{type:"number",min:"1",max:"20",value:f.people_count,onChange:T=>g(S=>({...S,people_count:parseInt(T.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),r.jsx("textarea",{value:f.notes,onChange:T=>g(S=>({...S,notes:T.target.value})),placeholder:"Observaes sobre a comanda...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:C?"Criando...":"Criar Comanda"})]})]})]})}):null},tO=({isOpen:s,onClose:e})=>{const{tables:n,updateTablePosition:i}=cu(),[l,u]=v.useState([]),[d,f]=v.useState({isDragging:!1,tableId:null,startX:0,startY:0,offsetX:0,offsetY:0}),[g,p]=v.useState(!1),m=v.useRef(null);v.useEffect(()=>{u([...n])},[n]);const y=(k,O)=>{var R;if(k.preventDefault(),!((R=m.current)==null?void 0:R.getBoundingClientRect()))return;const S=k.currentTarget.getBoundingClientRect();f({isDragging:!0,tableId:O.id,startX:k.clientX,startY:k.clientY,offsetX:k.clientX-S.left,offsetY:k.clientY-S.top})},b=k=>{if(!d.isDragging||!d.tableId||!m.current)return;const O=m.current.getBoundingClientRect(),E=(k.clientX-O.left-d.offsetX)/O.width*100,T=(k.clientY-O.top-d.offsetY)/O.height*100,S=Math.max(0,Math.min(95,E)),R=Math.max(0,Math.min(95,T));u(z=>z.map($=>$.id===d.tableId?{...$,position_x:S,position_y:R}:$))},_=()=>{f({isDragging:!1,tableId:null,startX:0,startY:0,offsetX:0,offsetY:0})},w=async()=>{try{p(!0);const k=l.map(O=>{const E=n.find(T=>T.id===O.id);return E&&(E.position_x!==O.position_x||E.position_y!==O.position_y)?i(O.id,O.position_x,O.position_y):Promise.resolve()});await Promise.all(k),e(),alert("Layout salvo com sucesso!")}catch(k){console.error("Erro ao salvar layout:",k),alert("Erro ao salvar layout. Tente novamente.")}finally{p(!1)}},C=()=>{u([...n])},N=k=>{switch(k){case"available":return"bg-green-500";case"occupied":return"bg-red-500";case"reserved":return"bg-yellow-500";case"cleaning":return"bg-gray-500";case"maintenance":return"bg-orange-500";default:return"bg-gray-400"}};return s?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(S6,{className:"w-6 h-6 text-gray-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Configurar Layout do Salo"})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ut,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-blue-800 text-sm",children:[r.jsx("strong",{children:"Instrues:"})," Arraste as mesas para reposicion-las no salo. As posies so salvas em porcentagem para se adaptar a diferentes tamanhos de tela."]})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),r.jsx("span",{children:"Disponvel"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),r.jsx("span",{children:"Ocupada"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),r.jsx("span",{children:"Reservada"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded"}),r.jsx("span",{children:"Limpeza"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),r.jsx("span",{children:"Manuteno"})]})]}),r.jsxs("div",{ref:m,className:"relative bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg h-96 overflow-hidden select-none",onMouseMove:b,onMouseUp:_,onMouseLeave:_,children:[l.map(k=>r.jsx("div",{className:`absolute w-12 h-12 rounded-lg border-2 border-white shadow-lg cursor-move flex items-center justify-center text-white font-bold text-xs transition-transform hover:scale-110 ${N(k.status)} ${d.tableId===k.id?"scale-110 shadow-xl":""}`,style:{left:`${k.position_x}%`,top:`${k.position_y}%`,zIndex:d.tableId===k.id?10:1},onMouseDown:O=>y(O,k),title:`Mesa ${k.number} - ${k.capacity} pessoas - ${k.status}`,children:k.number},k.id)),r.jsx("div",{className:"absolute top-2 left-2 text-xs text-gray-500 bg-white px-2 py-1 rounded",children:"Salo Principal"})]}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:[r.jsx(Mj,{className:"w-4 h-4"}),r.jsx("span",{children:"Resetar"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),r.jsxs("button",{onClick:w,disabled:g,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[r.jsx(qc,{className:"w-4 h-4"}),r.jsx("span",{children:g?"Salvando...":"Salvar Layout"})]})]})]})]})]})}):null},sO=({isOpen:s,onClose:e,mesa:n,onStatusChange:i})=>{if(!s||!n)return null;const{getComandaByTable:l}=el(),[u,d]=v.useState(null),[f,g]=v.useState(!1);v.useEffect(()=>{s&&n&&n.status==="occupied"&&p()},[s,n]);const p=async()=>{if(n)try{g(!0);const N=await l(n.id);d(N)}catch(N){console.error("Erro ao carregar detalhes da comanda:",N)}finally{g(!1)}},m=N=>new Date(N).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),y=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N),b=N=>{switch(N){case"available":return"text-green-600 bg-green-100";case"occupied":return"text-red-600 bg-red-100";case"reserved":return"text-yellow-600 bg-yellow-100";case"cleaning":return"text-gray-600 bg-gray-100";case"maintenance":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},_=N=>{switch(N){case"available":return"Disponvel";case"occupied":return"Ocupada";case"reserved":return"Reservada";case"cleaning":return"Limpeza";case"maintenance":return"Manuteno";default:return"Indefinido"}},w=N=>{n&&(i(n.id,N),e())},C=N=>{const k=new Date(N),E=new Date().getTime()-k.getTime(),T=Math.floor(E/(1e3*60*60)),S=Math.floor(E%(1e3*60*60)/(1e3*60));return T>0?`${T}h ${S}min`:`${S}min`};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Mesa ",n.number]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(n.status)}`,children:_(n.status)})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(ut,{size:24})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(In,{size:20,className:"text-gray-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Capacidade"})]}),r.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[n.capacity," pessoas"]})]}),n.status==="occupied"&&n.occupiedSince&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Qt,{size:20,className:"text-gray-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Tempo de ocupao"})]}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:C(n.occupiedSince)})]})]}),n.status==="occupied"&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes da Comanda"}),f?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Carregando comanda..."})]}):u?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Cliente"}),r.jsx("p",{className:"font-medium",children:u.customer_name||"No informado"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Pessoas"}),r.jsx("p",{className:"font-medium",children:u.people_count||n.peopleCount||1})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Aberta em"}),r.jsx("p",{className:"font-medium",children:m(u.opened_at)})]})]})}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vs,{size:20,className:"text-green-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Total da Comanda"})]}),r.jsx("span",{className:"text-2xl font-bold text-green-600",children:y(u.total)})]})}),u.items&&u.items.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Itens da Comanda (",u.items.length,")"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.items.map((N,k)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"font-medium text-gray-900",children:[N.quantity,"x Item #",N.menu_item_id]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Adicionado em ",m(N.added_at)]}),N.notes&&r.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Obs: ",N.notes]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium text-gray-900",children:y(N.price*N.quantity)}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N.status==="delivered"?"bg-green-100 text-green-800":N.status==="ready"?"bg-blue-100 text-blue-800":N.status==="preparing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:N.status==="delivered"?"Entregue":N.status==="ready"?"Pronto":N.status==="preparing"?"Preparando":"Pendente"})]})]},N.id))})]})]}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma comanda encontrada para esta mesa"})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aes Rpidas"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.status==="available"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>w("occupied"),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Ocupar Mesa"}),r.jsx("button",{onClick:()=>w("reserved"),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:"Reservar Mesa"})]}),n.status==="occupied"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>w("available"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Liberar Mesa"}),r.jsx("button",{onClick:()=>w("cleaning"),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Marcar para Limpeza"})]}),(n.status==="cleaning"||n.status==="reserved")&&r.jsx("button",{onClick:()=>w("available"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors col-span-2",children:"Liberar Mesa"})]})]})]})]})})},aO=()=>{const{tables:s,loading:e,updateTableStatus:n,refetch:i}=cu(),{comandas:l,refetch:u}=el(),[d,f]=v.useState(!1),[g,p]=v.useState(!1),[m,y]=v.useState(!1),[b,_]=v.useState(null),[w,C]=v.useState([]);v.useEffect(()=>{const $=s.map(F=>{const V=l.find(Y=>Y.table_id===F.id&&Y.status==="open"),W=V?"occupied":F.status;return{...F,status:W,currentComanda:V,occupiedSince:V==null?void 0:V.opened_at,currentTotal:(V==null?void 0:V.total)||0,peopleCount:(V==null?void 0:V.people_count)||void 0}});C($)},[s,l]);const N=()=>{_(null),f(!0)},k=()=>{p(!0)},O=$=>{_($),$.status==="available"?f(!0):y(!0)},E=async($,F)=>{try{await n($,F)}catch(V){console.error("Erro ao atualizar status da mesa:",V)}},S=(()=>{const $={available:0,occupied:0,reserved:0,cleaning:0,maintenance:0};return w.forEach(F=>{F.status in $&&$[F.status]++}),$})(),R=$=>{switch($){case"available":return"bg-green-100 border-green-300 text-green-800 hover:bg-green-200";case"occupied":return"bg-red-100 border-red-300 text-red-800 hover:bg-red-200";case"reserved":return"bg-yellow-100 border-yellow-300 text-yellow-800 hover:bg-yellow-200";case"cleaning":return"bg-gray-100 border-gray-300 text-gray-800 hover:bg-gray-200";case"maintenance":return"bg-orange-100 border-orange-300 text-orange-800 hover:bg-orange-200";default:return"bg-gray-100 border-gray-300 text-gray-800 hover:bg-gray-200"}},z=$=>{switch($){case"available":return"";case"occupied":return"";case"reserved":return"";case"cleaning":return"";case"maintenance":return"";default:return"?"}};return r.jsxs("div",{className:"mesas-container space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Mesas"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:[w.length," mesas configuradas"]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Nova Comanda"})]}),r.jsxs("button",{onClick:()=>i(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Mj,{size:20}),r.jsx("span",{children:"Atualizar"})]}),r.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[r.jsx(Oj,{size:20}),r.jsx("span",{children:"Configurar Layout"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.available}),r.jsx("div",{className:"text-sm text-green-700",children:"Disponveis"})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:S.occupied}),r.jsx("div",{className:"text-sm text-red-700",children:"Ocupadas"})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:S.reserved}),r.jsx("div",{className:"text-sm text-yellow-700",children:"Reservadas"})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:S.cleaning}),r.jsx("div",{className:"text-sm text-gray-700",children:"Limpeza"})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:S.maintenance}),r.jsx("div",{className:"text-sm text-orange-700",children:"Manuteno"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Layout do Salo"}),r.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:r.jsx("span",{children:"Clique nas mesas para gerenciar"})})]}),e?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Carregando mesas..."})]}):r.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-4 p-4 bg-gray-50 rounded-lg min-h-96",children:[w.map($=>r.jsxs("div",{onClick:()=>O($),className:`
                  relative aspect-square rounded-lg border-2 cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg
                  flex flex-col items-center justify-center text-center p-2
                  ${R($.status)}
                `,children:[r.jsx("div",{className:"font-bold text-sm mb-1",children:$.number}),r.jsx("div",{className:"text-xs opacity-75",children:z($.status)}),$.currentComanda&&r.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:$.peopleCount||"!"}),r.jsxs("div",{className:"text-xs mt-1 opacity-60",children:[$.capacity,"p"]})]},$.id)),Array.from({length:Math.max(0,40-w.length)}).map(($,F)=>r.jsx("div",{className:"aspect-square rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center text-gray-400 text-xs",children:"Vazio"},`empty-${F}`))]})]}),r.jsx(t1,{isOpen:d,onClose:()=>{f(!1),_(null)},selectedTable:b,onComandaCreated:()=>{u()}}),r.jsx(tO,{isOpen:g,onClose:()=>p(!1)}),r.jsx(sO,{isOpen:m,onClose:()=>{y(!1),_(null)},mesa:b,onStatusChange:E})]})},nO=({comandas:s,onComandaClick:e,onDismissAlert:n})=>{const i=()=>{const g=new Date;return s.filter(p=>{if(p.status!=="open")return!1;const m=new Date(p.opened_at);return(g.getTime()-m.getTime())/(1e3*60*60)>2})},l=()=>{const g=new Date;return s.filter(p=>{if(p.status!=="open")return!1;const m=new Date(p.opened_at);return(g.getTime()-m.getTime())/(1e3*60*60)>4})},u=g=>{const p=new Date(g),y=new Date().getTime()-p.getTime(),b=Math.floor(y/(1e3*60*60)),_=Math.floor(y%(1e3*60*60)/(1e3*60));return b>0?`${b}h ${_}m`:`${_}m`},d=i(),f=l();return d.length===0?null:r.jsxs("div",{className:"mb-6 space-y-3",children:[f.map(g=>{var p,m;return r.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(cn,{className:"w-6 h-6 text-red-500"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-red-800 font-semibold",children:["Comanda Crtica - ",((p=g.table)==null?void 0:p.number)||"Balco"]}),r.jsxs("p",{className:"text-red-700 text-sm",children:[((m=g.customer)==null?void 0:m.name)||g.customer_name||"Cliente no identificado","  Aberta h ",u(g.opened_at),"  R$ ",g.total.toFixed(2)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>e(g),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Ver Detalhes"}),n&&r.jsx("button",{onClick:()=>n(g.id),className:"p-1 text-red-500 hover:bg-red-100 rounded transition-colors",children:r.jsx(ut,{className:"w-4 h-4"})})]})]})},`critical-${g.id}`)}),d.filter(g=>!f.includes(g)).map(g=>{var p,m;return r.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qt,{className:"w-5 h-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-yellow-800 font-semibold",children:["Ateno - ",((p=g.table)==null?void 0:p.number)||"Balco"]}),r.jsxs("p",{className:"text-yellow-700 text-sm",children:[((m=g.customer)==null?void 0:m.name)||g.customer_name||"Cliente no identificado","  Aberta h ",u(g.opened_at),"  R$ ",g.total.toFixed(2)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>e(g),className:"px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",children:"Ver Detalhes"}),n&&r.jsx("button",{onClick:()=>n(g.id),className:"p-1 text-yellow-500 hover:bg-yellow-100 rounded transition-colors",children:r.jsx(ut,{className:"w-4 h-4"})})]})]})},`warning-${g.id}`)}),d.length>3&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded-lg text-center",children:r.jsxs("p",{className:"text-gray-600 text-sm",children:[d.length," comandas com tempo excessivo ",f.length," crticas"]})})]})},rO=({searchTerm:s,onSearchChange:e,statusFilter:n,onStatusFilterChange:i,employeeFilter:l,onEmployeeFilterChange:u,tableFilter:d,onTableFilterChange:f,timeFilter:g,onTimeFilterChange:p,employees:m,tables:y,onClearFilters:b})=>{var N,k;const _=s||n!=="all"||l||d||g!=="all",w=O=>{switch(O){case"all":return"Todos os Status";case"open":return"Abertas";case"pending_payment":return"Aguardando Pagamento";case"closed":return"Fechadas";case"cancelled":return"Canceladas";default:return O}},C=O=>{switch(O){case"all":return"Todos os Tempos";case"recent":return"Recentes (< 1h)";case"overdue":return"Atrasadas (> 2h)";case"critical":return"Crticas (> 4h)";default:return O}};return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Aj,{className:"w-5 h-5 text-gray-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),_&&r.jsxs("button",{onClick:b,className:"flex items-center space-x-1 px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(ut,{className:"w-4 h-4"}),r.jsx("span",{children:"Limpar Filtros"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"xl:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:O=>e(O.target.value),placeholder:"Mesa, cliente ou funcionrio...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:n,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos os Status"}),r.jsx("option",{value:"open",children:"Abertas"}),r.jsx("option",{value:"pending_payment",children:"Aguardando Pagamento"}),r.jsx("option",{value:"closed",children:"Fechadas"}),r.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funcionrio"}),r.jsxs("select",{value:l,onChange:O=>u(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Todos os Funcionrios"}),m.map(O=>r.jsx("option",{value:O.id,children:O.name},O.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesa"}),r.jsxs("select",{value:d,onChange:O=>f(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Todas as Mesas"}),r.jsx("option",{value:"balcao",children:"Balco"}),y.map(O=>r.jsxs("option",{value:O.id,children:["Mesa ",O.number]},O.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo"}),r.jsxs("select",{value:g,onChange:O=>p(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todos os Tempos"}),r.jsx("option",{value:"recent",children:"Recentes (< 1h)"}),r.jsx("option",{value:"overdue",children:"Atrasadas (> 2h)"}),r.jsx("option",{value:"critical",children:"Crticas (> 4h)"})]})]})]}),_&&r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:['Busca: "',s,'"',r.jsx("button",{onClick:()=>e(""),className:"ml-1 p-0.5 hover:bg-blue-200 rounded-full",children:r.jsx(ut,{className:"w-3 h-3"})})]}),n!=="all"&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:["Status: ",w(n),r.jsx("button",{onClick:()=>i("all"),className:"ml-1 p-0.5 hover:bg-green-200 rounded-full",children:r.jsx(ut,{className:"w-3 h-3"})})]}),l&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:["Funcionrio: ",(N=m.find(O=>O.id===l))==null?void 0:N.name,r.jsx("button",{onClick:()=>u(""),className:"ml-1 p-0.5 hover:bg-purple-200 rounded-full",children:r.jsx(ut,{className:"w-3 h-3"})})]}),d&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:["Mesa: ",d==="balcao"?"Balco":(k=y.find(O=>O.id===d))==null?void 0:k.number,r.jsx("button",{onClick:()=>f(""),className:"ml-1 p-0.5 hover:bg-orange-200 rounded-full",children:r.jsx(ut,{className:"w-3 h-3"})})]}),g!=="all"&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:["Tempo: ",C(g),r.jsx("button",{onClick:()=>p("all"),className:"ml-1 p-0.5 hover:bg-red-200 rounded-full",children:r.jsx(ut,{className:"w-3 h-3"})})]})]})]})},iO=()=>{const{user:s}=ps(),[e,n]=v.useState({mesas:[],comandas:[],metricas:null,notificacoes:[],loading:!0,error:null}),i=v.useCallback(V=>{n(W=>({...W,...V}))},[]),l=v.useCallback((V,W)=>{console.error(`Erro em ${W}:`,V),i({error:`Erro em ${W}: ${V.message||"Erro desconhecido"}`,loading:!1})},[i]),u=v.useCallback(async()=>{if(s)try{i({loading:!0,error:null});const{data:V,error:W}=await de.from("bar_tables").select(`
          *,
          comandas!comandas_table_id_fkey(
            id,
            customer_name,
            people_count,
            total,
            opened_at,
            status,
            comanda_items(
              id,
              quantity,
              price,
              status
            )
          )
        `).order("number");if(W)throw W;const Y=(V==null?void 0:V.map(I=>{var A;const ne=(A=I.comandas)==null?void 0:A.find(q=>q.status==="open");return{...I,currentComanda:ne||void 0,occupiedSince:(ne==null?void 0:ne.opened_at)||void 0,currentTotal:(ne==null?void 0:ne.total)||0,peopleCount:(ne==null?void 0:ne.people_count)||0}}))||[],{data:ae,error:fe}=await de.from("comandas").select(`
          *,
          bar_tables(number, capacity),
          bar_customers(name, phone),
          comanda_items(
            *,
            menu_items(name, price, category)
          )
        `).in("status",["open","pending_payment"]).order("opened_at",{ascending:!1});if(fe)throw fe;const se=(ae==null?void 0:ae.map(I=>({...I,items:I.comanda_items||[],table:I.bar_tables||void 0,customer:I.bar_customers||void 0})))||[],{data:L,error:D}=await de.from("attendance_metrics").select("*").eq("employee_id",s.id).eq("date",new Date().toISOString().split("T")[0]).maybeSingle();D&&console.warn("Erro ao carregar mtricas:",D),i({mesas:Y,comandas:se,metricas:L||null,loading:!1})}catch(V){l(V,"carregamento inicial")}},[s,i,l]);v.useEffect(()=>{if(!s)return;const V=[],W=de.channel("bar-tables-changes").on("postgres_changes",{event:"*",schema:"public",table:"bar_tables"},fe=>{console.log("Mudana em mesas:",fe),u()}).subscribe();V.push(W);const Y=de.channel("comandas-changes").on("postgres_changes",{event:"*",schema:"public",table:"comandas"},fe=>{console.log("Mudana em comandas:",fe),u()}).subscribe();V.push(Y);const ae=de.channel("comanda-items-changes").on("postgres_changes",{event:"*",schema:"public",table:"comanda_items"},fe=>{console.log("Mudana em itens de comanda:",fe),u()}).subscribe();return V.push(ae),()=>{V.forEach(fe=>de.removeChannel(fe))}},[s,u]),v.useEffect(()=>{s&&u()},[s,u]);const d=v.useCallback(async(V,W,Y)=>{if(!s)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const{data:ae,error:fe}=await de.from("comandas").insert({table_id:V||null,customer_name:W||null,people_count:Y||1,employee_id:s.id,status:"open",opened_at:new Date().toISOString(),total:0}).select().single();if(fe)throw fe;return V&&await g(V,"occupied"),await u(),ae.id}catch(ae){throw l(ae,"criao de comanda"),ae}},[s,i,l,u]),f=v.useCallback(async(V,W)=>{try{i({loading:!0,error:null});const{error:Y}=await de.from("comandas").update({...W,updated_at:new Date().toISOString()}).eq("id",V);if(Y)throw Y;await u()}catch(Y){throw l(Y,"atualizao de comanda"),Y}},[i,l,u]),g=v.useCallback(async(V,W)=>{try{const{error:Y}=await de.from("bar_tables").update({status:W,updated_at:new Date().toISOString()}).eq("id",V);if(Y)throw Y;await u()}catch(Y){throw l(Y,"atualizao de status da mesa"),Y}},[l,u]),p=v.useCallback(async V=>{try{await g(V,"cleaning"),setTimeout(async()=>{await g(V,"available")},5*60*1e3)}catch(W){throw l(W,"liberao de mesa"),W}},[g,l]),m=v.useCallback(async V=>{if(s)try{const W=new Date().toISOString().split("T")[0],{data:Y,error:ae}=await de.from("attendance_metrics").select("*").eq("employee_id",s.id).eq("date",W).single();if(ae&&ae.code!=="PGRST116")throw ae;if(Y){const{error:fe}=await de.from("attendance_metrics").update({total_sales:(Y.total_sales||0)+V,orders_count:(Y.orders_count||0)+1,comandas_count:(Y.comandas_count||0)+1,updated_at:new Date().toISOString()}).eq("id",Y.id);if(fe)throw fe}else{const{error:fe}=await de.from("attendance_metrics").insert({employee_id:s.id,date:W,total_sales:V,orders_count:1,comandas_count:1});if(fe)throw fe}}catch(W){console.error("Erro ao atualizar mtricas de venda:",W)}},[s]),y=v.useCallback(async(V,W,Y)=>{try{i({loading:!0,error:null});const{data:ae,error:fe}=await de.from("comandas").select("table_id, total").eq("id",V).single();if(fe)throw fe;const{error:se}=await de.from("comandas").update({status:"closed",closed_at:new Date().toISOString(),payment_method:W,notes:Y,updated_at:new Date().toISOString()}).eq("id",V);if(se)throw se;ae.table_id&&await p(ae.table_id),await m(ae.total||0),await u()}catch(ae){throw l(ae,"fechamento de comanda"),ae}},[i,l,u,p,m]),b=v.useCallback(async(V,W,Y,ae)=>{try{i({loading:!0,error:null});const{data:fe,error:se}=await de.from("menu_items").select("price").eq("id",W).single();if(se)throw se;const{error:L}=await de.from("comanda_items").insert({comanda_id:V,menu_item_id:W,quantity:Y,price:fe.price,notes:ae,status:"pending",added_at:new Date().toISOString()});if(L)throw L;const{data:D,error:I}=await de.from("comanda_items").select("quantity, price").eq("comanda_id",V);if(I)throw I;const ne=D.reduce((A,q)=>A+q.quantity*q.price,0);await f(V,{total:ne})}catch(fe){throw l(fe,"adio de item  comanda"),fe}},[i,l,f]),_=v.useCallback(async V=>{try{i({loading:!0,error:null});const{data:W,error:Y}=await de.from("comanda_items").select("comanda_id").eq("id",V).single();if(Y)throw Y;const{error:ae}=await de.from("comanda_items").delete().eq("id",V);if(ae)throw ae;const{data:fe,error:se}=await de.from("comanda_items").select("quantity, price").eq("comanda_id",W.comanda_id);if(se)throw se;const L=fe.reduce((D,I)=>D+I.quantity*I.price,0);await f(W.comanda_id,{total:L})}catch(W){throw l(W,"remoo de item da comanda"),W}},[i,l,f]),w=v.useCallback(async(V,W)=>{try{const Y={status:W,updated_at:new Date().toISOString()};W==="ready"?Y.prepared_at=new Date().toISOString():W==="delivered"&&(Y.delivered_at=new Date().toISOString());const{error:ae}=await de.from("comanda_items").update(Y).eq("id",V);if(ae)throw ae;await u()}catch(Y){throw l(Y,"atualizao de status do item"),Y}},[l,u]),C=v.useCallback(async(V,W)=>{try{await g(V,"occupied"),W&&await f(W,{table_id:V})}catch(Y){throw l(Y,"ocupao de mesa"),Y}},[g,f,l]),N=v.useCallback(async(V,W,Y)=>{try{const{error:ae}=await de.from("bar_tables").update({status:"reserved",notes:`Reservado para ${W} s ${Y.toLocaleTimeString()}`,updated_at:new Date().toISOString()}).eq("id",V);if(ae)throw ae;await u()}catch(ae){throw l(ae,"reserva de mesa"),ae}},[l,u]),k=v.useCallback(async V=>{try{await g(V,"available")}catch(W){throw l(W,"limpeza de mesa"),W}},[g,l]),O=v.useCallback(async V=>{var W;if(!s)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const{data:Y,error:ae}=await de.from("comandas").insert({customer_name:((W=V.customer)==null?void 0:W.name)||"Cliente Balco",employee_id:s.id,status:"closed",opened_at:new Date().toISOString(),closed_at:new Date().toISOString(),total:V.total,payment_method:V.payment_method||"dinheiro",notes:V.notes}).select().single();if(ae)throw ae;const fe=V.items.map(L=>({comanda_id:Y.id,menu_item_id:L.menu_item_id,quantity:L.quantity,price:L.price,notes:L.notes,status:"delivered",added_at:new Date().toISOString(),delivered_at:new Date().toISOString()})),{error:se}=await de.from("comanda_items").insert(fe);if(se)throw se;return await m(V.total),await u(),Y.id}catch(Y){throw l(Y,"processamento de pedido do balco"),Y}},[s,i,l,u]),E=v.useCallback(async(V,W)=>{if(!s)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const{error:Y}=await de.from("bill_splits").insert({comanda_id:V,split_type:W.type,person_count:W.person_count,splits:W.splits,total_amount:W.splits.reduce((ae,fe)=>ae+fe.total,0),service_charge:W.service_charge_percentage||0,discount_amount:W.discount_amount||0,created_by:s.id});if(Y)throw Y;await u()}catch(Y){throw l(Y,"diviso de conta"),Y}},[s,i,l,u]),T=v.useCallback(async()=>{if(s)try{const V=new Date().toISOString().split("T")[0],{data:W}=await de.from("attendance_metrics").select("*").eq("employee_id",s.id).eq("date",V).single(),{data:Y}=await de.from("comandas").select("total, opened_at, closed_at").eq("employee_id",s.id).gte("opened_at",`${V}T00:00:00`).lt("opened_at",`${V}T23:59:59`),ae=(Y==null?void 0:Y.reduce((L,D)=>L+(D.total||0),0))||0,fe=(Y==null?void 0:Y.length)||0,se={employee_id:s.id,date:V,comandas_count:fe,total_sales:ae,orders_count:fe,updated_at:new Date().toISOString()};if(W){const{error:L}=await de.from("attendance_metrics").update(se).eq("id",W.id);if(L)throw L}else{const{error:L}=await de.from("attendance_metrics").insert(se);if(L)throw L}await u()}catch(V){l(V,"atualizao de mtricas")}},[s,l,u]),S=v.useCallback(async V=>{i({notificacoes:e.notificacoes.map(W=>W.id===V?{...W,read:!0}:W)})},[e.notificacoes,i]),R=v.useCallback(async()=>{i({notificacoes:[]})},[i]),z=v.useCallback(async()=>{await u()},[u]),$=v.useCallback(V=>e.comandas.find(W=>W.table_id===V&&W.status==="open"),[e.comandas]),F=v.useCallback(V=>e.mesas.find(W=>W.number===V),[e.mesas]);return{...e,criarComanda:d,atualizarComanda:f,fecharComanda:y,adicionarItemComanda:b,removerItemComanda:_,atualizarStatusItem:w,ocuparMesa:C,liberarMesa:p,reservarMesa:N,limparMesa:k,atualizarStatusMesa:g,processarPedidoBalcao:O,dividirConta:E,atualizarMetricas:T,marcarNotificacaoLida:S,limparNotificacoes:R,recarregarDados:z,obterComandaPorMesa:$,obterMesaPorNumero:F}},oO=()=>{var Ae,Pe;const{comandas:s,loading:e,refetch:n}=el(),{tables:i}=cu(),[l,u]=v.useState(""),[d,f]=v.useState("all"),[g,p]=v.useState(""),[m,y]=v.useState(""),[b,_]=v.useState("all"),[w,C]=v.useState(!1),[N,k]=v.useState(null),[O,E]=v.useState(new Set),[T,S]=v.useState("list"),[R,z]=v.useState([]),[$,F]=v.useState("all"),[V,W]=v.useState(""),[Y,ae]=v.useState(!1),[fe,se]=v.useState(!1),[L,D]=v.useState(""),[I,ne]=v.useState(!1),[A,q]=v.useState(!1),{menuItems:P,loading:J}=Jj(!0),{adicionarItemComanda:ue,fecharComanda:xe}=iO(),{refreshBarOrders:me,refreshKitchenOrders:re}=wt();v.useEffect(()=>{if(N&&s.length>0){const ee=s.find(ke=>ke.id===N.id);ee&&(console.log(" Atualizando comanda selecionada com novos dados:",ee),k(ee))}},[s,N==null?void 0:N.id]);const he=()=>{C(!0)},De=ee=>{k(ee),S("details")},Xe=()=>{S("list"),k(null),z([])},pt=ee=>{console.log("Adicionando item ao carrinho:",ee);const ke=R.findIndex(qe=>qe.menu_item_id===ee.id);if(ke>=0){const qe=[...R];qe[ke].quantity+=1,z(qe),console.log("Item j existia, quantidade atualizada:",qe)}else{const qe={menu_item_id:ee.id,name:ee.name,price:typeof ee.price=="string"?parseFloat(ee.price):ee.price,quantity:1,notes:""},It=[...R,qe];z(It),console.log("Novo item adicionado ao carrinho:",It)}},At=(ee,ke)=>{ke<=0?z(R.filter(qe=>qe.menu_item_id!==ee)):z(R.map(qe=>qe.menu_item_id===ee?{...qe,quantity:ke}:qe))},rs=()=>R.reduce((ee,ke)=>ee+ke.price*ke.quantity,0),ks=async()=>{if(console.log(" Boto clicado! Iniciando adio de itens  comanda"),console.log("Comanda selecionada:",N),console.log("Itens no carrinho:",R),!N){console.error(" Nenhuma comanda selecionada");return}if(R.length===0){console.error(" Carrinho vazio");return}ae(!0);try{console.log(" Adicionando",R.length,"itens  comanda",N.id);for(const ke of R)console.log(" Adicionando item:",ke),await ue(N.id,ke.menu_item_id,ke.quantity,ke.notes||""),console.log(" Item adicionado com sucesso");console.log(" Limpando carrinho");const ee=R.length;z([]),console.log(" Atualizando dados"),await n(),console.log(" Dados atualizados, comanda selecionada ser atualizada automaticamente"),console.log(" Forando atualizao dos pedidos do bar e cozinha..."),await me(),await re(),console.log(" Pedidos do bar e cozinha atualizados"),D(` ${ee} ${ee===1?"item adicionado":"itens adicionados"} com sucesso!`),se(!0),setTimeout(()=>{se(!1)},3e3),console.log(" Processo concludo com sucesso!")}catch(ee){console.error(" Erro ao adicionar itens  comanda:",ee),D(" Erro ao adicionar itens  comanda"),se(!0),setTimeout(()=>{se(!1)},3e3)}finally{ae(!1)}},Kn=async(ee,ke)=>{if(N){q(!0);try{console.log(" Fechando comanda:",N.id,"Mtodo:",ee),await xe(N.id,ee,ke),console.log(" Comanda fechada com sucesso"),await n(),await me(),await re(),S("list"),k(null),z([]),ne(!1),D(" Comanda fechada e enviada para o caixa!"),se(!0),setTimeout(()=>{se(!1)},3e3)}catch(qe){console.error(" Erro ao fechar comanda:",qe),D(" Erro ao fechar comanda"),se(!0),setTimeout(()=>{se(!1)},3e3)}finally{q(!1)}}},pi=ee=>{E(ke=>new Set([...ke,ee]))},Pt=v.useMemo(()=>s.filter(ee=>{var xs,Hs,Fs,mn,xi,yi;const ke=!l||((xs=ee.customer_name)==null?void 0:xs.toLowerCase().includes(l.toLowerCase()))||((Fs=(Hs=ee.table)==null?void 0:Hs.number)==null?void 0:Fs.toString().includes(l))||ee.id.toLowerCase().includes(l.toLowerCase()),qe=d==="all"||ee.status===d,It=!g||((mn=ee.employee_name)==null?void 0:mn.toLowerCase().includes(g.toLowerCase())),Vt=!m||((yi=(xi=ee.table)==null?void 0:xi.number)==null?void 0:yi.toString().includes(m)),is=(()=>{if(b==="all")return!0;const bi=new Date(ee.opened_at),vi=(new Date().getTime()-bi.getTime())/(1e3*60*60);switch(b){case"recent":if(vi>=1)return!1;break;case"overdue":if(vi<=2)return!1;break;case"critical":if(vi<=4)return!1;break}return!0})();return ke&&qe&&It&&Vt&&is}),[s,l,d,g,m,b]),tl=Pt.filter(ee=>ee.status==="open"),fn=Pt.filter(ee=>ee.status==="pending_payment"),U=Pt.filter(ee=>{if(ee.status!=="open")return!1;const ke=new Date(ee.opened_at);return(new Date().getTime()-ke.getTime())/(1e3*60*60)>2}),Q=U.filter(ee=>!O.has(ee.id)),ie=ee=>new Date(ee).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),ye=ee=>{switch(ee){case"open":return"Aberta";case"pending_payment":return"Aguardando Pagamento";case"closed":return"Fechada";default:return ee}},pe=[...new Set(P.map(ee=>ee.category))],ge=P.filter(ee=>{const ke=$==="all"||ee.category===$,qe=ee.name.toLowerCase().includes(V.toLowerCase());return ke&&qe&&ee.available});if(console.log("Estado atual do carrinho:",R),console.log("Carrinho tem itens?",R.length>0),console.log(" Debug boto Fechar Conta:",{selectedComanda:!!N,status:N==null?void 0:N.status,shouldShow:(N==null?void 0:N.status)==="open"}),T==="details"&&N)return r.jsxs("div",{className:"comanda-details-container h-full flex flex-col bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-white flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:Xe,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[r.jsx(Um,{size:20}),r.jsx("span",{children:"Voltar para Comandas"})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Mesa ",((Ae=N.table)==null?void 0:Ae.number)||"N/A"," - ",N.customer_name||"Cliente"]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Aberta em ",ie(N.opened_at)]}),r.jsx("div",{className:"bg-green-100 px-4 py-2 rounded-lg border border-green-200",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total da Comanda:"}),r.jsxs("span",{className:"text-xl font-bold text-green-900",children:["R$ ",((Pe=N.total)==null?void 0:Pe.toFixed(2))||"0,00"]})]})})]})]})]}),r.jsx("div",{className:"flex flex-col space-y-2",children:r.jsxs("button",{onClick:()=>ne(!0),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center space-x-2",children:[r.jsx(Vm,{size:20}),r.jsx("span",{children:"Fechar Conta"})]})})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[r.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{type:"text",placeholder:"Buscar itens...",value:V,onChange:ee=>W(ee.target.value),className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),r.jsxs("select",{value:$,onChange:ee=>F(ee.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"Todas as Categorias"}),pe.map(ee=>r.jsx("option",{value:ee,children:ee},ee))]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:J?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):ge.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 mb-2",children:"Nenhum item encontrado"})}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ge.map(ee=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow group",children:[r.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center group-hover:bg-gray-200 transition-colors",children:[ee.image_url?r.jsx("img",{src:ee.image_url,alt:ee.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:ke=>{ke.currentTarget.style.display="none",ke.currentTarget.nextElementSibling.style.display="block"}}):null,r.jsx("div",{className:"text-gray-400 text-2xl",style:{display:ee.image_url?"none":"block"},children:""})]}),r.jsx("h3",{className:"font-medium text-gray-900 mb-1 line-clamp-2",children:ee.name}),r.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:ee.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",(typeof ee.price=="string"?parseFloat(ee.price):ee.price).toFixed(2)]}),r.jsx("button",{onClick:()=>pt(ee),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",title:`Adicionar ${ee.name}`,children:r.jsx(gs,{size:16})})]})]},ee.id))})})]}),r.jsxs("div",{className:"w-96 bg-gray-50 border-l border-gray-200 flex flex-col",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pedidos da Comanda"})})}),(N==null?void 0:N.items)&&N.items.length>0&&r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("div",{className:"p-4 bg-blue-50",children:[r.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Itens j pedidos (",N.items.length,")",r.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(Debug: ",new Date().toLocaleTimeString(),")"]})]}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:N.items.map(ee=>{var ke;return r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:((ke=ee.menu_item)==null?void 0:ke.name)||"Item no encontrado"}),r.jsxs("p",{className:"text-xs text-gray-600",children:["R$ ",ee.price.toFixed(2)," cada"]})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ee.status==="pending"?"bg-yellow-100 text-yellow-800":ee.status==="preparing"?"bg-blue-100 text-blue-800":ee.status==="ready"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ee.status==="pending"?"Pendente":ee.status==="preparing"?"Preparando":ee.status==="ready"?"Pronto":ee.status==="delivered"?"Entregue":ee.status})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Qtd: ",ee.quantity]}),r.jsxs("span",{className:"font-medium text-green-600 text-sm",children:["R$ ",(ee.price*ee.quantity).toFixed(2)]})]}),ee.notes&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Obs: ",ee.notes]})]},ee.id)})})]})}),r.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Novos Itens (",R.length,")"]}),R.length>0&&r.jsx("button",{onClick:()=>z([]),className:"text-xs text-red-600 hover:text-red-800",children:"Limpar"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 min-h-0",children:R.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-4 h-full flex flex-col items-center justify-center",children:[r.jsx($m,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"Nenhum item novo selecionado"})]}):r.jsxs("div",{className:"space-y-4",children:[R.map(ee=>r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:ee.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",ee.price.toFixed(2)," cada"]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>At(ee.menu_item_id,ee.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:r.jsx(qm,{size:14})}),r.jsx("span",{className:"w-8 text-center font-medium",children:ee.quantity}),r.jsx("button",{onClick:()=>At(ee.menu_item_id,ee.quantity+1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:r.jsx(gs,{size:14})})]}),r.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",(ee.price*ee.quantity).toFixed(2)]})]})]},ee.menu_item_id)),r.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200 mb-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-semibold text-green-800",children:"Total dos Novos Itens:"}),r.jsxs("span",{className:"text-3xl font-bold text-green-900",children:["R$ ",rs().toFixed(2)]})]})}),r.jsx("button",{onClick:ks,disabled:Y,className:`w-full py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 ${Y?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:Y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),r.jsx("span",{children:"Adicionando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(gs,{size:20}),r.jsx("span",{children:"Adicionar  Comanda"})]})}),fe&&r.jsx("div",{className:`mt-3 p-3 rounded-lg text-sm font-medium text-center transition-all duration-300 ${L.includes("")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:L})]})]})})]})]}),r.jsx(lO,{isOpen:I,onClose:()=>ne(!1),comanda:N,onConfirm:Kn,isLoading:A})]});return r.jsxs("div",{className:"comandas-container",children:[r.jsx(nO,{comandas:Q,onComandaClick:De,onDismissAlert:pi}),r.jsx(rO,{searchTerm:l,onSearchChange:u,statusFilter:d,onStatusFilterChange:f,employeeFilter:g,onEmployeeFilterChange:p,tableFilter:m,onTableFilterChange:y,timeFilter:b,onTimeFilterChange:_,employees:[],tables:i||[],onClearFilters:()=>{u(""),f("all"),p(""),y(""),_("all")}}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:tl.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Abertas"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:fn.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Aguardando Pagamento"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:U.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Com Atraso"})]})]}),r.jsx("button",{onClick:he,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"+ Nova Comanda"})]}),r.jsx("div",{className:"bg-white rounded-lg border",children:e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funcionrio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertura"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Pt.map(ee=>{var It,Vt;const ke=we(ee.opened_at),qe=new Date().getTime()-new Date(ee.opened_at).getTime()>2*60*60*1e3;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[((It=ee.table)==null?void 0:It.number)||"Balco",ee.customer_name&&r.jsx("div",{className:"text-xs text-gray-500",children:ee.customer_name})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee.status==="open"?"bg-green-100 text-green-800":ee.status==="pending_payment"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:ye(ee.status)}),qe&&ee.status==="open"&&r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:" Atrasada"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ee.employee_name||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{children:[ie(ee.opened_at),r.jsxs("div",{className:`text-xs ${qe?"text-red-600 font-medium":"text-gray-400"}`,children:[ke," decorrido"]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["R$ ",((Vt=ee.total)==null?void 0:Vt.toFixed(2))||"0,00"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("button",{onClick:()=>De(ee),className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:[r.jsx(nu,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})})]},ee.id)})})]})})}),r.jsx(t1,{isOpen:w,onClose:()=>C(!1),onComandaCreated:()=>{n()}}),console.log(" Debug modal:",{showCloseModal:I,selectedComanda:!!N,viewMode:T}),fe&&T==="list"&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`p-4 rounded-lg shadow-lg ${L.includes("")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:L})})]});function we(ee){const ke=new Date(ee),It=new Date().getTime()-ke.getTime(),Vt=Math.floor(It/(1e3*60*60)),is=Math.floor(It%(1e3*60*60)/(1e3*60));return Vt>0?`${Vt}h ${is}min`:`${is}min`}},lO=({isOpen:s,onClose:e,comanda:n,onConfirm:i,isLoading:l})=>{var m,y;const[u,d]=v.useState("dinheiro"),[f,g]=v.useState("");if(console.log(" CloseComandaModal renderizado:",{isOpen:s,comanda:!!n,isLoading:l}),!s)return console.log(" Modal no est aberto, retornando null"),null;console.log(" Modal est aberto, renderizando interface");const p=b=>{b.preventDefault(),i(u,f)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Fechar Conta"}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:["Mesa ",((m=n.table)==null?void 0:m.number)||"N/A"," - ",n.customer_name||"Cliente"]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total da conta:"}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",((y=n.total)==null?void 0:y.toFixed(2))||"0,00"]})]})]}),r.jsxs("form",{onSubmit:p,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pagamento"}),r.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"dinheiro",children:"Dinheiro"}),r.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),r.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),r.jsx("option",{value:"pix",children:"PIX"}),r.jsx("option",{value:"vale_refeicao",children:"Vale Refeio"}),r.jsx("option",{value:"outros",children:"Outros"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes (opcional)"}),r.jsx("textarea",{value:f,onChange:b=>g(b.target.value),placeholder:"Observaes sobre o pagamento...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Fechando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Vm,{size:16}),r.jsx("span",{children:"Fechar Conta"})]})})]})]})]})})})},cO=()=>{const{user:s}=ps(),[e,n]=v.useState([]),[i,l]=v.useState({orderQueue:[],alerts:[],loading:!0,error:null}),u=v.useCallback(se=>{l(L=>({...L,...se}))},[]),d=v.useCallback((se,L)=>{console.error(`Erro em ${L}:`,se),u({error:`Erro em ${L}: ${se.message||"Erro desconhecido"}`,loading:!1})},[u]),f=v.useCallback(async()=>{if(s)try{u({loading:!0,error:null});const{data:se,error:L}=await de.rpc("get_order_queue_items");if(L)throw L;const D=(se||[]).map(ne=>{const A=_([ne]);return{...ne,priority:{level:A.priorityLevel,complexity:w(A.finalEstimate),estimatedTime:A.finalEstimate,isManuallyPrioritized:ne.is_priority||!1,createdAt:new Date(ne.added_at),timerStatus:g(new Date(ne.added_at),A.finalEstimate),alertsEnabled:!0}}}),I=T(D);u({orderQueue:I,loading:!1})}catch(se){d(se,"carregamento da fila de pedidos")}},[s,u,d]),g=(se,L)=>{const I=(new Date().getTime()-se.getTime())/(1e3*60),ne=L*.8,A=L*1.2;return I>=A?"overdue":I>=ne?"warning":"normal"},p={bebidas:{baseTime:2,complexity:"simple"},drinks:{baseTime:3,complexity:"simple"},petiscos:{baseTime:8,complexity:"medium"},pratos:{baseTime:15,complexity:"complex"},sobremesas:{baseTime:5,complexity:"simple"},cafes:{baseTime:3,complexity:"simple"}},m={simple:1,medium:1.3,complex:1.8},y=v.useCallback(se=>{let L=0,D="simple",I=0;se.forEach(P=>{var J,ue;if(P.menu_items){const xe=P.menu_items.category.toLowerCase(),me=P.menu_items.preparation_time||0,re=me>0?me:((J=p[xe])==null?void 0:J.baseTime)||8;L+=re*P.quantity;const he=((ue=p[xe])==null?void 0:ue.complexity)||"medium";b(he)>b(D)&&(D=he),xe==="pratos"&&(I+=2),xe==="petiscos"&&(I+=1)}});const ne=m[D],A=Math.ceil((L+I)*ne);let q="low";return A>=20?q="high":A>=12?q="medium":q="low",{baseTime:L,complexityMultiplier:ne,categoryBonus:I,finalEstimate:A,priorityLevel:q}},[]),b=se=>{switch(se){case"simple":return 1;case"medium":return 2;case"complex":return 3;default:return 1}},_=v.useCallback((se,L=!1,D)=>{const I=y(se);return{level:L&&D?D:I.priorityLevel,complexity:w(I.finalEstimate),estimatedTime:I.finalEstimate,isManuallyPrioritized:L,createdAt:new Date,timerStatus:"normal",alertsEnabled:!0}},[y]),w=se=>se>=15?"complex":se>=8?"medium":"simple",C=v.useCallback((se,L)=>{const D={id:se,startTime:new Date,estimatedTime:L,status:"normal",alertsSent:[]};n(I=>[...I.filter(ne=>ne.id!==se),D])},[]),N=v.useCallback(se=>{n(L=>L.filter(D=>D.id!==se))},[]),k=v.useCallback((se,L,D)=>{n(ne=>ne.map(A=>A.id===se?{...A,status:L==="urgent"?"warning":A.status}:A));const I={id:`priority-${se}-${Date.now()}`,orderId:se,type:"warning",message:`Pedido marcado como ${O(L)}${D?`: ${D}`:""}`,timestamp:new Date,acknowledged:!1};setAlerts(ne=>[I,...ne])},[]),O=se=>{switch(se){case"low":return"Baixa Prioridade";case"medium":return"Prioridade Mdia";case"high":return"Alta Prioridade";case"urgent":return"Urgente";default:return se}},E=se=>{switch(se){case"low":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"urgent":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=v.useCallback(se=>{const L={urgent:4,high:3,medium:2,low:1};return se.sort((D,I)=>{var xe,me,re,he,De,Xe,pt,At;if((xe=D.priority)!=null&&xe.isManuallyPrioritized&&!((me=I.priority)!=null&&me.isManuallyPrioritized))return-1;if(!((re=D.priority)!=null&&re.isManuallyPrioritized)&&((he=I.priority)!=null&&he.isManuallyPrioritized))return 1;const ne=((De=D.priority)==null?void 0:De.level)||"low",A=((Xe=I.priority)==null?void 0:Xe.level)||"low",q=L[ne],P=L[A];if(q!==P)return P-q;const J=new Date(((pt=D.priority)==null?void 0:pt.createdAt)||D.added_at||0).getTime(),ue=new Date(((At=I.priority)==null?void 0:At.createdAt)||I.added_at||0).getTime();return J-ue})},[]),S=v.useCallback(async(se,L)=>{try{const{error:D}=await de.from("comanda_items").update({is_priority:L,updated_at:new Date().toISOString()}).eq("id",se);if(D)throw D;u({orderQueue:i.orderQueue.map(I=>I.id===se&&I.priority?{...I,priority:{...I.priority,isManuallyPrioritized:L,level:L?"urgent":I.priority.level}}:I)}),await f()}catch(D){throw d(D,"marcao de prioridade"),D}},[i.orderQueue,u,d,f]),R=v.useCallback(async(se,L)=>{try{const D={status:L,updated_at:new Date().toISOString()};L==="preparing"?D.started_at=new Date().toISOString():L==="ready"?D.prepared_at=new Date().toISOString():L==="delivered"&&(D.delivered_at=new Date().toISOString());const{error:I}=await de.from("comanda_items").update(D).eq("id",se);if(I)throw I;await f()}catch(D){throw d(D,"atualizao de status"),D}},[d,f]);v.useCallback((se,L,D)=>{const I={id:`alert-${se}-${Date.now()}`,orderId:se,type:L,message:D,timestamp:new Date,acknowledged:!1};u({alerts:[I,...i.alerts]})},[i.alerts,u]);const z=v.useCallback(se=>{u({alerts:i.alerts.map(L=>L.id===se?{...L,acknowledged:!0}:L)})},[i.alerts,u]),$=v.useCallback(()=>{u({alerts:[]})},[u]),F=v.useCallback(se=>{if(se.priority)return se.priority;const L=_([se]);return{level:L.priorityLevel,complexity:w(L.finalEstimate),estimatedTime:L.finalEstimate,isManuallyPrioritized:!1,createdAt:new Date(se.added_at),timerStatus:g(new Date(se.added_at),L.finalEstimate),alertsEnabled:!0}},[]),V=v.useCallback(se=>{const L=F(se);return g(L.createdAt,L.estimatedTime)},[F]),W=v.useCallback(se=>{const L=F(se),D=(new Date().getTime()-L.createdAt.getTime())/(1e3*60);return Math.max(0,L.estimatedTime-D)},[F]),Y=v.useCallback(se=>{const L=W(se);if(L<1)return"< 1min";if(L<60)return`${Math.ceil(L)}min`;const D=Math.floor(L/60),I=Math.ceil(L%60);return I===0?`${D}h`:`${D}h ${I}min`},[W]),ae=v.useCallback(()=>{const se={urgent:0,high:0,medium:0,low:0,overdue:0,warning:0};return i.orderQueue.forEach(L=>{const D=F(L);se[D.level]++,D.timerStatus==="overdue"?se.overdue++:D.timerStatus==="warning"&&se.warning++}),se},[i.orderQueue,F]),fe=v.useCallback(async()=>{await f()},[f]);return v.useEffect(()=>{if(!s)return;const se=de.channel("order-priority-changes").on("postgres_changes",{event:"*",schema:"public",table:"comanda_items"},L=>{console.log("Mudana em itens de comanda:",L),f()}).subscribe();return()=>{de.removeChannel(se)}},[s,f]),v.useEffect(()=>{s&&f()},[s,f]),v.useEffect(()=>{const se=setInterval(()=>{if(i.orderQueue.length>0){const L=i.orderQueue.map(D=>{if(D.priority){const I=g(D.priority.createdAt,D.priority.estimatedTime);return{...D,priority:{...D.priority,timerStatus:I}}}return D});u({orderQueue:L})}},6e4);return()=>clearInterval(se)},[i.orderQueue,u]),{...i,markItemAsPriority:S,updateItemStatus:R,dismissAlert:z,clearAllAlerts:$,getItemPriority:F,getTimerStatus:V,getRemainingTime:W,formatRemainingTime:Y,getPriorityStats:ae,refreshQueue:fe,getPriorityLabel:O,getPriorityColor:E,sortOrdersByPriority:T,calculateOrderPriority:_,calculateAutoPriority:y,startOrderTimer:C,stopOrderTimer:N,markOrderAsPriority:k,orderTimers:e,allAlerts:i.alerts}},uO=({onUpdateItemStatus:s})=>{const{orderQueue:e,loading:n,markItemAsPriority:i,updateItemStatus:l,getItemPriority:u,getTimerStatus:d,formatRemainingTime:f,alerts:g,getPriorityLabel:p,getPriorityColor:m}=cO(),[y,b]=v.useState(!0),[_,w]=v.useState(null),C=e,k=(()=>{const F=new Map;return C.forEach(V=>{var Y,ae;const W=((ae=(Y=V.comandas)==null?void 0:Y.bar_tables)==null?void 0:ae.number)||"Balco";F.has(W)||F.set(W,[]),F.get(W).push(V)}),F})(),O=F=>(k.get(F)||[]).length>1,E=F=>F.id.slice(-4).toUpperCase(),T=async(F,V)=>{try{s?await s(F,V):await l(F,V)}catch(W){console.error("Erro ao atualizar status:",W)}},S=async(F,V)=>{try{await i(F,V),w(null)}catch(W){console.error("Erro ao marcar prioridade:",W)}},R=F=>{switch(F){case"pending":return r.jsx(Qt,{className:"h-4 w-4"});case"preparing":return r.jsx($b,{className:"h-4 w-4"});case"ready":return r.jsx(Vb,{className:"h-4 w-4"});default:return r.jsx(Qt,{className:"h-4 w-4"})}},z=F=>{switch(F){case"pending":return"text-yellow-600 bg-yellow-100";case"preparing":return"text-blue-600 bg-blue-100";case"ready":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},$=F=>{switch(F){case"pending":return"Pendente";case"preparing":return"Preparando";case"ready":return"Pronto";default:return F}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(Xn,{children:y&&g.length>0&&r.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yk,{className:"h-5 w-5 text-red-600"}),r.jsxs("h3",{className:"text-lg font-semibold text-red-800",children:["Alertas (",g.length,")"]})]}),r.jsx("button",{onClick:()=>b(!1),className:"text-red-600 hover:text-red-800",title:"Fechar alertas","aria-label":"Fechar alertas",children:r.jsx(ut,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"space-y-2",children:g.slice(0,3).map(F=>r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-red-800",children:F.message}),r.jsx("p",{className:"text-xs text-red-600",children:Na(F.timestamp,"HH:mm",{locale:Gn})})]}),r.jsx("button",{onClick:()=>acknowledgeAlert(F.id),className:"text-red-600 hover:text-red-800 ml-2",title:"Reconhecer alerta","aria-label":"Reconhecer alerta",children:r.jsx(Vb,{className:"h-4 w-4"})})]},F.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fila de Pedidos"}),r.jsxs("p",{className:"text-gray-600",children:[C.length," itens na fila, ordenados por prioridade"]}),Array.from(k.entries()).filter(([F,V])=>V.length>1).length>0&&r.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium mt-1 inline-block",children:[Array.from(k.entries()).filter(([F,V])=>V.length>1).length," mesa(s) com mltiplos pedidos"]})]}),g.length>0&&!y&&r.jsxs("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 bg-red-100 text-red-800 px-3 py-2 rounded-lg hover:bg-red-200 transition-colors",title:"Mostrar alertas","aria-label":"Mostrar alertas",children:[r.jsx(Cj,{className:"h-4 w-4"}),r.jsxs("span",{children:[g.length," alertas"]})]})]}),Array.from(k.entries()).filter(([F,V])=>V.length>1).length>0&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(k.entries()).filter(([F,V])=>V.length>1).map(([F,V])=>r.jsxs("span",{className:"bg-orange-200 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:["Mesa ",F,": ",V.length," itens"]},F))})]}),r.jsx("div",{className:"space-y-4",children:C.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Qt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Nenhum pedido na fila"})]}):C.map((F,V)=>{var ae,fe,se,L,D,I;const W=d(F),Y=u(F);return r.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1},className:`bg-white rounded-lg shadow-md p-6 border-l-4 ${Y!=null&&Y.isManuallyPrioritized?"border-red-500":(Y==null?void 0:Y.level)==="high"?"border-orange-500":(Y==null?void 0:Y.level)==="medium"?"border-yellow-500":"border-green-500"} ${O(((fe=(ae=F.comandas)==null?void 0:ae.bar_tables)==null?void 0:fe.number)||"Balco")?"ring-2 ring-orange-300 ring-offset-2":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:["#",V+1]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((se=F.menu_items)==null?void 0:se.name)||"Item sem nome"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["x",F.quantity]}),r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",E(F)]})]}),(Y==null?void 0:Y.isManuallyPrioritized)&&r.jsx(Uf,{className:"h-5 w-5 text-red-500"})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[((D=(L=F.comandas)==null?void 0:L.bar_tables)==null?void 0:D.number)&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{children:["Mesa ",F.comandas.bar_tables.number]}),r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",E(F)]}),O(F.comandas.bar_tables.number)&&r.jsxs("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[(k.get(F.comandas.bar_tables.number)||[]).length," itens"]})]}),((I=F.comandas)==null?void 0:I.customer_name)&&r.jsxs("span",{children:["Cliente: ",F.comandas.customer_name]}),r.jsxs("span",{children:["Pedido s ",Na(new Date(F.added_at||""),"HH:mm",{locale:Gn})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${m((Y==null?void 0:Y.level)||"low")}`,children:p((Y==null?void 0:Y.level)||"low")}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Tempo estimado: ",(Y==null?void 0:Y.estimatedTime)||0,"min"]}),r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded text-sm ${W==="overdue"?"bg-red-100 text-red-800":W==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[r.jsx($b,{className:"h-3 w-3"}),r.jsx("span",{children:f(F)}),W==="overdue"&&r.jsx(cn,{className:"h-3 w-3"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${z(F.status||"pending")}`,children:[R(F.status||"pending"),r.jsx("span",{children:$(F.status||"pending")})]})})]}),r.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[r.jsxs("button",{onClick:()=>w(F.id),className:"flex items-center space-x-1 px-3 py-1 bg-orange-100 text-orange-800 rounded hover:bg-orange-200 transition-colors",title:"Marcar como prioritrio","aria-label":"Marcar como prioritrio",children:[r.jsx(Hk,{className:"h-3 w-3"}),r.jsx("span",{className:"text-xs",children:"Priorizar"})]}),F.status==="pending"&&r.jsx("button",{onClick:()=>T(F.id,"preparing"),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Iniciar"}),F.status==="preparing"&&r.jsx("button",{onClick:()=>T(F.id,"ready"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Pronto"})]})]})},F.id)})}),_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Definir Prioridade"}),r.jsx("div",{className:"space-y-3",children:["urgent","high","medium","low"].map(F=>r.jsxs("button",{onClick:()=>S(_||"",!0),className:`w-full p-3 rounded border-2 text-left transition-colors ${m(F)} hover:opacity-80`,children:[r.jsx("div",{className:"font-medium",children:p(F)}),r.jsxs("div",{className:"text-sm opacity-75",children:[F==="urgent"&&"Para pedidos que precisam ser feitos imediatamente",F==="high"&&"Para pedidos importantes com prazo apertado",F==="medium"&&"Para pedidos com prioridade normal",F==="low"&&"Para pedidos que podem aguardar"]})]},F))}),r.jsx("div",{className:"mt-4 flex space-x-3",children:r.jsx("button",{onClick:()=>w(null),className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded hover:bg-gray-400 transition-colors",children:"Cancelar"})})]})})]})},dO=({orders:s,menuItems:e})=>{const{updateOrderStatus:n}=wt(),l=(()=>{const m=new Map;return s.forEach(y=>{const b=y.tableNumber||"Balco";m.has(b)||m.set(b,[]),m.get(b).push(y)}),m})(),u=m=>m.items.reduce((y,b)=>{const _=e.find(w=>w.id===b.menuItemId)||b.menuItem;return y+((_==null?void 0:_.preparationTime)||(_==null?void 0:_.preparation_time)||0)},0),d=m=>{const y=(new Date().getTime()-m.createdAt.getTime())/6e4;return y>20?"high":y>10?"medium":"low"},f=m=>{switch(m){case"high":return"border-red-400 bg-red-50";case"medium":return"border-yellow-400 bg-yellow-50";case"low":return"border-green-400 bg-green-50";default:return"border-gray-200 bg-white"}},g=m=>m.id.slice(-4).toUpperCase(),p=m=>(l.get(m)||[]).length>1;return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Pedidos do Bar"}),r.jsx("div",{className:"text-sm text-gray-600",children:Array.from(l.entries()).filter(([m,y])=>y.length>1).length>0&&r.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[Array.from(l.entries()).filter(([m,y])=>y.length>1).length," mesa(s) com mltiplos pedidos"]})})]}),Array.from(l.entries()).filter(([m,y])=>y.length>1).length>0&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(l.entries()).filter(([m,y])=>y.length>1).map(([m,y])=>r.jsxs("span",{className:"bg-orange-200 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:["Mesa ",m,": ",y.length," pedidos"]},m))})]}),s.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"Nenhum pedido pendente no bar"})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:s.map(m=>{const y=d(m),b=u(m),_=m.items.filter(N=>{const k=e.find(O=>O.id===N.menuItemId)||N.menuItem;return(k==null?void 0:k.item_type)!=="direct"}),w=m.items.filter(N=>{const k=e.find(O=>O.id===N.menuItemId)||N.menuItem;return(k==null?void 0:k.item_type)==="direct"}),C=p(m.tableNumber||"Balco");return r.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`border-2 rounded-lg p-4 ${f(y)} ${C?"ring-2 ring-orange-300 ring-offset-2":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ru,{size:16,className:"text-gray-500"}),r.jsxs("span",{className:"font-bold text-lg",children:["Mesa ",m.tableNumber||"N/A"]}),r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",g(m)]}),p(m.tableNumber||"Balco")&&r.jsxs("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[(l.get(m.tableNumber||"Balco")||[]).length," pedidos"]})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[r.jsx(Qt,{size:14}),r.jsx("span",{children:Na(m.createdAt,"HH:mm",{locale:Gn})})]})]}),_.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Uc,{className:"w-4 h-4 text-orange-600"}),r.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Para Preparo"})]}),r.jsx("div",{className:"space-y-1 pl-6",children:_.map(N=>{const k=e.find(O=>O.id===N.menuItemId)||N.menuItem;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"font-medium",children:[N.quantity,"x ",(k==null?void 0:k.name)||"Item no encontrado"]}),r.jsxs("span",{className:"text-gray-600",children:[(k==null?void 0:k.preparationTime)||(k==null?void 0:k.preparation_time)||0,"min"]})]},N.id)})})]}),w.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(ln,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Do Estoque"})]}),r.jsx("div",{className:"space-y-1 pl-6",children:w.map(N=>{const k=e.find(O=>O.id===N.menuItemId)||N.menuItem;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"font-medium",children:[N.quantity,"x ",(k==null?void 0:k.name)||"Item no encontrado"]}),r.jsx("span",{className:"text-blue-600 text-xs",children:"Pronto"})]},N.id)})})]}),m.notes&&r.jsx("div",{className:"mb-4 p-2 bg-yellow-100 rounded border",children:r.jsx("p",{className:"text-sm text-yellow-800",children:m.notes})}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Tempo estimado: ",b,"min"]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y==="high"?"bg-red-200 text-red-800":y==="medium"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:y==="high"?"Urgente":y==="medium"?"Mdio":"Normal"})]}),r.jsxs("div",{className:"space-y-2",children:[m.status==="pending"&&r.jsx("button",{onClick:()=>n(m.id,"preparing"),className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Iniciar Separao"}),m.status==="preparing"&&r.jsx("button",{onClick:()=>n(m.id,"ready"),className:"w-full bg-green-600 text-white py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Marcar como Pronto"}),m.status==="ready"&&r.jsx("div",{className:"w-full bg-green-100 text-green-800 py-2 rounded-lg font-medium text-center",children:"Pronto para Entrega"})]})]},m.id)})})]})},hO=()=>null,fO=()=>{const{user:s}=ps(),{updateItemStatus:e}=el(),{barOrders:n,menuItems:i}=wt(),[l,u]=v.useState("balcao"),[d,f]=v.useState(!1),g=y=>{u(y)},p=async(y,b)=>{try{await e(y,b)}catch(_){throw console.error("Erro ao atualizar status do item:",_),_}},m=()=>{switch(l){case"balcao":return d?r.jsx(eO,{}):r.jsx(lv,{});case"mesas":return r.jsx(aO,{});case"comandas":return r.jsx(oO,{});case"fila":return r.jsx(uO,{onUpdateItemStatus:p});case"pedidos":return r.jsx(dO,{orders:n,menuItems:i});default:return r.jsx(lv,{})}};return r.jsxs("div",{className:"bar-attendance-container min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(A5,{mode:l,onModeChange:g,user:s}),l==="balcao"&&r.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:()=>f(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`,children:" Criar Pedido"}),r.jsx("button",{onClick:()=>f(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Gerenciar Pedidos"})]})}),r.jsx("main",{className:"bar-content flex-1 p-4 md:p-6 overflow-auto",children:m()}),r.jsx(hO,{})]})},mO=({isOpen:s,onClose:e,onOpenCash:n})=>{const[i,l]=v.useState({opening_amount:0,opening_notes:""}),[u,d]=v.useState(!1),f=async g=>{g.preventDefault(),d(!0);try{await n(i),e(),l({opening_amount:0,opening_notes:""})}catch(p){console.error("Erro ao abrir caixa:",p)}finally{d(!1)}};return s?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:r.jsx(Vs,{className:"h-6 w-6 text-green-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Abrir Caixa"})]}),r.jsx("button",{onClick:e,disabled:u,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ut,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Inicial (R$) *"}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:i.opening_amount,onChange:g=>l(p=>({...p,opening_amount:parseFloat(g.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,disabled:u})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),r.jsx("textarea",{value:i.opening_notes||"",onChange:g=>l(p=>({...p,opening_notes:g.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Observaes sobre a abertura do caixa...",disabled:u})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:e,disabled:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:u?"Abrindo...":"Abrir Caixa"})]})]})]})}):null},gO=({isOpen:s,onClose:e,session:n,onCloseCash:i})=>{const[l,u]=v.useState({closing_amount:n.expected_amount,closing_notes:"",reconciliation:[]}),[d,f]=v.useState(!1),g=async m=>{m.preventDefault(),f(!0);try{await i(l),e()}catch(y){console.error("Erro ao fechar caixa:",y)}finally{f(!1)}},p=l.closing_amount-n.expected_amount;return s?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:r.jsx(Vs,{className:"h-6 w-6 text-red-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Fechar Caixa"})]}),r.jsx("button",{onClick:e,disabled:d,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ut,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Resumo"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Valor inicial:"}),r.jsx("span",{children:Et(n.opening_amount)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Valor esperado:"}),r.jsx("span",{children:Et(n.expected_amount)})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Final Contado (R$) *"}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:l.closing_amount,onChange:m=>u(y=>({...y,closing_amount:parseFloat(m.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0,disabled:d}),Math.abs(p)>.01&&r.jsxs("div",{className:`mt-2 p-2 rounded text-sm ${p>0?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[p>0?"Sobra":"Falta",": ",Et(Math.abs(p))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes do Fechamento"}),r.jsx("textarea",{value:l.closing_notes||"",onChange:m=>u(y=>({...y,closing_notes:m.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Observaes sobre o fechamento...",disabled:d})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:e,disabled:d,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:d?"Fechando...":"Fechar Caixa"})]})]})]})}):null},pO=()=>{const{currentSession:s,pendingComandas:e,todaysSummary:n,loading:i,error:l,openCashSession:u,closeCashSession:d}=Zm(),[f,g]=v.useState(!1),[p,m]=v.useState(!1);return i?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):l?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(cn,{className:"h-6 w-6 text-red-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Erro no Sistema"}),r.jsx("p",{className:"text-red-600",children:l})]})]})})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesto de Caixa"}),r.jsx("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsx("div",{className:"flex space-x-3",children:s?r.jsxs("button",{onClick:()=>m(!0),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 flex items-center space-x-2 transition-colors",children:[r.jsx(Vs,{className:"h-5 w-5"}),r.jsx("span",{children:"Fechar Caixa"})]}):r.jsxs("button",{onClick:()=>g(!0),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 flex items-center space-x-2 transition-colors",children:[r.jsx(gs,{className:"h-5 w-5"}),r.jsx("span",{children:"Abrir Caixa"})]})})]}),s?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx(Vs,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Caixa Aberto"}),r.jsxs("p",{className:"text-green-600",children:["Aberto s ",new Date(s.opened_at).toLocaleTimeString("pt-BR")]}),r.jsxs("p",{className:"text-sm text-green-600",children:["Valor inicial: ",Et(s.opening_amount)]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-green-800",children:Et(s.expected_amount)}),r.jsx("p",{className:"text-sm text-green-600",children:"Valor esperado"})]})]})}):r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:r.jsx(cn,{className:"h-8 w-8 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Caixa Fechado"}),r.jsx("p",{className:"text-yellow-600",children:" necessrio abrir o caixa para processar pagamentos"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:r.jsx(Vf,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendas Hoje"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Et(n.total_sales)})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:r.jsx(k6,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Transaes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.total_transactions})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx(Ej,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Mdio"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Et(n.avg_ticket)})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:r.jsx(Qt,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vendas por Mtodo de Pagamento"}),r.jsx("div",{className:"space-y-4",children:n.by_payment_method.map(y=>{const b=y.payment_method==="dinheiro"?Ik:y.payment_method==="pix"?q6:Vm;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(b,{className:"h-5 w-5 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Q5[y.payment_method]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Et(y.amount)}),r.jsxs("p",{className:"text-xs text-gray-600",children:[y.percentage.toFixed(1),"%"]})]})]},y.payment_method)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance por Funcionrio"}),r.jsx("div",{className:"space-y-4",children:n.by_employee.map(y=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:r.jsx(In,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.employee_name}),r.jsxs("p",{className:"text-xs text-gray-600",children:[y.transaction_count," transaes"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Et(y.total_sales)}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Mdia: ",Et(y.avg_ticket)]})]})]},y.employee_id))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Qt,{className:"h-6 w-6 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comandas Pendentes de Pagamento"}),r.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:e.length})]}),e.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Qt,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Todas as comandas foram pagas!"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"No h comandas aguardando pagamento no momento."})]}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-600",children:"Sistema de comandas ser integrado aps criao das tabelas."})})]}),r.jsx(mO,{isOpen:f,onClose:()=>g(!1),onOpenCash:u}),s&&r.jsx(gO,{isOpen:p,onClose:()=>m(!1),session:s,onCloseCash:d})]})},xO=()=>r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Relatrios de Caixa"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Anlise detalhada das operaes financeiras"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[r.jsx(u6,{className:"h-5 w-5"}),r.jsx("span",{children:"Exportar"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtros"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perodo"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"Hoje"}),r.jsx("option",{children:"Esta Semana"}),r.jsx("option",{children:"Este Ms"}),r.jsx("option",{children:"Personalizado"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funcionrio"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"Todos"}),r.jsx("option",{children:"Joo Silva"}),r.jsx("option",{children:"Maria Santos"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pagamento"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"Todos"}),r.jsx("option",{children:"Dinheiro"}),r.jsx("option",{children:"Carto"}),r.jsx("option",{children:"PIX"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Aplicar Filtros"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx(Vf,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendas Totais"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"R$ 12.450,00"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:r.jsx(Ej,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Transaes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"247"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:r.jsx(au,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sesses"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:r.jsx(Vf,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Mdio"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"R$ 50,40"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vendas por Dia"}),r.jsx("div",{className:"h-64 bg-gray-100 rounded flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Grfico de vendas dirias (a implementar)"})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mtodos de Pagamento"}),r.jsx("div",{className:"h-64 bg-gray-100 rounded flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Grfico de pizza (a implementar)"})})]})]})]}),yO=()=>r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsx("div",{className:"flex justify-between items-center mb-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Histrico de Transaes"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Todas as transaes registradas no sistema"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx("input",{type:"text",placeholder:"Buscar por cliente, valor, mtodo...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Aj,{className:"h-4 w-4"}),r.jsx("span",{children:"Filtros"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(au,{className:"h-4 w-4"}),r.jsx("span",{children:"Perodo"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(qk,{className:"h-4 w-4"}),r.jsx("span",{children:"Ordenar"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mtodo"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funcionrio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"08/09/2025 14:30"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Venda"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Maria Silva"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"PIX"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"R$ 45,80"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Joo Santos"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Concluda"})})]}),r.jsx("tr",{children:r.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:[r.jsx("p",{children:"Carregando transaes..."}),r.jsx("p",{className:"text-sm mt-1",children:"A integrao com dados reais ser implementada"})]})})]})]})}),r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Anterior"}),r.jsx("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Prximo"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",r.jsx("span",{className:"font-medium",children:"1"})," at ",r.jsx("span",{className:"font-medium",children:"10"})," de"," ",r.jsx("span",{className:"font-medium",children:"247"})," resultados"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Anterior"}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-blue-600 text-sm font-medium text-white",children:"2"}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"3"}),r.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Prximo"})]})})]})]})]})]}),bO=()=>r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs(vv,{children:[r.jsx(Tt,{path:"/",element:r.jsx(pO,{})}),r.jsx(Tt,{path:"/reports",element:r.jsx(xO,{})}),r.jsx(Tt,{path:"/transactions",element:r.jsx(yO,{})})]})}),vO=()=>{const{user:s}=ps();return s?r.jsxs(eC,{children:[r.jsx(r3,{})," "]}):r.jsx(Wf,{to:"/login",replace:!0})},wO=()=>{const{user:s}=ps();return s?r.jsx(Wf,{to:"/",replace:!0}):r.jsx(s3,{})};function jO(){return r.jsx(zN,{children:r.jsx(ZT,{children:r.jsxs(vv,{children:[r.jsx(Tt,{path:"/login",element:r.jsx(wO,{})}),r.jsxs(Tt,{element:r.jsx(vO,{}),children:[r.jsx(Tt,{index:!0,element:r.jsx(HM,{})}),r.jsx(Tt,{path:"bar",element:r.jsx(GM,{})}),r.jsx(Tt,{path:"bar-customers",element:r.jsx(YM,{})}),r.jsx(Tt,{path:"bar-employees",element:r.jsx(KM,{})}),r.jsx(Tt,{path:"cash/*",element:r.jsx(bO,{})}),r.jsx(Tt,{path:"kitchen",element:r.jsx(y5,{})}),r.jsx(Tt,{path:"inventory",element:r.jsx(w5,{})}),r.jsx(Tt,{path:"inventory/estoque-baixo",element:r.jsx(_5,{})}),r.jsx(Tt,{path:"inventory/atualizacao-massiva",element:r.jsx(N5,{})}),r.jsx(Tt,{path:"members",element:r.jsx(C5,{})}),r.jsx(Tt,{path:"bar/attendance",element:r.jsx(fO,{})}),r.jsx(Tt,{path:"settings",element:r.jsx("div",{className:"p-6",children:r.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes (Em Desenvolvimento)"})})})]}),r.jsx(Tt,{path:"*",element:r.jsx(Wf,{to:"/",replace:!0})})]})})})}_2.createRoot(document.getElementById("root")).render(r.jsx(v.StrictMode,{children:r.jsx(jO,{})}));
