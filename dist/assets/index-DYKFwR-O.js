(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function pv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wN(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),n}var Sh={exports:{}},bo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function jN(){if(Hx)return bo;Hx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:e,type:i,key:u,ref:l!==void 0?l:null,props:c}}return bo.Fragment=t,bo.jsx=n,bo.jsxs=n,bo}var Ix;function _N(){return Ix||(Ix=1,Sh.exports=jN()),Sh.exports}var a=_N(),Th={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function NN(){if(Gx)return Re;Gx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function N(E,F,P){this.props=E,this.context=F,this.refs=T,this.updater=P||w}N.prototype.isReactComponent={},N.prototype.setState=function(E,F){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,F,"setState")},N.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function D(){}D.prototype=N.prototype;function S(E,F,P){this.props=E,this.context=F,this.refs=T,this.updater=P||w}var A=S.prototype=new D;A.constructor=S,_(A,N.prototype),A.isPureReactComponent=!0;var k=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function L(E,F,P,Z,ue,ye){return P=ye.ref,{$$typeof:e,type:E,key:F,ref:P!==void 0?P:null,props:ye}}function $(E,F){return L(E.type,F,void 0,void 0,void 0,E.props)}function I(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function V(E){var F={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(P){return F[P]})}var J=/\/+/g;function Q(E,F){return typeof E=="object"&&E!==null&&E.key!=null?V(""+E.key):F.toString(36)}function B(){}function Y(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(B,B):(E.status="pending",E.then(function(F){E.status==="pending"&&(E.status="fulfilled",E.value=F)},function(F){E.status==="pending"&&(E.status="rejected",E.reason=F)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function K(E,F,P,Z,ue){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var fe=!1;if(E===null)fe=!0;else switch(ye){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(E.$$typeof){case e:case t:fe=!0;break;case g:return fe=E._init,K(fe(E._payload),F,P,Z,ue)}}if(fe)return ue=ue(E),fe=Z===""?"."+Q(E,0):Z,k(ue)?(P="",fe!=null&&(P=fe.replace(J,"$&/")+"/"),K(ue,F,P,"",function(ke){return ke})):ue!=null&&(I(ue)&&(ue=$(ue,P+(ue.key==null||E&&E.key===ue.key?"":(""+ue.key).replace(J,"$&/")+"/")+fe)),F.push(ue)),1;fe=0;var oe=Z===""?".":Z+":";if(k(E))for(var me=0;me<E.length;me++)Z=E[me],ye=oe+Q(Z,me),fe+=K(Z,F,P,ye,ue);else if(me=b(E),typeof me=="function")for(E=me.call(E),me=0;!(Z=E.next()).done;)Z=Z.value,ye=oe+Q(Z,me++),fe+=K(Z,F,P,ye,ue);else if(ye==="object"){if(typeof E.then=="function")return K(Y(E),F,P,Z,ue);throw F=String(E),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return fe}function z(E,F,P){if(E==null)return E;var Z=[],ue=0;return K(E,Z,"","",function(ye){return F.call(P,ye,ue++)}),Z}function R(E){if(E._status===-1){var F=E._result;F=F(),F.then(function(P){(E._status===0||E._status===-1)&&(E._status=1,E._result=P)},function(P){(E._status===0||E._status===-1)&&(E._status=2,E._result=P)}),E._status===-1&&(E._status=0,E._result=F)}if(E._status===1)return E._result.default;throw E._result}var q=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function ne(){}return Re.Children={map:z,forEach:function(E,F,P){z(E,function(){F.apply(this,arguments)},P)},count:function(E){var F=0;return z(E,function(){F++}),F},toArray:function(E){return z(E,function(F){return F})||[]},only:function(E){if(!I(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Re.Component=N,Re.Fragment=n,Re.Profiler=l,Re.PureComponent=S,Re.StrictMode=i,Re.Suspense=f,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Re.__COMPILER_RUNTIME={__proto__:null,c:function(E){return j.H.useMemoCache(E)}},Re.cache=function(E){return function(){return E.apply(null,arguments)}},Re.cloneElement=function(E,F,P){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Z=_({},E.props),ue=E.key,ye=void 0;if(F!=null)for(fe in F.ref!==void 0&&(ye=void 0),F.key!==void 0&&(ue=""+F.key),F)!M.call(F,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&F.ref===void 0||(Z[fe]=F[fe]);var fe=arguments.length-2;if(fe===1)Z.children=P;else if(1<fe){for(var oe=Array(fe),me=0;me<fe;me++)oe[me]=arguments[me+2];Z.children=oe}return L(E.type,ue,void 0,void 0,ye,Z)},Re.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},Re.createElement=function(E,F,P){var Z,ue={},ye=null;if(F!=null)for(Z in F.key!==void 0&&(ye=""+F.key),F)M.call(F,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ue[Z]=F[Z]);var fe=arguments.length-2;if(fe===1)ue.children=P;else if(1<fe){for(var oe=Array(fe),me=0;me<fe;me++)oe[me]=arguments[me+2];ue.children=oe}if(E&&E.defaultProps)for(Z in fe=E.defaultProps,fe)ue[Z]===void 0&&(ue[Z]=fe[Z]);return L(E,ye,void 0,void 0,null,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(E){return{$$typeof:h,render:E}},Re.isValidElement=I,Re.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:R}},Re.memo=function(E,F){return{$$typeof:p,type:E,compare:F===void 0?null:F}},Re.startTransition=function(E){var F=j.T,P={};j.T=P;try{var Z=E(),ue=j.S;ue!==null&&ue(P,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ne,q)}catch(ye){q(ye)}finally{j.T=F}},Re.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Re.use=function(E){return j.H.use(E)},Re.useActionState=function(E,F,P){return j.H.useActionState(E,F,P)},Re.useCallback=function(E,F){return j.H.useCallback(E,F)},Re.useContext=function(E){return j.H.useContext(E)},Re.useDebugValue=function(){},Re.useDeferredValue=function(E,F){return j.H.useDeferredValue(E,F)},Re.useEffect=function(E,F,P){var Z=j.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(E,F)},Re.useId=function(){return j.H.useId()},Re.useImperativeHandle=function(E,F,P){return j.H.useImperativeHandle(E,F,P)},Re.useInsertionEffect=function(E,F){return j.H.useInsertionEffect(E,F)},Re.useLayoutEffect=function(E,F){return j.H.useLayoutEffect(E,F)},Re.useMemo=function(E,F){return j.H.useMemo(E,F)},Re.useOptimistic=function(E,F){return j.H.useOptimistic(E,F)},Re.useReducer=function(E,F,P){return j.H.useReducer(E,F,P)},Re.useRef=function(E){return j.H.useRef(E)},Re.useState=function(E){return j.H.useState(E)},Re.useSyncExternalStore=function(E,F,P){return j.H.useSyncExternalStore(E,F,P)},Re.useTransition=function(){return j.H.useTransition()},Re.version="19.1.0",Re}var Yx;function Wm(){return Yx||(Yx=1,Th.exports=NN()),Th.exports}var v=Wm();const Ue=pv(v);var Ch={exports:{}},vo={},Eh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function SN(){return Xx||(Xx=1,function(e){function t(z,R){var q=z.length;z.push(R);e:for(;0<q;){var ne=q-1>>>1,E=z[ne];if(0<l(E,R))z[ne]=R,z[q]=E,q=ne;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var R=z[0],q=z.pop();if(q!==R){z[0]=q;e:for(var ne=0,E=z.length,F=E>>>1;ne<F;){var P=2*(ne+1)-1,Z=z[P],ue=P+1,ye=z[ue];if(0>l(Z,q))ue<E&&0>l(ye,Z)?(z[ne]=ye,z[ue]=q,ne=ue):(z[ne]=Z,z[P]=q,ne=P);else if(ue<E&&0>l(ye,q))z[ne]=ye,z[ue]=q,ne=ue;else break e}}return R}function l(z,R){var q=z.sortIndex-R.sortIndex;return q!==0?q:z.id-R.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,y=null,b=3,w=!1,_=!1,T=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(z){for(var R=n(p);R!==null;){if(R.callback===null)i(p);else if(R.startTime<=z)i(p),R.sortIndex=R.expirationTime,t(f,R);else break;R=n(p)}}function j(z){if(T=!1,k(z),!_)if(n(f)!==null)_=!0,M||(M=!0,Q());else{var R=n(p);R!==null&&K(j,R.startTime-z)}}var M=!1,L=-1,$=5,I=-1;function V(){return N?!0:!(e.unstable_now()-I<$)}function J(){if(N=!1,M){var z=e.unstable_now();I=z;var R=!0;try{e:{_=!1,T&&(T=!1,S(L),L=-1),w=!0;var q=b;try{t:{for(k(z),y=n(f);y!==null&&!(y.expirationTime>z&&V());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,b=y.priorityLevel;var E=ne(y.expirationTime<=z);if(z=e.unstable_now(),typeof E=="function"){y.callback=E,k(z),R=!0;break t}y===n(f)&&i(f),k(z)}else i(f);y=n(f)}if(y!==null)R=!0;else{var F=n(p);F!==null&&K(j,F.startTime-z),R=!1}}break e}finally{y=null,b=q,w=!1}R=void 0}}finally{R?Q():M=!1}}}var Q;if(typeof A=="function")Q=function(){A(J)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=J,Q=function(){Y.postMessage(null)}}else Q=function(){D(J,0)};function K(z,R){L=D(function(){z(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(z){switch(b){case 1:case 2:case 3:var R=3;break;default:R=b}var q=b;b=R;try{return z()}finally{b=q}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(z,R){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=b;b=z;try{return R()}finally{b=q}},e.unstable_scheduleCallback=function(z,R,q){var ne=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ne+q:ne):q=ne,z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=q+E,z={id:g++,callback:R,priorityLevel:z,startTime:q,expirationTime:E,sortIndex:-1},q>ne?(z.sortIndex=q,t(p,z),n(f)===null&&z===n(p)&&(T?(S(L),L=-1):T=!0,K(j,q-ne))):(z.sortIndex=E,t(f,z),_||w||(_=!0,M||(M=!0,Q()))),z},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(z){var R=b;return function(){var q=b;b=R;try{return z.apply(this,arguments)}finally{b=q}}}}(Ah)),Ah}var Kx;function TN(){return Kx||(Kx=1,Eh.exports=SN()),Eh.exports}var kh={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function CN(){if(Wx)return Gt;Wx=1;var e=Wm();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(f,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:f,containerInfo:p,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gt.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(f,p,null,g)},Gt.flushSync=function(f){var p=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=g,i.d.f()}},Gt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Gt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Gt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):g==="script"&&i.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Gt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);i.d.L(f,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gt.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Gt.requestFormReset=function(f){i.d.r(f)},Gt.unstable_batchedUpdates=function(f,p){return f(p)},Gt.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},Gt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var Qx;function EN(){if(Qx)return kh.exports;Qx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kh.exports=CN(),kh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function AN(){if(Zx)return vo;Zx=1;var e=TN(),t=Wm(),n=EN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(c(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,d=r;;){var m=o.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===o)return h(m),s;if(x===d)return h(m),r;x=x.sibling}throw Error(i(188))}if(o.return!==d.return)o=m,d=x;else{for(var C=!1,O=m.child;O;){if(O===o){C=!0,o=m,d=x;break}if(O===d){C=!0,d=m,o=x;break}O=O.sibling}if(!C){for(O=x.child;O;){if(O===o){C=!0,o=x,d=m;break}if(O===d){C=!0,d=x,o=m;break}O=O.sibling}if(!C)throw Error(i(189))}}if(o.alternate!==d)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function p(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=p(s),r!==null)return r;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function Y(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case A:return(s.displayName||"Context")+".Provider";case S:return(s._context.displayName||"Context")+".Consumer";case k:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return r=s.displayName||null,r!==null?r:Y(s.type)||"Memo";case $:r=s._payload,s=s._init;try{return Y(s(r))}catch{}}return null}var K=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ne=[],E=-1;function F(s){return{current:s}}function P(s){0>E||(s.current=ne[E],ne[E]=null,E--)}function Z(s,r){E++,ne[E]=s.current,s.current=r}var ue=F(null),ye=F(null),fe=F(null),oe=F(null);function me(s,r){switch(Z(fe,r),Z(ye,s),Z(ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?yx(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=yx(r),s=bx(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}P(ue),Z(ue,s)}function ke(){P(ue),P(ye),P(fe)}function Ge(s){s.memoizedState!==null&&Z(oe,s);var r=ue.current,o=bx(r,s.type);r!==o&&(Z(ye,s),Z(ue,o))}function ct(s){ye.current===s&&(P(ue),P(ye)),oe.current===s&&(P(oe),fo._currentValue=q)}var bt=Object.prototype.hasOwnProperty,Lt=e.unstable_scheduleCallback,ds=e.unstable_cancelCallback,Oa=e.unstable_shouldYield,gn=e.unstable_requestPaint,St=e.unstable_now,Da=e.unstable_getCurrentPriorityLevel,Rs=e.unstable_ImmediatePriority,H=e.unstable_UserBlockingPriority,te=e.unstable_NormalPriority,X=e.unstable_LowPriority,pe=e.unstable_IdlePriority,xe=e.log,ge=e.unstable_setDisableYieldValue,je=null,Ae=null;function ze(s){if(typeof xe=="function"&&ge(s),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(je,s)}catch{}}var re=Math.clz32?Math.clz32:Kt,Oe=Math.log,qe=Math.LN2;function Kt(s){return s>>>=0,s===0?32:31-(Oe(s)/qe|0)|0}var Ft=256,us=4194304;function ws(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ys(s,r,o){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var O=d&134217727;return O!==0?(d=O&~x,d!==0?m=ws(d):(C&=O,C!==0?m=ws(C):o||(o=O&~s,o!==0&&(m=ws(o))))):(O=d&~x,O!==0?m=ws(O):C!==0?m=ws(C):o||(o=d&~s,o!==0&&(m=ws(o)))),m===0?0:r!==0&&r!==m&&(r&x)===0&&(x=m&-m,o=r&-r,x>=o||x===32&&(o&4194048)!==0)?r:m}function Xs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function xn(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var s=Ft;return Ft<<=1,(Ft&4194048)===0&&(Ft=256),s}function wi(){var s=us;return us<<=1,(us&62914560)===0&&(us=4194304),s}function ji(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Jn(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function _i(s,r,o,d,m,x){var C=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var O=s.entanglements,U=s.expirationTimes,se=s.hiddenUpdates;for(o=C&~o;0<o;){var ce=31-re(o),he=1<<ce;O[ce]=0,U[ce]=-1;var ae=se[ce];if(ae!==null)for(se[ce]=null,ce=0;ce<ae.length;ce++){var ie=ae[ce];ie!==null&&(ie.lane&=-536870913)}o&=~he}d!==0&&a0(s,d,0),x!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=x&~(C&~r))}function a0(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var d=31-re(r);s.entangledLanes|=r,s.entanglements[d]=s.entanglements[d]|1073741824|o&4194090}function n0(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var d=31-re(o),m=1<<d;m&r|s[d]&r&&(s[d]|=r),o&=~m}}function pd(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function gd(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function r0(){var s=R.p;return s!==0?s:(s=window.event,s===void 0?32:Bx(s.type))}function d1(s,r){var o=R.p;try{return R.p=s,r()}finally{R.p=o}}var Ra=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Ra,ss="__reactProps$"+Ra,er="__reactContainer$"+Ra,xd="__reactEvents$"+Ra,u1="__reactListeners$"+Ra,h1="__reactHandles$"+Ra,i0="__reactResources$"+Ra,Ni="__reactMarker$"+Ra;function yd(s){delete s[Ht],delete s[ss],delete s[xd],delete s[u1],delete s[h1]}function tr(s){var r=s[Ht];if(r)return r;for(var o=s.parentNode;o;){if(r=o[er]||o[Ht]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=_x(s);s!==null;){if(o=s[Ht])return o;s=_x(s)}return r}s=o,o=s.parentNode}return null}function sr(s){if(s=s[Ht]||s[er]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Si(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function ar(s){var r=s[i0];return r||(r=s[i0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Mt(s){s[Ni]=!0}var o0=new Set,l0={};function yn(s,r){nr(s,r),nr(s+"Capture",r)}function nr(s,r){for(l0[s]=r,s=0;s<r.length;s++)o0.add(r[s])}var m1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),c0={},d0={};function f1(s){return bt.call(d0,s)?!0:bt.call(c0,s)?!1:m1.test(s)?d0[s]=!0:(c0[s]=!0,!1)}function ll(s,r,o){if(f1(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function cl(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function la(s,r,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+d)}}var bd,u0;function rr(s){if(bd===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);bd=r&&r[1]||"",u0=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bd+s+u0}var vd=!1;function wd(s,r){if(!s||vd)return"";vd=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var ae=ie}Reflect.construct(s,[],he)}else{try{he.call()}catch(ie){ae=ie}s.call(he.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(he=s())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),C=x[0],O=x[1];if(C&&O){var U=C.split(`
`),se=O.split(`
`);for(m=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;m<se.length&&!se[m].includes("DetermineComponentFrameRoot");)m++;if(d===U.length||m===se.length)for(d=U.length-1,m=se.length-1;1<=d&&0<=m&&U[d]!==se[m];)m--;for(;1<=d&&0<=m;d--,m--)if(U[d]!==se[m]){if(d!==1||m!==1)do if(d--,m--,0>m||U[d]!==se[m]){var ce=`
`+U[d].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=d&&0<=m);break}}}finally{vd=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?rr(o):""}function p1(s){switch(s.tag){case 26:case 27:case 5:return rr(s.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return wd(s.type,!1);case 11:return wd(s.type.render,!1);case 1:return wd(s.type,!0);case 31:return rr("Activity");default:return""}}function h0(s){try{var r="";do r+=p1(s),s=s.return;while(s);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function js(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function m0(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function g1(s){var r=m0(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,x=o.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(C){d=""+C,x.call(this,C)}}),Object.defineProperty(s,r,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function dl(s){s._valueTracker||(s._valueTracker=g1(s))}function f0(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),d="";return s&&(d=m0(s)?s.checked?"true":"false":s.value),s=d,s!==o?(r.setValue(s),!0):!1}function ul(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var x1=/[\n"\\]/g;function _s(s){return s.replace(x1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function jd(s,r,o,d,m,x,C,O){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+js(r)):s.value!==""+js(r)&&(s.value=""+js(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?_d(s,C,js(r)):o!=null?_d(s,C,js(o)):d!=null&&s.removeAttribute("value"),m==null&&x!=null&&(s.defaultChecked=!!x),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.name=""+js(O):s.removeAttribute("name")}function p0(s,r,o,d,m,x,C,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),r!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||r!=null))return;o=o!=null?""+js(o):"",r=r!=null?""+js(r):o,O||r===s.value||(s.value=r),s.defaultValue=r}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=O?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function _d(s,r,o){r==="number"&&ul(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ir(s,r,o,d){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&d&&(s[o].defaultSelected=!0)}else{for(o=""+js(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function g0(s,r,o){if(r!=null&&(r=""+js(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+js(o):""}function x0(s,r,o,d){if(r==null){if(d!=null){if(o!=null)throw Error(i(92));if(K(d)){if(1<d.length)throw Error(i(93));d=d[0]}o=d}o==null&&(o=""),r=o}o=js(r),s.defaultValue=o,d=s.textContent,d===o&&d!==""&&d!==null&&(s.value=d)}function or(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var y1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y0(s,r,o){var d=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":d?s.setProperty(r,o):typeof o!="number"||o===0||y1.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function b0(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in r)d=r[m],r.hasOwnProperty(m)&&o[m]!==d&&y0(s,m,d)}else for(var x in r)r.hasOwnProperty(x)&&y0(s,x,r[x])}function Nd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(s){return v1.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Sd=null;function Td(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lr=null,cr=null;function v0(s){var r=sr(s);if(r&&(s=r.stateNode)){var o=s[ss]||null;e:switch(s=r.stateNode,r.type){case"input":if(jd(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_s(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var d=o[r];if(d!==s&&d.form===s.form){var m=d[ss]||null;if(!m)throw Error(i(90));jd(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)d=o[r],d.form===s.form&&f0(d)}break e;case"textarea":g0(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ir(s,!!o.multiple,r,!1)}}}var Cd=!1;function w0(s,r,o){if(Cd)return s(r,o);Cd=!0;try{var d=s(r);return d}finally{if(Cd=!1,(lr!==null||cr!==null)&&(Ql(),lr&&(r=lr,s=cr,cr=lr=null,v0(r),s)))for(r=0;r<s.length;r++)v0(s[r])}}function Ti(s,r){var o=s.stateNode;if(o===null)return null;var d=o[ss]||null;if(d===null)return null;o=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ed=!1;if(ca)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){Ed=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{Ed=!1}var Pa=null,Ad=null,ml=null;function j0(){if(ml)return ml;var s,r=Ad,o=r.length,d,m="value"in Pa?Pa.value:Pa.textContent,x=m.length;for(s=0;s<o&&r[s]===m[s];s++);var C=o-s;for(d=1;d<=C&&r[o-d]===m[x-d];d++);return ml=m.slice(s,1<d?1-d:void 0)}function fl(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function pl(){return!0}function _0(){return!1}function as(s){function r(o,d,m,x,C){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(o=s[O],this[O]=o?o(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?pl:_0,this.isPropagationStopped=_0,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),r}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=as(bn),Ei=g({},bn,{view:0,detail:0}),w1=as(Ei),kd,Md,Ai,xl=g({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ai&&(Ai&&s.type==="mousemove"?(kd=s.screenX-Ai.screenX,Md=s.screenY-Ai.screenY):Md=kd=0,Ai=s),kd)},movementY:function(s){return"movementY"in s?s.movementY:Md}}),N0=as(xl),j1=g({},xl,{dataTransfer:0}),_1=as(j1),N1=g({},Ei,{relatedTarget:0}),Od=as(N1),S1=g({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),T1=as(S1),C1=g({},bn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),E1=as(C1),A1=g({},bn,{data:0}),S0=as(A1),k1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=O1[s])?!!r[s]:!1}function Dd(){return D1}var R1=g({},Ei,{key:function(s){if(s.key){var r=k1[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=fl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?M1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dd,charCode:function(s){return s.type==="keypress"?fl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),P1=as(R1),z1=g({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T0=as(z1),L1=g({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dd}),B1=as(L1),V1=g({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$1=as(V1),U1=g({},xl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=as(U1),F1=g({},bn,{newState:0,oldState:0}),H1=as(F1),I1=[9,13,27,32],Rd=ca&&"CompositionEvent"in window,ki=null;ca&&"documentMode"in document&&(ki=document.documentMode);var G1=ca&&"TextEvent"in window&&!ki,C0=ca&&(!Rd||ki&&8<ki&&11>=ki),E0=" ",A0=!1;function k0(s,r){switch(s){case"keyup":return I1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dr=!1;function Y1(s,r){switch(s){case"compositionend":return M0(r);case"keypress":return r.which!==32?null:(A0=!0,E0);case"textInput":return s=r.data,s===E0&&A0?null:s;default:return null}}function X1(s,r){if(dr)return s==="compositionend"||!Rd&&k0(s,r)?(s=j0(),ml=Ad=Pa=null,dr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return C0&&r.locale!=="ko"?null:r.data;default:return null}}var K1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!K1[s.type]:r==="textarea"}function D0(s,r,o,d){lr?cr?cr.push(d):cr=[d]:lr=d,r=ac(r,"onChange"),0<r.length&&(o=new gl("onChange","change",null,o,d),s.push({event:o,listeners:r}))}var Mi=null,Oi=null;function W1(s){mx(s,0)}function yl(s){var r=Si(s);if(f0(r))return s}function R0(s,r){if(s==="change")return r}var P0=!1;if(ca){var Pd;if(ca){var zd="oninput"in document;if(!zd){var z0=document.createElement("div");z0.setAttribute("oninput","return;"),zd=typeof z0.oninput=="function"}Pd=zd}else Pd=!1;P0=Pd&&(!document.documentMode||9<document.documentMode)}function L0(){Mi&&(Mi.detachEvent("onpropertychange",B0),Oi=Mi=null)}function B0(s){if(s.propertyName==="value"&&yl(Oi)){var r=[];D0(r,Oi,s,Td(s)),w0(W1,r)}}function Q1(s,r,o){s==="focusin"?(L0(),Mi=r,Oi=o,Mi.attachEvent("onpropertychange",B0)):s==="focusout"&&L0()}function Z1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return yl(Oi)}function J1(s,r){if(s==="click")return yl(r)}function e_(s,r){if(s==="input"||s==="change")return yl(r)}function t_(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var hs=typeof Object.is=="function"?Object.is:t_;function Di(s,r){if(hs(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),d=Object.keys(r);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!bt.call(r,m)||!hs(s[m],r[m]))return!1}return!0}function V0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $0(s,r){var o=V0(s);s=0;for(var d;o;){if(o.nodeType===3){if(d=s+o.textContent.length,s<=r&&d>=r)return{node:o,offset:r-s};s=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=V0(o)}}function U0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?U0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function q0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ul(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=ul(s.document)}return r}function Ld(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var s_=ca&&"documentMode"in document&&11>=document.documentMode,ur=null,Bd=null,Ri=null,Vd=!1;function F0(s,r,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vd||ur==null||ur!==ul(d)||(d=ur,"selectionStart"in d&&Ld(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ri&&Di(Ri,d)||(Ri=d,d=ac(Bd,"onSelect"),0<d.length&&(r=new gl("onSelect","select",null,r,o),s.push({event:r,listeners:d}),r.target=ur)))}function vn(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var hr={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},$d={},H0={};ca&&(H0=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function wn(s){if($d[s])return $d[s];if(!hr[s])return s;var r=hr[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in H0)return $d[s]=r[o];return s}var I0=wn("animationend"),G0=wn("animationiteration"),Y0=wn("animationstart"),a_=wn("transitionrun"),n_=wn("transitionstart"),r_=wn("transitioncancel"),X0=wn("transitionend"),K0=new Map,Ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ud.push("scrollEnd");function Ps(s,r){K0.set(s,r),yn(r,[s])}var W0=new WeakMap;function Ns(s,r){if(typeof s=="object"&&s!==null){var o=W0.get(s);return o!==void 0?o:(r={value:s,source:r,stack:h0(r)},W0.set(s,r),r)}return{value:s,source:r,stack:h0(r)}}var Ss=[],mr=0,qd=0;function bl(){for(var s=mr,r=qd=mr=0;r<s;){var o=Ss[r];Ss[r++]=null;var d=Ss[r];Ss[r++]=null;var m=Ss[r];Ss[r++]=null;var x=Ss[r];if(Ss[r++]=null,d!==null&&m!==null){var C=d.pending;C===null?m.next=m:(m.next=C.next,C.next=m),d.pending=m}x!==0&&Q0(o,m,x)}}function vl(s,r,o,d){Ss[mr++]=s,Ss[mr++]=r,Ss[mr++]=o,Ss[mr++]=d,qd|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Fd(s,r,o,d){return vl(s,r,o,d),wl(s)}function fr(s,r){return vl(s,null,null,r),wl(s)}function Q0(s,r,o){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o);for(var m=!1,x=s.return;x!==null;)x.childLanes|=o,d=x.alternate,d!==null&&(d.childLanes|=o),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(m=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,m&&r!==null&&(m=31-re(o),s=x.hiddenUpdates,d=s[m],d===null?s[m]=[r]:d.push(r),r.lane=o|536870912),x):null}function wl(s){if(50<ro)throw ro=0,Ku=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var pr={};function i_(s,r,o,d){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(s,r,o,d){return new i_(s,r,o,d)}function Hd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function da(s,r){var o=s.alternate;return o===null?(o=ms(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Z0(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function jl(s,r,o,d,m,x){var C=0;if(d=s,typeof s=="function")Hd(s)&&(C=1);else if(typeof s=="string")C=lN(s,o,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=ms(31,o,r,m),s.elementType=I,s.lanes=x,s;case _:return jn(o.children,m,x,r);case T:C=8,m|=24;break;case N:return s=ms(12,o,r,m|2),s.elementType=N,s.lanes=x,s;case j:return s=ms(13,o,r,m),s.elementType=j,s.lanes=x,s;case M:return s=ms(19,o,r,m),s.elementType=M,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case A:C=10;break e;case S:C=9;break e;case k:C=11;break e;case L:C=14;break e;case $:C=16,d=null;break e}C=29,o=Error(i(130,s===null?"null":typeof s,"")),d=null}return r=ms(C,o,r,m),r.elementType=s,r.type=d,r.lanes=x,r}function jn(s,r,o,d){return s=ms(7,s,d,r),s.lanes=o,s}function Id(s,r,o){return s=ms(6,s,null,r),s.lanes=o,s}function Gd(s,r,o){return r=ms(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var gr=[],xr=0,_l=null,Nl=0,Ts=[],Cs=0,_n=null,ua=1,ha="";function Nn(s,r){gr[xr++]=Nl,gr[xr++]=_l,_l=s,Nl=r}function J0(s,r,o){Ts[Cs++]=ua,Ts[Cs++]=ha,Ts[Cs++]=_n,_n=s;var d=ua;s=ha;var m=32-re(d)-1;d&=~(1<<m),o+=1;var x=32-re(r)+m;if(30<x){var C=m-m%5;x=(d&(1<<C)-1).toString(32),d>>=C,m-=C,ua=1<<32-re(r)+m|o<<m|d,ha=x+s}else ua=1<<x|o<<m|d,ha=s}function Yd(s){s.return!==null&&(Nn(s,1),J0(s,1,0))}function Xd(s){for(;s===_l;)_l=gr[--xr],gr[xr]=null,Nl=gr[--xr],gr[xr]=null;for(;s===_n;)_n=Ts[--Cs],Ts[Cs]=null,ha=Ts[--Cs],Ts[Cs]=null,ua=Ts[--Cs],Ts[Cs]=null}var Wt=null,dt=null,Ie=!1,Sn=null,Ks=!1,Kd=Error(i(519));function Tn(s){var r=Error(i(418,""));throw Li(Ns(r,s)),Kd}function ep(s){var r=s.stateNode,o=s.type,d=s.memoizedProps;switch(r[Ht]=s,r[ss]=d,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<oo.length;o++)Ve(oo[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),p0(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),dl(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),x0(r,d.value,d.defaultValue,d.children),dl(r)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||d.suppressHydrationWarning===!0||xx(r.textContent,o)?(d.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),d.onScroll!=null&&Ve("scroll",r),d.onScrollEnd!=null&&Ve("scrollend",r),d.onClick!=null&&(r.onclick=nc),r=!0):r=!1,r||Tn(s)}function tp(s){for(Wt=s.return;Wt;)switch(Wt.tag){case 5:case 13:Ks=!1;return;case 27:case 3:Ks=!0;return;default:Wt=Wt.return}}function Pi(s){if(s!==Wt)return!1;if(!Ie)return tp(s),Ie=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||uh(s.type,s.memoizedProps)),o=!o),o&&dt&&Tn(s),tp(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(r===0){dt=Ls(s.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;s=s.nextSibling}dt=null}}else r===27?(r=dt,Qa(s.type)?(s=ph,ph=null,dt=s):dt=r):dt=Wt?Ls(s.stateNode.nextSibling):null;return!0}function zi(){dt=Wt=null,Ie=!1}function sp(){var s=Sn;return s!==null&&(is===null?is=s:is.push.apply(is,s),Sn=null),s}function Li(s){Sn===null?Sn=[s]:Sn.push(s)}var Wd=F(null),Cn=null,ma=null;function za(s,r,o){Z(Wd,r._currentValue),r._currentValue=o}function fa(s){s._currentValue=Wd.current,P(Wd)}function Qd(s,r,o){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===o)break;s=s.return}}function Zd(s,r,o,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var x=m.dependencies;if(x!==null){var C=m.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=m;for(var U=0;U<r.length;U++)if(O.context===r[U]){x.lanes|=o,O=x.alternate,O!==null&&(O.lanes|=o),Qd(x.return,o,s),d||(C=null);break e}x=O.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(i(341));C.lanes|=o,x=C.alternate,x!==null&&(x.lanes|=o),Qd(C,o,s),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===s){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Bi(s,r,o,d){s=null;for(var m=r,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var O=m.type;hs(m.pendingProps.value,C.value)||(s!==null?s.push(O):s=[O])}}else if(m===oe.current){if(C=m.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(fo):s=[fo])}m=m.return}s!==null&&Zd(r,s,o,d),r.flags|=262144}function Sl(s){for(s=s.firstContext;s!==null;){if(!hs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function En(s){Cn=s,ma=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function It(s){return ap(Cn,s)}function Tl(s,r){return Cn===null&&En(s),ap(s,r)}function ap(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ma===null){if(s===null)throw Error(i(308));ma=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ma=ma.next=r;return o}var o_=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,d){s.push(d)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},l_=e.unstable_scheduleCallback,c_=e.unstable_NormalPriority,Tt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new o_,data:new Map,refCount:0}}function Vi(s){s.refCount--,s.refCount===0&&l_(c_,function(){s.controller.abort()})}var $i=null,eu=0,yr=0,br=null;function d_(s,r){if($i===null){var o=$i=[];eu=0,yr=sh(),br={status:"pending",value:void 0,then:function(d){o.push(d)}}}return eu++,r.then(np,np),r}function np(){if(--eu===0&&$i!==null){br!==null&&(br.status="fulfilled");var s=$i;$i=null,yr=0,br=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function u_(s,r){var o=[],d={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){d.status="fulfilled",d.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(d.status="rejected",d.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),d}var rp=z.S;z.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&d_(s,r),rp!==null&&rp(s,r)};var An=F(null);function tu(){var s=An.current;return s!==null?s:et.pooledCache}function Cl(s,r){r===null?Z(An,An.current):Z(An,r.pool)}function ip(){var s=tu();return s===null?null:{parent:Tt._currentValue,pool:s}}var Ui=Error(i(460)),op=Error(i(474)),El=Error(i(542)),su={then:function(){}};function lp(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Al(){}function cp(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Al,Al),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,up(s),s;default:if(typeof r.status=="string")r.then(Al,Al);else{if(s=et,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(d){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=d}},function(d){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,up(s),s}throw qi=r,Ui}}var qi=null;function dp(){if(qi===null)throw Error(i(459));var s=qi;return qi=null,s}function up(s){if(s===Ui||s===El)throw Error(i(483))}var La=!1;function au(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ba(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Va(s,r,o){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ye&2)!==0){var m=d.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),d.pending=r,r=wl(s),Q0(s,null,o),r}return vl(s,d,r,o),wl(s)}function Fi(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var d=r.lanes;d&=s.pendingLanes,o|=d,r.lanes=o,n0(s,o)}}function ru(s,r){var o=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?m=x=C:x=x.next=C,o=o.next}while(o!==null);x===null?m=x=r:x=x.next=r}else m=x=r;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var iu=!1;function Hi(){if(iu){var s=br;if(s!==null)throw s}}function Ii(s,r,o,d){iu=!1;var m=s.updateQueue;La=!1;var x=m.firstBaseUpdate,C=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var U=O,se=U.next;U.next=null,C===null?x=se:C.next=se,C=U;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==C&&(O===null?ce.firstBaseUpdate=se:O.next=se,ce.lastBaseUpdate=U))}if(x!==null){var he=m.baseState;C=0,ce=se=U=null,O=x;do{var ae=O.lane&-536870913,ie=ae!==O.lane;if(ie?(Fe&ae)===ae:(d&ae)===ae){ae!==0&&ae===yr&&(iu=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ce=s,Se=O;ae=r;var Ze=o;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){he=Ce.call(Ze,he,ae);break e}he=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,ae=typeof Ce=="function"?Ce.call(Ze,he,ae):Ce,ae==null)break e;he=g({},he,ae);break e;case 2:La=!0}}ae=O.callback,ae!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=m.callbacks,ie===null?m.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(se=ce=ie,U=he):ce=ce.next=ie,C|=ae;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);ce===null&&(U=he),m.baseState=U,m.firstBaseUpdate=se,m.lastBaseUpdate=ce,x===null&&(m.shared.lanes=0),Ya|=C,s.lanes=C,s.memoizedState=he}}function hp(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function mp(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)hp(o[s],r)}var vr=F(null),kl=F(0);function fp(s,r){s=wa,Z(kl,s),Z(vr,r),wa=s|r.baseLanes}function ou(){Z(kl,wa),Z(vr,vr.current)}function lu(){wa=kl.current,P(vr),P(kl)}var $a=0,Pe=null,We=null,vt=null,Ml=!1,wr=!1,kn=!1,Ol=0,Gi=0,jr=null,h_=0;function ft(){throw Error(i(321))}function cu(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!hs(s[o],r[o]))return!1;return!0}function du(s,r,o,d,m,x){return $a=x,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=s===null||s.memoizedState===null?Qp:Zp,kn=!1,x=o(d,m),kn=!1,wr&&(x=gp(r,o,d,m)),pp(s),x}function pp(s){z.H=Bl;var r=We!==null&&We.next!==null;if($a=0,vt=We=Pe=null,Ml=!1,Gi=0,jr=null,r)throw Error(i(300));s===null||Ot||(s=s.dependencies,s!==null&&Sl(s)&&(Ot=!0))}function gp(s,r,o,d){Pe=s;var m=0;do{if(wr&&(jr=null),Gi=0,wr=!1,25<=m)throw Error(i(301));if(m+=1,vt=We=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}z.H=b_,x=r(o,d)}while(wr);return x}function m_(){var s=z.H,r=s.useState()[0];return r=typeof r.then=="function"?Yi(r):r,s=s.useState()[0],(We!==null?We.memoizedState:null)!==s&&(Pe.flags|=1024),r}function uu(){var s=Ol!==0;return Ol=0,s}function hu(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function mu(s){if(Ml){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ml=!1}$a=0,vt=We=Pe=null,wr=!1,Gi=Ol=0,jr=null}function ns(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Pe.memoizedState=vt=s:vt=vt.next=s,vt}function wt(){if(We===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=We.next;var r=vt===null?Pe.memoizedState:vt.next;if(r!==null)vt=r,We=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));We=s,s={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},vt===null?Pe.memoizedState=vt=s:vt=vt.next=s}return vt}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yi(s){var r=Gi;return Gi+=1,jr===null&&(jr=[]),s=cp(jr,s,r),r=Pe,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?Qp:Zp),s}function Dl(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Yi(s);if(s.$$typeof===A)return It(s)}throw Error(i(438,String(s)))}function pu(s){var r=null,o=Pe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var d=Pe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=fu(),Pe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),d=0;d<s;d++)o[d]=V;return r.index++,o}function pa(s,r){return typeof r=="function"?r(s):r}function Rl(s){var r=wt();return gu(r,We,s)}function gu(s,r,o){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var m=s.baseQueue,x=d.pending;if(x!==null){if(m!==null){var C=m.next;m.next=x.next,x.next=C}r.baseQueue=m=x,d.pending=null}if(x=s.baseState,m===null)s.memoizedState=x;else{r=m.next;var O=C=null,U=null,se=r,ce=!1;do{var he=se.lane&-536870913;if(he!==se.lane?(Fe&he)===he:($a&he)===he){var ae=se.revertLane;if(ae===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),he===yr&&(ce=!0);else if(($a&ae)===ae){se=se.next,ae===yr&&(ce=!0);continue}else he={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},U===null?(O=U=he,C=x):U=U.next=he,Pe.lanes|=ae,Ya|=ae;he=se.action,kn&&o(x,he),x=se.hasEagerState?se.eagerState:o(x,he)}else ae={lane:he,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},U===null?(O=U=ae,C=x):U=U.next=ae,Pe.lanes|=he,Ya|=he;se=se.next}while(se!==null&&se!==r);if(U===null?C=x:U.next=O,!hs(x,s.memoizedState)&&(Ot=!0,ce&&(o=br,o!==null)))throw o;s.memoizedState=x,s.baseState=C,s.baseQueue=U,d.lastRenderedState=x}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function xu(s){var r=wt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=o.dispatch,m=o.pending,x=r.memoizedState;if(m!==null){o.pending=null;var C=m=m.next;do x=s(x,C.action),C=C.next;while(C!==m);hs(x,r.memoizedState)||(Ot=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),o.lastRenderedState=x}return[x,d]}function xp(s,r,o){var d=Pe,m=wt(),x=Ie;if(x){if(o===void 0)throw Error(i(407));o=o()}else o=r();var C=!hs((We||m).memoizedState,o);C&&(m.memoizedState=o,Ot=!0),m=m.queue;var O=vp.bind(null,d,m,s);if(Xi(2048,8,O,[s]),m.getSnapshot!==r||C||vt!==null&&vt.memoizedState.tag&1){if(d.flags|=2048,_r(9,Pl(),bp.bind(null,d,m,o,r),null),et===null)throw Error(i(349));x||($a&124)!==0||yp(d,r,o)}return o}function yp(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r=fu(),Pe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function bp(s,r,o,d){r.value=o,r.getSnapshot=d,wp(r)&&jp(s)}function vp(s,r,o){return o(function(){wp(r)&&jp(s)})}function wp(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!hs(s,o)}catch{return!0}}function jp(s){var r=fr(s,2);r!==null&&ys(r,s,2)}function yu(s){var r=ns();if(typeof s=="function"){var o=s;if(s=o(),kn){ze(!0);try{o()}finally{ze(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:s},r}function _p(s,r,o,d){return s.baseState=o,gu(s,We,typeof d=="function"?d:pa)}function f_(s,r,o,d,m){if(Ll(s))throw Error(i(485));if(s=r.action,s!==null){var x={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};z.T!==null?o(!0):x.isTransition=!1,d(x),o=r.pending,o===null?(x.next=r.pending=x,Np(r,x)):(x.next=o.next,r.pending=o.next=x)}}function Np(s,r){var o=r.action,d=r.payload,m=s.state;if(r.isTransition){var x=z.T,C={};z.T=C;try{var O=o(m,d),U=z.S;U!==null&&U(C,O),Sp(s,r,O)}catch(se){bu(s,r,se)}finally{z.T=x}}else try{x=o(m,d),Sp(s,r,x)}catch(se){bu(s,r,se)}}function Sp(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Tp(s,r,d)},function(d){return bu(s,r,d)}):Tp(s,r,o)}function Tp(s,r,o){r.status="fulfilled",r.value=o,Cp(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Np(s,o)))}function bu(s,r,o){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=o,Cp(r),r=r.next;while(r!==d)}s.action=null}function Cp(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Ep(s,r){return r}function Ap(s,r){if(Ie){var o=et.formState;if(o!==null){e:{var d=Pe;if(Ie){if(dt){t:{for(var m=dt,x=Ks;m.nodeType!==8;){if(!x){m=null;break t}if(m=Ls(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){dt=Ls(m.nextSibling),d=m.data==="F!";break e}}Tn(d)}d=!1}d&&(r=o[0])}}return o=ns(),o.memoizedState=o.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:r},o.queue=d,o=Xp.bind(null,Pe,d),d.dispatch=o,d=yu(!1),x=Nu.bind(null,Pe,!1,d.queue),d=ns(),m={state:r,dispatch:null,action:s,pending:null},d.queue=m,o=f_.bind(null,Pe,m,x,o),m.dispatch=o,d.memoizedState=s,[r,o,!1]}function kp(s){var r=wt();return Mp(r,We,s)}function Mp(s,r,o){if(r=gu(s,r,Ep)[0],s=Rl(pa)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Yi(r)}catch(C){throw C===Ui?El:C}else d=r;r=wt();var m=r.queue,x=m.dispatch;return o!==r.memoizedState&&(Pe.flags|=2048,_r(9,Pl(),p_.bind(null,m,o),null)),[d,x,s]}function p_(s,r){s.action=r}function Op(s){var r=wt(),o=We;if(o!==null)return Mp(r,o,s);wt(),r=r.memoizedState,o=wt();var d=o.queue.dispatch;return o.memoizedState=s,[r,d,!1]}function _r(s,r,o,d){return s={tag:s,create:o,deps:d,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=fu(),Pe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(d=o.next,o.next=s,s.next=d,r.lastEffect=s),s}function Pl(){return{destroy:void 0,resource:void 0}}function Dp(){return wt().memoizedState}function zl(s,r,o,d){var m=ns();d=d===void 0?null:d,Pe.flags|=s,m.memoizedState=_r(1|r,Pl(),o,d)}function Xi(s,r,o,d){var m=wt();d=d===void 0?null:d;var x=m.memoizedState.inst;We!==null&&d!==null&&cu(d,We.memoizedState.deps)?m.memoizedState=_r(r,x,o,d):(Pe.flags|=s,m.memoizedState=_r(1|r,x,o,d))}function Rp(s,r){zl(8390656,8,s,r)}function Pp(s,r){Xi(2048,8,s,r)}function zp(s,r){return Xi(4,2,s,r)}function Lp(s,r){return Xi(4,4,s,r)}function Bp(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Vp(s,r,o){o=o!=null?o.concat([s]):null,Xi(4,4,Bp.bind(null,r,s),o)}function vu(){}function $p(s,r){var o=wt();r=r===void 0?null:r;var d=o.memoizedState;return r!==null&&cu(r,d[1])?d[0]:(o.memoizedState=[s,r],s)}function Up(s,r){var o=wt();r=r===void 0?null:r;var d=o.memoizedState;if(r!==null&&cu(r,d[1]))return d[0];if(d=s(),kn){ze(!0);try{s()}finally{ze(!1)}}return o.memoizedState=[d,r],d}function wu(s,r,o){return o===void 0||($a&1073741824)!==0?s.memoizedState=r:(s.memoizedState=o,s=Hg(),Pe.lanes|=s,Ya|=s,o)}function qp(s,r,o,d){return hs(o,r)?o:vr.current!==null?(s=wu(s,o,d),hs(s,r)||(Ot=!0),s):($a&42)===0?(Ot=!0,s.memoizedState=o):(s=Hg(),Pe.lanes|=s,Ya|=s,r)}function Fp(s,r,o,d,m){var x=R.p;R.p=x!==0&&8>x?x:8;var C=z.T,O={};z.T=O,Nu(s,!1,r,o);try{var U=m(),se=z.S;if(se!==null&&se(O,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ce=u_(U,d);Ki(s,r,ce,xs(s))}else Ki(s,r,d,xs(s))}catch(he){Ki(s,r,{then:function(){},status:"rejected",reason:he},xs())}finally{R.p=x,z.T=C}}function g_(){}function ju(s,r,o,d){if(s.tag!==5)throw Error(i(476));var m=Hp(s).queue;Fp(s,m,r,q,o===null?g_:function(){return Ip(s),o(d)})}function Hp(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:q},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Ip(s){var r=Hp(s).next.queue;Ki(s,r,{},xs())}function _u(){return It(fo)}function Gp(){return wt().memoizedState}function Yp(){return wt().memoizedState}function x_(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=xs();s=Ba(o);var d=Va(r,s,o);d!==null&&(ys(d,r,o),Fi(d,r,o)),r={cache:Jd()},s.payload=r;return}r=r.return}}function y_(s,r,o){var d=xs();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ll(s)?Kp(r,o):(o=Fd(s,r,o,d),o!==null&&(ys(o,s,d),Wp(o,r,d)))}function Xp(s,r,o){var d=xs();Ki(s,r,o,d)}function Ki(s,r,o,d){var m={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ll(s))Kp(r,m);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var C=r.lastRenderedState,O=x(C,o);if(m.hasEagerState=!0,m.eagerState=O,hs(O,C))return vl(s,r,m,0),et===null&&bl(),!1}catch{}finally{}if(o=Fd(s,r,m,d),o!==null)return ys(o,s,d),Wp(o,r,d),!0}return!1}function Nu(s,r,o,d){if(d={lane:2,revertLane:sh(),action:d,hasEagerState:!1,eagerState:null,next:null},Ll(s)){if(r)throw Error(i(479))}else r=Fd(s,o,d,2),r!==null&&ys(r,s,2)}function Ll(s){var r=s.alternate;return s===Pe||r!==null&&r===Pe}function Kp(s,r){wr=Ml=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Wp(s,r,o){if((o&4194048)!==0){var d=r.lanes;d&=s.pendingLanes,o|=d,r.lanes=o,n0(s,o)}}var Bl={readContext:It,use:Dl,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},Qp={readContext:It,use:Dl,useCallback:function(s,r){return ns().memoizedState=[s,r===void 0?null:r],s},useContext:It,useEffect:Rp,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,zl(4194308,4,Bp.bind(null,r,s),o)},useLayoutEffect:function(s,r){return zl(4194308,4,s,r)},useInsertionEffect:function(s,r){zl(4,2,s,r)},useMemo:function(s,r){var o=ns();r=r===void 0?null:r;var d=s();if(kn){ze(!0);try{s()}finally{ze(!1)}}return o.memoizedState=[d,r],d},useReducer:function(s,r,o){var d=ns();if(o!==void 0){var m=o(r);if(kn){ze(!0);try{o(r)}finally{ze(!1)}}}else m=r;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=y_.bind(null,Pe,s),[d.memoizedState,s]},useRef:function(s){var r=ns();return s={current:s},r.memoizedState=s},useState:function(s){s=yu(s);var r=s.queue,o=Xp.bind(null,Pe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:vu,useDeferredValue:function(s,r){var o=ns();return wu(o,s,r)},useTransition:function(){var s=yu(!1);return s=Fp.bind(null,Pe,s.queue,!0,!1),ns().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var d=Pe,m=ns();if(Ie){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),et===null)throw Error(i(349));(Fe&124)!==0||yp(d,r,o)}m.memoizedState=o;var x={value:o,getSnapshot:r};return m.queue=x,Rp(vp.bind(null,d,x,s),[s]),d.flags|=2048,_r(9,Pl(),bp.bind(null,d,x,o,r),null),o},useId:function(){var s=ns(),r=et.identifierPrefix;if(Ie){var o=ha,d=ua;o=(d&~(1<<32-re(d)-1)).toString(32)+o,r=""+r+"R"+o,o=Ol++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=h_++,r=""+r+"r"+o.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:_u,useFormState:Ap,useActionState:Ap,useOptimistic:function(s){var r=ns();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Nu.bind(null,Pe,!0,o),o.dispatch=r,[s,r]},useMemoCache:pu,useCacheRefresh:function(){return ns().memoizedState=x_.bind(null,Pe)}},Zp={readContext:It,use:Dl,useCallback:$p,useContext:It,useEffect:Pp,useImperativeHandle:Vp,useInsertionEffect:zp,useLayoutEffect:Lp,useMemo:Up,useReducer:Rl,useRef:Dp,useState:function(){return Rl(pa)},useDebugValue:vu,useDeferredValue:function(s,r){var o=wt();return qp(o,We.memoizedState,s,r)},useTransition:function(){var s=Rl(pa)[0],r=wt().memoizedState;return[typeof s=="boolean"?s:Yi(s),r]},useSyncExternalStore:xp,useId:Gp,useHostTransitionStatus:_u,useFormState:kp,useActionState:kp,useOptimistic:function(s,r){var o=wt();return _p(o,We,s,r)},useMemoCache:pu,useCacheRefresh:Yp},b_={readContext:It,use:Dl,useCallback:$p,useContext:It,useEffect:Pp,useImperativeHandle:Vp,useInsertionEffect:zp,useLayoutEffect:Lp,useMemo:Up,useReducer:xu,useRef:Dp,useState:function(){return xu(pa)},useDebugValue:vu,useDeferredValue:function(s,r){var o=wt();return We===null?wu(o,s,r):qp(o,We.memoizedState,s,r)},useTransition:function(){var s=xu(pa)[0],r=wt().memoizedState;return[typeof s=="boolean"?s:Yi(s),r]},useSyncExternalStore:xp,useId:Gp,useHostTransitionStatus:_u,useFormState:Op,useActionState:Op,useOptimistic:function(s,r){var o=wt();return We!==null?_p(o,We,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:pu,useCacheRefresh:Yp},Nr=null,Wi=0;function Vl(s){var r=Wi;return Wi+=1,Nr===null&&(Nr=[]),cp(Nr,s,r)}function Qi(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function $l(s,r){throw r.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Jp(s){var r=s._init;return r(s._payload)}function eg(s){function r(W,G){if(s){var ee=W.deletions;ee===null?(W.deletions=[G],W.flags|=16):ee.push(G)}}function o(W,G){if(!s)return null;for(;G!==null;)r(W,G),G=G.sibling;return null}function d(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(W,G){return W=da(W,G),W.index=0,W.sibling=null,W}function x(W,G,ee){return W.index=ee,s?(ee=W.alternate,ee!==null?(ee=ee.index,ee<G?(W.flags|=67108866,G):ee):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function C(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function O(W,G,ee,de){return G===null||G.tag!==6?(G=Id(ee,W.mode,de),G.return=W,G):(G=m(G,ee),G.return=W,G)}function U(W,G,ee,de){var ve=ee.type;return ve===_?ce(W,G,ee.props.children,de,ee.key):G!==null&&(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&Jp(ve)===G.type)?(G=m(G,ee.props),Qi(G,ee),G.return=W,G):(G=jl(ee.type,ee.key,ee.props,null,W.mode,de),Qi(G,ee),G.return=W,G)}function se(W,G,ee,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Gd(ee,W.mode,de),G.return=W,G):(G=m(G,ee.children||[]),G.return=W,G)}function ce(W,G,ee,de,ve){return G===null||G.tag!==7?(G=jn(ee,W.mode,de,ve),G.return=W,G):(G=m(G,ee),G.return=W,G)}function he(W,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Id(""+G,W.mode,ee),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return ee=jl(G.type,G.key,G.props,null,W.mode,ee),Qi(ee,G),ee.return=W,ee;case w:return G=Gd(G,W.mode,ee),G.return=W,G;case $:var de=G._init;return G=de(G._payload),he(W,G,ee)}if(K(G)||Q(G))return G=jn(G,W.mode,ee,null),G.return=W,G;if(typeof G.then=="function")return he(W,Vl(G),ee);if(G.$$typeof===A)return he(W,Tl(W,G),ee);$l(W,G)}return null}function ae(W,G,ee,de){var ve=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ve!==null?null:O(W,G,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===ve?U(W,G,ee,de):null;case w:return ee.key===ve?se(W,G,ee,de):null;case $:return ve=ee._init,ee=ve(ee._payload),ae(W,G,ee,de)}if(K(ee)||Q(ee))return ve!==null?null:ce(W,G,ee,de,null);if(typeof ee.then=="function")return ae(W,G,Vl(ee),de);if(ee.$$typeof===A)return ae(W,G,Tl(W,ee),de);$l(W,ee)}return null}function ie(W,G,ee,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return W=W.get(ee)||null,O(G,W,""+de,ve);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return W=W.get(de.key===null?ee:de.key)||null,U(G,W,de,ve);case w:return W=W.get(de.key===null?ee:de.key)||null,se(G,W,de,ve);case $:var Le=de._init;return de=Le(de._payload),ie(W,G,ee,de,ve)}if(K(de)||Q(de))return W=W.get(ee)||null,ce(G,W,de,ve,null);if(typeof de.then=="function")return ie(W,G,ee,Vl(de),ve);if(de.$$typeof===A)return ie(W,G,ee,Tl(G,de),ve);$l(G,de)}return null}function Ce(W,G,ee,de){for(var ve=null,Le=null,Ne=G,Te=G=0,Rt=null;Ne!==null&&Te<ee.length;Te++){Ne.index>Te?(Rt=Ne,Ne=null):Rt=Ne.sibling;var He=ae(W,Ne,ee[Te],de);if(He===null){Ne===null&&(Ne=Rt);break}s&&Ne&&He.alternate===null&&r(W,Ne),G=x(He,G,Te),Le===null?ve=He:Le.sibling=He,Le=He,Ne=Rt}if(Te===ee.length)return o(W,Ne),Ie&&Nn(W,Te),ve;if(Ne===null){for(;Te<ee.length;Te++)Ne=he(W,ee[Te],de),Ne!==null&&(G=x(Ne,G,Te),Le===null?ve=Ne:Le.sibling=Ne,Le=Ne);return Ie&&Nn(W,Te),ve}for(Ne=d(Ne);Te<ee.length;Te++)Rt=ie(Ne,W,Te,ee[Te],de),Rt!==null&&(s&&Rt.alternate!==null&&Ne.delete(Rt.key===null?Te:Rt.key),G=x(Rt,G,Te),Le===null?ve=Rt:Le.sibling=Rt,Le=Rt);return s&&Ne.forEach(function(sn){return r(W,sn)}),Ie&&Nn(W,Te),ve}function Se(W,G,ee,de){if(ee==null)throw Error(i(151));for(var ve=null,Le=null,Ne=G,Te=G=0,Rt=null,He=ee.next();Ne!==null&&!He.done;Te++,He=ee.next()){Ne.index>Te?(Rt=Ne,Ne=null):Rt=Ne.sibling;var sn=ae(W,Ne,He.value,de);if(sn===null){Ne===null&&(Ne=Rt);break}s&&Ne&&sn.alternate===null&&r(W,Ne),G=x(sn,G,Te),Le===null?ve=sn:Le.sibling=sn,Le=sn,Ne=Rt}if(He.done)return o(W,Ne),Ie&&Nn(W,Te),ve;if(Ne===null){for(;!He.done;Te++,He=ee.next())He=he(W,He.value,de),He!==null&&(G=x(He,G,Te),Le===null?ve=He:Le.sibling=He,Le=He);return Ie&&Nn(W,Te),ve}for(Ne=d(Ne);!He.done;Te++,He=ee.next())He=ie(Ne,W,Te,He.value,de),He!==null&&(s&&He.alternate!==null&&Ne.delete(He.key===null?Te:He.key),G=x(He,G,Te),Le===null?ve=He:Le.sibling=He,Le=He);return s&&Ne.forEach(function(vN){return r(W,vN)}),Ie&&Nn(W,Te),ve}function Ze(W,G,ee,de){if(typeof ee=="object"&&ee!==null&&ee.type===_&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var ve=ee.key;G!==null;){if(G.key===ve){if(ve=ee.type,ve===_){if(G.tag===7){o(W,G.sibling),de=m(G,ee.props.children),de.return=W,W=de;break e}}else if(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&Jp(ve)===G.type){o(W,G.sibling),de=m(G,ee.props),Qi(de,ee),de.return=W,W=de;break e}o(W,G);break}else r(W,G);G=G.sibling}ee.type===_?(de=jn(ee.props.children,W.mode,de,ee.key),de.return=W,W=de):(de=jl(ee.type,ee.key,ee.props,null,W.mode,de),Qi(de,ee),de.return=W,W=de)}return C(W);case w:e:{for(ve=ee.key;G!==null;){if(G.key===ve)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){o(W,G.sibling),de=m(G,ee.children||[]),de.return=W,W=de;break e}else{o(W,G);break}else r(W,G);G=G.sibling}de=Gd(ee,W.mode,de),de.return=W,W=de}return C(W);case $:return ve=ee._init,ee=ve(ee._payload),Ze(W,G,ee,de)}if(K(ee))return Ce(W,G,ee,de);if(Q(ee)){if(ve=Q(ee),typeof ve!="function")throw Error(i(150));return ee=ve.call(ee),Se(W,G,ee,de)}if(typeof ee.then=="function")return Ze(W,G,Vl(ee),de);if(ee.$$typeof===A)return Ze(W,G,Tl(W,ee),de);$l(W,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(o(W,G.sibling),de=m(G,ee),de.return=W,W=de):(o(W,G),de=Id(ee,W.mode,de),de.return=W,W=de),C(W)):o(W,G)}return function(W,G,ee,de){try{Wi=0;var ve=Ze(W,G,ee,de);return Nr=null,ve}catch(Ne){if(Ne===Ui||Ne===El)throw Ne;var Le=ms(29,Ne,null,W.mode);return Le.lanes=de,Le.return=W,Le}finally{}}}var Sr=eg(!0),tg=eg(!1),Es=F(null),Ws=null;function Ua(s){var r=s.alternate;Z(Ct,Ct.current&1),Z(Es,s),Ws===null&&(r===null||vr.current!==null||r.memoizedState!==null)&&(Ws=s)}function sg(s){if(s.tag===22){if(Z(Ct,Ct.current),Z(Es,s),Ws===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Ws=s)}}else qa()}function qa(){Z(Ct,Ct.current),Z(Es,Es.current)}function ga(s){P(Es),Ws===s&&(Ws=null),P(Ct)}var Ct=F(0);function Ul(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||fh(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Su(s,r,o,d){r=s.memoizedState,o=o(d,r),o=o==null?r:g({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Tu={enqueueSetState:function(s,r,o){s=s._reactInternals;var d=xs(),m=Ba(d);m.payload=r,o!=null&&(m.callback=o),r=Va(s,m,d),r!==null&&(ys(r,s,d),Fi(r,s,d))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var d=xs(),m=Ba(d);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Va(s,m,d),r!==null&&(ys(r,s,d),Fi(r,s,d))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=xs(),d=Ba(o);d.tag=2,r!=null&&(d.callback=r),r=Va(s,d,o),r!==null&&(ys(r,s,o),Fi(r,s,o))}};function ag(s,r,o,d,m,x,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,C):r.prototype&&r.prototype.isPureReactComponent?!Di(o,d)||!Di(m,x):!0}function ng(s,r,o,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,d),r.state!==s&&Tu.enqueueReplaceState(r,r.state,null)}function Mn(s,r){var o=r;if("ref"in r){o={};for(var d in r)d!=="ref"&&(o[d]=r[d])}if(s=s.defaultProps){o===r&&(o=g({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}var ql=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function rg(s){ql(s)}function ig(s){console.error(s)}function og(s){ql(s)}function Fl(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function lg(s,r,o){try{var d=s.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cu(s,r,o){return o=Ba(o),o.tag=3,o.payload={element:null},o.callback=function(){Fl(s,r)},o}function cg(s){return s=Ba(s),s.tag=3,s}function dg(s,r,o,d){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var x=d.value;s.payload=function(){return m(x)},s.callback=function(){lg(r,o,d)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){lg(r,o,d),typeof m!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function v_(s,r,o,d,m){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=o.alternate,r!==null&&Bi(r,o,m,!0),o=Es.current,o!==null){switch(o.tag){case 13:return Ws===null?Qu():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=m,d===su?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([d]):r.add(d),Ju(s,d,m)),!1;case 22:return o.flags|=65536,d===su?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([d]):o.add(d)),Ju(s,d,m)),!1}throw Error(i(435,o.tag))}return Ju(s,d,m),Qu(),!1}if(Ie)return r=Es.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,d!==Kd&&(s=Error(i(422),{cause:d}),Li(Ns(s,o)))):(d!==Kd&&(r=Error(i(423),{cause:d}),Li(Ns(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=Ns(d,o),m=Cu(s.stateNode,d,m),ru(s,m),ut!==4&&(ut=2)),!1;var x=Error(i(520),{cause:d});if(x=Ns(x,o),no===null?no=[x]:no.push(x),ut!==4&&(ut=2),r===null)return!0;d=Ns(d,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=Cu(o.stateNode,d,s),ru(o,s),!1;case 1:if(r=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xa===null||!Xa.has(x))))return o.flags|=65536,m&=-m,o.lanes|=m,m=cg(m),dg(m,s,o,d),ru(o,m),!1}o=o.return}while(o!==null);return!1}var ug=Error(i(461)),Ot=!1;function Bt(s,r,o,d){r.child=s===null?tg(r,null,o,d):Sr(r,s.child,o,d)}function hg(s,r,o,d,m){o=o.render;var x=r.ref;if("ref"in d){var C={};for(var O in d)O!=="ref"&&(C[O]=d[O])}else C=d;return En(r),d=du(s,r,o,C,x,m),O=uu(),s!==null&&!Ot?(hu(s,r,m),xa(s,r,m)):(Ie&&O&&Yd(r),r.flags|=1,Bt(s,r,d,m),r.child)}function mg(s,r,o,d,m){if(s===null){var x=o.type;return typeof x=="function"&&!Hd(x)&&x.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=x,fg(s,r,x,d,m)):(s=jl(o.type,null,d,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(x=s.child,!Pu(s,m)){var C=x.memoizedProps;if(o=o.compare,o=o!==null?o:Di,o(C,d)&&s.ref===r.ref)return xa(s,r,m)}return r.flags|=1,s=da(x,d),s.ref=r.ref,s.return=r,r.child=s}function fg(s,r,o,d,m){if(s!==null){var x=s.memoizedProps;if(Di(x,d)&&s.ref===r.ref)if(Ot=!1,r.pendingProps=d=x,Pu(s,m))(s.flags&131072)!==0&&(Ot=!0);else return r.lanes=s.lanes,xa(s,r,m)}return Eu(s,r,o,d,m)}function pg(s,r,o){var d=r.pendingProps,m=d.children,x=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=x!==null?x.baseLanes|o:o,s!==null){for(m=r.child=s.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;r.childLanes=x&~d}else r.childLanes=0,r.child=null;return gg(s,r,d,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Cl(r,x!==null?x.cachePool:null),x!==null?fp(r,x):ou(),sg(r);else return r.lanes=r.childLanes=536870912,gg(s,r,x!==null?x.baseLanes|o:o,o)}else x!==null?(Cl(r,x.cachePool),fp(r,x),qa(),r.memoizedState=null):(s!==null&&Cl(r,null),ou(),qa());return Bt(s,r,m,o),r.child}function gg(s,r,o,d){var m=tu();return m=m===null?null:{parent:Tt._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},s!==null&&Cl(r,null),ou(),sg(r),s!==null&&Bi(s,r,d,!0),null}function Hl(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Eu(s,r,o,d,m){return En(r),o=du(s,r,o,d,void 0,m),d=uu(),s!==null&&!Ot?(hu(s,r,m),xa(s,r,m)):(Ie&&d&&Yd(r),r.flags|=1,Bt(s,r,o,m),r.child)}function xg(s,r,o,d,m,x){return En(r),r.updateQueue=null,o=gp(r,d,o,m),pp(s),d=uu(),s!==null&&!Ot?(hu(s,r,x),xa(s,r,x)):(Ie&&d&&Yd(r),r.flags|=1,Bt(s,r,o,x),r.child)}function yg(s,r,o,d,m){if(En(r),r.stateNode===null){var x=pr,C=o.contextType;typeof C=="object"&&C!==null&&(x=It(C)),x=new o(d,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Tu,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=d,x.state=r.memoizedState,x.refs={},au(r),C=o.contextType,x.context=typeof C=="object"&&C!==null?It(C):pr,x.state=r.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(Su(r,o,C,d),x.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&Tu.enqueueReplaceState(x,x.state,null),Ii(r,d,x,m),Hi(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(s===null){x=r.stateNode;var O=r.memoizedProps,U=Mn(o,O);x.props=U;var se=x.context,ce=o.contextType;C=pr,typeof ce=="object"&&ce!==null&&(C=It(ce));var he=o.getDerivedStateFromProps;ce=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||se!==C)&&ng(r,x,d,C),La=!1;var ae=r.memoizedState;x.state=ae,Ii(r,d,x,m),Hi(),se=r.memoizedState,O||ae!==se||La?(typeof he=="function"&&(Su(r,o,he,d),se=r.memoizedState),(U=La||ag(r,o,U,d,ae,se,C))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=se),x.props=d,x.state=se,x.context=C,d=U):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{x=r.stateNode,nu(s,r),C=r.memoizedProps,ce=Mn(o,C),x.props=ce,he=r.pendingProps,ae=x.context,se=o.contextType,U=pr,typeof se=="object"&&se!==null&&(U=It(se)),O=o.getDerivedStateFromProps,(se=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==he||ae!==U)&&ng(r,x,d,U),La=!1,ae=r.memoizedState,x.state=ae,Ii(r,d,x,m),Hi();var ie=r.memoizedState;C!==he||ae!==ie||La||s!==null&&s.dependencies!==null&&Sl(s.dependencies)?(typeof O=="function"&&(Su(r,o,O,d),ie=r.memoizedState),(ce=La||ag(r,o,ce,d,ae,ie,U)||s!==null&&s.dependencies!==null&&Sl(s.dependencies))?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ie,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ie,U)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ie),x.props=d,x.state=ie,x.context=U,d=ce):(typeof x.componentDidUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ae===s.memoizedState||(r.flags|=1024),d=!1)}return x=d,Hl(s,r),d=(r.flags&128)!==0,x||d?(x=r.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,s!==null&&d?(r.child=Sr(r,s.child,null,m),r.child=Sr(r,null,o,m)):Bt(s,r,o,m),r.memoizedState=x.state,s=r.child):s=xa(s,r,m),s}function bg(s,r,o,d){return zi(),r.flags|=256,Bt(s,r,o,d),r.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(s){return{baseLanes:s,cachePool:ip()}}function Mu(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=As),s}function vg(s,r,o){var d=r.pendingProps,m=!1,x=(r.flags&128)!==0,C;if((C=x)||(C=s!==null&&s.memoizedState===null?!1:(Ct.current&2)!==0),C&&(m=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ie){if(m?Ua(r):qa(),Ie){var O=dt,U;if(U=O){e:{for(U=O,O=Ks;U.nodeType!==8;){if(!O){O=null;break e}if(U=Ls(U.nextSibling),U===null){O=null;break e}}O=U}O!==null?(r.memoizedState={dehydrated:O,treeContext:_n!==null?{id:ua,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},U=ms(18,null,null,0),U.stateNode=O,U.return=r,r.child=U,Wt=r,dt=null,U=!0):U=!1}U||Tn(r)}if(O=r.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return fh(O)?r.lanes=32:r.lanes=536870912,null;ga(r)}return O=d.children,d=d.fallback,m?(qa(),m=r.mode,O=Il({mode:"hidden",children:O},m),d=jn(d,m,o,null),O.return=r,d.return=r,O.sibling=d,r.child=O,m=r.child,m.memoizedState=ku(o),m.childLanes=Mu(s,C,o),r.memoizedState=Au,d):(Ua(r),Ou(r,O))}if(U=s.memoizedState,U!==null&&(O=U.dehydrated,O!==null)){if(x)r.flags&256?(Ua(r),r.flags&=-257,r=Du(s,r,o)):r.memoizedState!==null?(qa(),r.child=s.child,r.flags|=128,r=null):(qa(),m=d.fallback,O=r.mode,d=Il({mode:"visible",children:d.children},O),m=jn(m,O,o,null),m.flags|=2,d.return=r,m.return=r,d.sibling=m,r.child=d,Sr(r,s.child,null,o),d=r.child,d.memoizedState=ku(o),d.childLanes=Mu(s,C,o),r.memoizedState=Au,r=m);else if(Ua(r),fh(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var se=C.dgst;C=se,d=Error(i(419)),d.stack="",d.digest=C,Li({value:d,source:null,stack:null}),r=Du(s,r,o)}else if(Ot||Bi(s,r,o,!1),C=(o&s.childLanes)!==0,Ot||C){if(C=et,C!==null&&(d=o&-o,d=(d&42)!==0?1:pd(d),d=(d&(C.suspendedLanes|o))!==0?0:d,d!==0&&d!==U.retryLane))throw U.retryLane=d,fr(s,d),ys(C,s,d),ug;O.data==="$?"||Qu(),r=Du(s,r,o)}else O.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=U.treeContext,dt=Ls(O.nextSibling),Wt=r,Ie=!0,Sn=null,Ks=!1,s!==null&&(Ts[Cs++]=ua,Ts[Cs++]=ha,Ts[Cs++]=_n,ua=s.id,ha=s.overflow,_n=r),r=Ou(r,d.children),r.flags|=4096);return r}return m?(qa(),m=d.fallback,O=r.mode,U=s.child,se=U.sibling,d=da(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,se!==null?m=da(se,m):(m=jn(m,O,o,null),m.flags|=2),m.return=r,d.return=r,d.sibling=m,r.child=d,d=m,m=r.child,O=s.child.memoizedState,O===null?O=ku(o):(U=O.cachePool,U!==null?(se=Tt._currentValue,U=U.parent!==se?{parent:se,pool:se}:U):U=ip(),O={baseLanes:O.baseLanes|o,cachePool:U}),m.memoizedState=O,m.childLanes=Mu(s,C,o),r.memoizedState=Au,d):(Ua(r),o=s.child,s=o.sibling,o=da(o,{mode:"visible",children:d.children}),o.return=r,o.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=o,r.memoizedState=null,o)}function Ou(s,r){return r=Il({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Il(s,r){return s=ms(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Du(s,r,o){return Sr(r,s.child,null,o),s=Ou(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function wg(s,r,o){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),Qd(s.return,r,o)}function Ru(s,r,o,d,m){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=o,x.tailMode=m)}function jg(s,r,o){var d=r.pendingProps,m=d.revealOrder,x=d.tail;if(Bt(s,r,d.children,o),d=Ct.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wg(s,o,r);else if(s.tag===19)wg(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(Z(Ct,d),m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Ul(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Ru(r,!1,m,o,x);break;case"backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Ul(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}Ru(r,!0,o,null,x);break;case"together":Ru(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xa(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Ya|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Bi(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=da(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=da(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Pu(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Sl(s)))}function w_(s,r,o){switch(r.tag){case 3:me(r,r.stateNode.containerInfo),za(r,Tt,s.memoizedState.cache),zi();break;case 27:case 5:Ge(r);break;case 4:me(r,r.stateNode.containerInfo);break;case 10:za(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Ua(r),r.flags|=128,null):(o&r.child.childLanes)!==0?vg(s,r,o):(Ua(r),s=xa(s,r,o),s!==null?s.sibling:null);Ua(r);break;case 19:var m=(s.flags&128)!==0;if(d=(o&r.childLanes)!==0,d||(Bi(s,r,o,!1),d=(o&r.childLanes)!==0),m){if(d)return jg(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(Ct,Ct.current),d)break;return null;case 22:case 23:return r.lanes=0,pg(s,r,o);case 24:za(r,Tt,s.memoizedState.cache)}return xa(s,r,o)}function _g(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ot=!0;else{if(!Pu(s,o)&&(r.flags&128)===0)return Ot=!1,w_(s,r,o);Ot=(s.flags&131072)!==0}else Ot=!1,Ie&&(r.flags&1048576)!==0&&J0(r,Nl,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var d=r.elementType,m=d._init;if(d=m(d._payload),r.type=d,typeof d=="function")Hd(d)?(s=Mn(d,s),r.tag=1,r=yg(null,r,d,s,o)):(r.tag=0,r=Eu(null,r,d,s,o));else{if(d!=null){if(m=d.$$typeof,m===k){r.tag=11,r=hg(null,r,d,s,o);break e}else if(m===L){r.tag=14,r=mg(null,r,d,s,o);break e}}throw r=Y(d)||d,Error(i(306,r,""))}}return r;case 0:return Eu(s,r,r.type,r.pendingProps,o);case 1:return d=r.type,m=Mn(d,r.pendingProps),yg(s,r,d,m,o);case 3:e:{if(me(r,r.stateNode.containerInfo),s===null)throw Error(i(387));d=r.pendingProps;var x=r.memoizedState;m=x.element,nu(s,r),Ii(r,d,null,o);var C=r.memoizedState;if(d=C.cache,za(r,Tt,d),d!==x.cache&&Zd(r,[Tt],o,!0),Hi(),d=C.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=bg(s,r,d,o);break e}else if(d!==m){m=Ns(Error(i(424)),r),Li(m),r=bg(s,r,d,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(dt=Ls(s.firstChild),Wt=r,Ie=!0,Sn=null,Ks=!0,o=tg(r,null,d,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(zi(),d===m){r=xa(s,r,o);break e}Bt(s,r,d,o)}r=r.child}return r;case 26:return Hl(s,r),s===null?(o=Cx(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ie||(o=r.type,s=r.pendingProps,d=rc(fe.current).createElement(o),d[Ht]=r,d[ss]=s,$t(d,o,s),Mt(d),r.stateNode=d):r.memoizedState=Cx(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Ge(r),s===null&&Ie&&(d=r.stateNode=Nx(r.type,r.pendingProps,fe.current),Wt=r,Ks=!0,m=dt,Qa(r.type)?(ph=m,dt=Ls(d.firstChild)):dt=m),Bt(s,r,r.pendingProps.children,o),Hl(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ie&&((m=d=dt)&&(d=K_(d,r.type,r.pendingProps,Ks),d!==null?(r.stateNode=d,Wt=r,dt=Ls(d.firstChild),Ks=!1,m=!0):m=!1),m||Tn(r)),Ge(r),m=r.type,x=r.pendingProps,C=s!==null?s.memoizedProps:null,d=x.children,uh(m,x)?d=null:C!==null&&uh(m,C)&&(r.flags|=32),r.memoizedState!==null&&(m=du(s,r,m_,null,null,o),fo._currentValue=m),Hl(s,r),Bt(s,r,d,o),r.child;case 6:return s===null&&Ie&&((s=o=dt)&&(o=W_(o,r.pendingProps,Ks),o!==null?(r.stateNode=o,Wt=r,dt=null,s=!0):s=!1),s||Tn(r)),null;case 13:return vg(s,r,o);case 4:return me(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=Sr(r,null,d,o):Bt(s,r,d,o),r.child;case 11:return hg(s,r,r.type,r.pendingProps,o);case 7:return Bt(s,r,r.pendingProps,o),r.child;case 8:return Bt(s,r,r.pendingProps.children,o),r.child;case 12:return Bt(s,r,r.pendingProps.children,o),r.child;case 10:return d=r.pendingProps,za(r,r.type,d.value),Bt(s,r,d.children,o),r.child;case 9:return m=r.type._context,d=r.pendingProps.children,En(r),m=It(m),d=d(m),r.flags|=1,Bt(s,r,d,o),r.child;case 14:return mg(s,r,r.type,r.pendingProps,o);case 15:return fg(s,r,r.type,r.pendingProps,o);case 19:return jg(s,r,o);case 31:return d=r.pendingProps,o=r.mode,d={mode:d.mode,children:d.children},s===null?(o=Il(d,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=da(s.child,d),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return pg(s,r,o);case 24:return En(r),d=It(Tt),s===null?(m=tu(),m===null&&(m=et,x=Jd(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=o),m=x),r.memoizedState={parent:d,cache:m},au(r),za(r,Tt,m)):((s.lanes&o)!==0&&(nu(s,r),Ii(r,null,null,o),Hi()),m=s.memoizedState,x=r.memoizedState,m.parent!==d?(m={parent:d,cache:d},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),za(r,Tt,d)):(d=x.cache,za(r,Tt,d),d!==m.cache&&Zd(r,[Tt],o,!0))),Bt(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ya(s){s.flags|=4}function Ng(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ox(r)){if(r=Es.current,r!==null&&((Fe&4194048)===Fe?Ws!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Ws))throw qi=su,op;s.flags|=8192}}function Gl(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?wi():536870912,s.lanes|=r,Ar|=r)}function Zi(s,r){if(!Ie)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ot(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,d=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=o,r}function j_(s,r,o){var d=r.pendingProps;switch(Xd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),fa(Tt),ke(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Pi(r)?ya(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sp())),ot(r),null;case 26:return o=r.memoizedState,s===null?(ya(r),o!==null?(ot(r),Ng(r,o)):(ot(r),r.flags&=-16777217)):o?o!==s.memoizedState?(ya(r),ot(r),Ng(r,o)):(ot(r),r.flags&=-16777217):(s.memoizedProps!==d&&ya(r),ot(r),r.flags&=-16777217),null;case 27:ct(r),o=fe.current;var m=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==d&&ya(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return ot(r),null}s=ue.current,Pi(r)?ep(r):(s=Nx(m,d,o),r.stateNode=s,ya(r))}return ot(r),null;case 5:if(ct(r),o=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==d&&ya(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return ot(r),null}if(s=ue.current,Pi(r))ep(r);else{switch(m=rc(fe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?m.createElement(o,{is:d.is}):m.createElement(o)}}s[Ht]=r,s[ss]=d;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=s;e:switch($t(s,o,d),o){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ya(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==d&&ya(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(s=fe.current,Pi(r)){if(s=r.stateNode,o=r.memoizedProps,d=null,m=Wt,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[Ht]=r,s=!!(s.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||xx(s.nodeValue,o)),s||Tn(r)}else s=rc(s).createTextNode(d),s[Ht]=r,r.stateNode=s}return ot(r),null;case 13:if(d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Pi(r),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ht]=r}else zi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),m=!1}else m=sp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(ga(r),r):(ga(r),null)}if(ga(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=d!==null,s=s!==null&&s.memoizedState!==null,o){d=r.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==m&&(d.flags|=2048)}return o!==s&&o&&(r.child.flags|=8192),Gl(r,r.updateQueue),ot(r),null;case 4:return ke(),s===null&&ih(r.stateNode.containerInfo),ot(r),null;case 10:return fa(r.type),ot(r),null;case 19:if(P(Ct),m=r.memoizedState,m===null)return ot(r),null;if(d=(r.flags&128)!==0,x=m.rendering,x===null)if(d)Zi(m,!1);else{if(ut!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(x=Ul(s),x!==null){for(r.flags|=128,Zi(m,!1),s=x.updateQueue,r.updateQueue=s,Gl(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Z0(o,s),o=o.sibling;return Z(Ct,Ct.current&1|2),r.child}s=s.sibling}m.tail!==null&&St()>Kl&&(r.flags|=128,d=!0,Zi(m,!1),r.lanes=4194304)}else{if(!d)if(s=Ul(x),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,Gl(r,s),Zi(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ie)return ot(r),null}else 2*St()-m.renderingStartTime>Kl&&o!==536870912&&(r.flags|=128,d=!0,Zi(m,!1),r.lanes=4194304);m.isBackwards?(x.sibling=r.child,r.child=x):(s=m.last,s!==null?s.sibling=x:r.child=x,m.last=x)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=St(),r.sibling=null,s=Ct.current,Z(Ct,d?s&1|2:s&1),r):(ot(r),null);case 22:case 23:return ga(r),lu(),d=r.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Gl(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048),s!==null&&P(An),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),fa(Tt),ot(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function __(s,r){switch(Xd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return fa(Tt),ke(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return ct(r),null;case 13:if(ga(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));zi()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return P(Ct),null;case 4:return ke(),null;case 10:return fa(r.type),null;case 22:case 23:return ga(r),lu(),s!==null&&P(An),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return fa(Tt),null;case 25:return null;default:return null}}function Sg(s,r){switch(Xd(r),r.tag){case 3:fa(Tt),ke();break;case 26:case 27:case 5:ct(r);break;case 4:ke();break;case 13:ga(r);break;case 19:P(Ct);break;case 10:fa(r.type);break;case 22:case 23:ga(r),lu(),s!==null&&P(An);break;case 24:fa(Tt)}}function Ji(s,r){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&s)===s){d=void 0;var x=o.create,C=o.inst;d=x(),C.destroy=d}o=o.next}while(o!==m)}}catch(O){Je(r,r.return,O)}}function Fa(s,r,o){try{var d=r.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&s)===s){var C=d.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,m=r;var U=o,se=O;try{se()}catch(ce){Je(m,U,ce)}}}d=d.next}while(d!==x)}}catch(ce){Je(r,r.return,ce)}}function Tg(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{mp(r,o)}catch(d){Je(s,s.return,d)}}}function Cg(s,r,o){o.props=Mn(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(d){Je(s,r,d)}}function eo(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof o=="function"?s.refCleanup=o(d):o.current=d}}catch(m){Je(s,r,m)}}function Qs(s,r){var o=s.ref,d=s.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(m){Je(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(s,r,m)}else o.current=null}function Eg(s){var r=s.type,o=s.memoizedProps,d=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(m){Je(s,s.return,m)}}function zu(s,r,o){try{var d=s.stateNode;H_(d,s.type,o,r),d[ss]=r}catch(m){Je(s,s.return,m)}}function Ag(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Qa(s.type)||s.tag===4}function Lu(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ag(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Qa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Bu(s,r,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=nc));else if(d!==4&&(d===27&&Qa(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Bu(s,r,o),s=s.sibling;s!==null;)Bu(s,r,o),s=s.sibling}function Yl(s,r,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(d!==4&&(d===27&&Qa(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Yl(s,r,o),s=s.sibling;s!==null;)Yl(s,r,o),s=s.sibling}function kg(s){var r=s.stateNode,o=s.memoizedProps;try{for(var d=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);$t(r,d,o),r[Ht]=s,r[ss]=o}catch(x){Je(s,s.return,x)}}var ba=!1,pt=!1,Vu=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function N_(s,r){if(s=s.containerInfo,ch=uc,s=q0(s),Ld(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var C=0,O=-1,U=-1,se=0,ce=0,he=s,ae=null;t:for(;;){for(var ie;he!==o||m!==0&&he.nodeType!==3||(O=C+m),he!==x||d!==0&&he.nodeType!==3||(U=C+d),he.nodeType===3&&(C+=he.nodeValue.length),(ie=he.firstChild)!==null;)ae=he,he=ie;for(;;){if(he===s)break t;if(ae===o&&++se===m&&(O=C),ae===x&&++ce===d&&(U=C),(ie=he.nextSibling)!==null)break;he=ae,ae=he.parentNode}he=ie}o=O===-1||U===-1?null:{start:O,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(dh={focusedElem:s,selectionRange:o},uc=!1,Dt=r;Dt!==null;)if(r=Dt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Dt=s;else for(;Dt!==null;){switch(r=Dt,x=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,o=r,m=x.memoizedProps,x=x.memoizedState,d=o.stateNode;try{var Ce=Mn(o.type,m,o.elementType===o.type);s=d.getSnapshotBeforeUpdate(Ce,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(Se){Je(o,o.return,Se)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)mh(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":mh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Dt=s;break}Dt=r.return}}function Og(s,r,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Ha(s,o),d&4&&Ji(5,o);break;case 1:if(Ha(s,o),d&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(C){Je(o,o.return,C)}else{var m=Mn(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Je(o,o.return,C)}}d&64&&Tg(o),d&512&&eo(o,o.return);break;case 3:if(Ha(s,o),d&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{mp(s,r)}catch(C){Je(o,o.return,C)}}break;case 27:r===null&&d&4&&kg(o);case 26:case 5:Ha(s,o),r===null&&d&4&&Eg(o),d&512&&eo(o,o.return);break;case 12:Ha(s,o);break;case 13:Ha(s,o),d&4&&Pg(s,o),d&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=D_.bind(null,o),Q_(s,o))));break;case 22:if(d=o.memoizedState!==null||ba,!d){r=r!==null&&r.memoizedState!==null||pt,m=ba;var x=pt;ba=d,(pt=r)&&!x?Ia(s,o,(o.subtreeFlags&8772)!==0):Ha(s,o),ba=m,pt=x}break;case 30:break;default:Ha(s,o)}}function Dg(s){var r=s.alternate;r!==null&&(s.alternate=null,Dg(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&yd(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var nt=null,rs=!1;function va(s,r,o){for(o=o.child;o!==null;)Rg(s,r,o),o=o.sibling}function Rg(s,r,o){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(je,o)}catch{}switch(o.tag){case 26:pt||Qs(o,r),va(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pt||Qs(o,r);var d=nt,m=rs;Qa(o.type)&&(nt=o.stateNode,rs=!1),va(s,r,o),co(o.stateNode),nt=d,rs=m;break;case 5:pt||Qs(o,r);case 6:if(d=nt,m=rs,nt=null,va(s,r,o),nt=d,rs=m,nt!==null)if(rs)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(o.stateNode)}catch(x){Je(o,r,x)}else try{nt.removeChild(o.stateNode)}catch(x){Je(o,r,x)}break;case 18:nt!==null&&(rs?(s=nt,jx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),yo(s)):jx(nt,o.stateNode));break;case 4:d=nt,m=rs,nt=o.stateNode.containerInfo,rs=!0,va(s,r,o),nt=d,rs=m;break;case 0:case 11:case 14:case 15:pt||Fa(2,o,r),pt||Fa(4,o,r),va(s,r,o);break;case 1:pt||(Qs(o,r),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Cg(o,r,d)),va(s,r,o);break;case 21:va(s,r,o);break;case 22:pt=(d=pt)||o.memoizedState!==null,va(s,r,o),pt=d;break;default:va(s,r,o)}}function Pg(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yo(s)}catch(o){Je(r,r.return,o)}}function S_(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Mg),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Mg),r;default:throw Error(i(435,s.tag))}}function $u(s,r){var o=S_(s);r.forEach(function(d){var m=R_.bind(null,s,d);o.has(d)||(o.add(d),d.then(m,m))})}function fs(s,r){var o=r.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d],x=s,C=r,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(Qa(O.type)){nt=O.stateNode,rs=!1;break e}break;case 5:nt=O.stateNode,rs=!1;break e;case 3:case 4:nt=O.stateNode.containerInfo,rs=!0;break e}O=O.return}if(nt===null)throw Error(i(160));Rg(x,C,m),nt=null,rs=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)zg(r,s),r=r.sibling}var zs=null;function zg(s,r){var o=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fs(r,s),ps(s),d&4&&(Fa(3,s,s.return),Ji(3,s),Fa(5,s,s.return));break;case 1:fs(r,s),ps(s),d&512&&(pt||o===null||Qs(o,o.return)),d&64&&ba&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var m=zs;if(fs(r,s),ps(s),d&512&&(pt||o===null||Qs(o,o.return)),d&4){var x=o!==null?o.memoizedState:null;if(d=s.memoizedState,o===null)if(d===null)if(s.stateNode===null){e:{d=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Ni]||x[Ht]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(d),m.head.insertBefore(x,m.querySelector("head > title"))),$t(x,d,o),x[Ht]=s,Mt(x),d=x;break e;case"link":var C=kx("link","href",m).get(d+(o.href||""));if(C){for(var O=0;O<C.length;O++)if(x=C[O],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(O,1);break t}}x=m.createElement(d),$t(x,d,o),m.head.appendChild(x);break;case"meta":if(C=kx("meta","content",m).get(d+(o.content||""))){for(O=0;O<C.length;O++)if(x=C[O],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(O,1);break t}}x=m.createElement(d),$t(x,d,o),m.head.appendChild(x);break;default:throw Error(i(468,d))}x[Ht]=s,Mt(x),d=x}s.stateNode=d}else Mx(m,s.type,s.stateNode);else s.stateNode=Ax(m,d,s.memoizedProps);else x!==d?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,d===null?Mx(m,s.type,s.stateNode):Ax(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&zu(s,s.memoizedProps,o.memoizedProps)}break;case 27:fs(r,s),ps(s),d&512&&(pt||o===null||Qs(o,o.return)),o!==null&&d&4&&zu(s,s.memoizedProps,o.memoizedProps);break;case 5:if(fs(r,s),ps(s),d&512&&(pt||o===null||Qs(o,o.return)),s.flags&32){m=s.stateNode;try{or(m,"")}catch(ie){Je(s,s.return,ie)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,zu(s,m,o!==null?o.memoizedProps:m)),d&1024&&(Vu=!0);break;case 6:if(fs(r,s),ps(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,o=s.stateNode;try{o.nodeValue=d}catch(ie){Je(s,s.return,ie)}}break;case 3:if(lc=null,m=zs,zs=ic(r.containerInfo),fs(r,s),zs=m,ps(s),d&4&&o!==null&&o.memoizedState.isDehydrated)try{yo(r.containerInfo)}catch(ie){Je(s,s.return,ie)}Vu&&(Vu=!1,Lg(s));break;case 4:d=zs,zs=ic(s.stateNode.containerInfo),fs(r,s),ps(s),zs=d;break;case 12:fs(r,s),ps(s);break;case 13:fs(r,s),ps(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gu=St()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,$u(s,d)));break;case 22:m=s.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,se=ba,ce=pt;if(ba=se||m,pt=ce||U,fs(r,s),pt=ce,ba=se,ps(s),d&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||U||ba||pt||On(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(x=U.stateNode,m)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=U.stateNode;var he=U.memoizedProps.style,ae=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ie){Je(U,U.return,ie)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(ie){Je(U,U.return,ie)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=s.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,$u(s,o))));break;case 19:fs(r,s),ps(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,$u(s,d)));break;case 30:break;case 21:break;default:fs(r,s),ps(s)}}function ps(s){var r=s.flags;if(r&2){try{for(var o,d=s.return;d!==null;){if(Ag(d)){o=d;break}d=d.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,x=Lu(s);Yl(s,x,m);break;case 5:var C=o.stateNode;o.flags&32&&(or(C,""),o.flags&=-33);var O=Lu(s);Yl(s,O,C);break;case 3:case 4:var U=o.stateNode.containerInfo,se=Lu(s);Bu(s,se,U);break;default:throw Error(i(161))}}catch(ce){Je(s,s.return,ce)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Lg(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Lg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ha(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Og(s,r.alternate,r),r=r.sibling}function On(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Fa(4,r,r.return),On(r);break;case 1:Qs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Cg(r,r.return,o),On(r);break;case 27:co(r.stateNode);case 26:case 5:Qs(r,r.return),On(r);break;case 22:r.memoizedState===null&&On(r);break;case 30:On(r);break;default:On(r)}s=s.sibling}}function Ia(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,m=s,x=r,C=x.flags;switch(x.tag){case 0:case 11:case 15:Ia(m,x,o),Ji(4,x);break;case 1:if(Ia(m,x,o),d=x,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(se){Je(d,d.return,se)}if(d=x,m=d.updateQueue,m!==null){var O=d.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)hp(U[m],O)}catch(se){Je(d,d.return,se)}}o&&C&64&&Tg(x),eo(x,x.return);break;case 27:kg(x);case 26:case 5:Ia(m,x,o),o&&d===null&&C&4&&Eg(x),eo(x,x.return);break;case 12:Ia(m,x,o);break;case 13:Ia(m,x,o),o&&C&4&&Pg(m,x);break;case 22:x.memoizedState===null&&Ia(m,x,o),eo(x,x.return);break;case 30:break;default:Ia(m,x,o)}r=r.sibling}}function Uu(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Vi(o))}function qu(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Vi(s))}function Zs(s,r,o,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bg(s,r,o,d),r=r.sibling}function Bg(s,r,o,d){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Zs(s,r,o,d),m&2048&&Ji(9,r);break;case 1:Zs(s,r,o,d);break;case 3:Zs(s,r,o,d),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Vi(s)));break;case 12:if(m&2048){Zs(s,r,o,d),s=r.stateNode;try{var x=r.memoizedProps,C=x.id,O=x.onPostCommit;typeof O=="function"&&O(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){Je(r,r.return,U)}}else Zs(s,r,o,d);break;case 13:Zs(s,r,o,d);break;case 23:break;case 22:x=r.stateNode,C=r.alternate,r.memoizedState!==null?x._visibility&2?Zs(s,r,o,d):to(s,r):x._visibility&2?Zs(s,r,o,d):(x._visibility|=2,Tr(s,r,o,d,(r.subtreeFlags&10256)!==0)),m&2048&&Uu(C,r);break;case 24:Zs(s,r,o,d),m&2048&&qu(r.alternate,r);break;default:Zs(s,r,o,d)}}function Tr(s,r,o,d,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var x=s,C=r,O=o,U=d,se=C.flags;switch(C.tag){case 0:case 11:case 15:Tr(x,C,O,U,m),Ji(8,C);break;case 23:break;case 22:var ce=C.stateNode;C.memoizedState!==null?ce._visibility&2?Tr(x,C,O,U,m):to(x,C):(ce._visibility|=2,Tr(x,C,O,U,m)),m&&se&2048&&Uu(C.alternate,C);break;case 24:Tr(x,C,O,U,m),m&&se&2048&&qu(C.alternate,C);break;default:Tr(x,C,O,U,m)}r=r.sibling}}function to(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,d=r,m=d.flags;switch(d.tag){case 22:to(o,d),m&2048&&Uu(d.alternate,d);break;case 24:to(o,d),m&2048&&qu(d.alternate,d);break;default:to(o,d)}r=r.sibling}}var so=8192;function Cr(s){if(s.subtreeFlags&so)for(s=s.child;s!==null;)Vg(s),s=s.sibling}function Vg(s){switch(s.tag){case 26:Cr(s),s.flags&so&&s.memoizedState!==null&&dN(zs,s.memoizedState,s.memoizedProps);break;case 5:Cr(s);break;case 3:case 4:var r=zs;zs=ic(s.stateNode.containerInfo),Cr(s),zs=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=so,so=16777216,Cr(s),so=r):Cr(s));break;default:Cr(s)}}function $g(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function ao(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];Dt=d,qg(d,s)}$g(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ug(s),s=s.sibling}function Ug(s){switch(s.tag){case 0:case 11:case 15:ao(s),s.flags&2048&&Fa(9,s,s.return);break;case 3:ao(s);break;case 12:ao(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Xl(s)):ao(s);break;default:ao(s)}}function Xl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];Dt=d,qg(d,s)}$g(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Fa(8,r,r.return),Xl(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Xl(r));break;default:Xl(r)}s=s.sibling}}function qg(s,r){for(;Dt!==null;){var o=Dt;switch(o.tag){case 0:case 11:case 15:Fa(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Vi(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Dt=d;else e:for(o=s;Dt!==null;){d=Dt;var m=d.sibling,x=d.return;if(Dg(d),d===o){Dt=null;break e}if(m!==null){m.return=x,Dt=m;break e}Dt=x}}}var T_={getCacheForType:function(s){var r=It(Tt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o}},C_=typeof WeakMap=="function"?WeakMap:Map,Ye=0,et=null,Be=null,Fe=0,Xe=0,gs=null,Ga=!1,Er=!1,Fu=!1,wa=0,ut=0,Ya=0,Dn=0,Hu=0,As=0,Ar=0,no=null,is=null,Iu=!1,Gu=0,Kl=1/0,Wl=null,Xa=null,Vt=0,Ka=null,kr=null,Mr=0,Yu=0,Xu=null,Fg=null,ro=0,Ku=null;function xs(){if((Ye&2)!==0&&Fe!==0)return Fe&-Fe;if(z.T!==null){var s=yr;return s!==0?s:sh()}return r0()}function Hg(){As===0&&(As=(Fe&536870912)===0||Ie?vi():536870912);var s=Es.current;return s!==null&&(s.flags|=32),As}function ys(s,r,o){(s===et&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&&(Or(s,0),Wa(s,Fe,As,!1)),Jn(s,o),((Ye&2)===0||s!==et)&&(s===et&&((Ye&2)===0&&(Dn|=o),ut===4&&Wa(s,Fe,As,!1)),Js(s))}function Ig(s,r,o){if((Ye&6)!==0)throw Error(i(327));var d=!o&&(r&124)===0&&(r&s.expiredLanes)===0||Xs(s,r),m=d?k_(s,r):Zu(s,r,!0),x=d;do{if(m===0){Er&&!d&&Wa(s,r,0,!1);break}else{if(o=s.current.alternate,x&&!E_(o)){m=Zu(s,r,!1),x=!1;continue}if(m===2){if(x=r,s.errorRecoveryDisabledLanes&x)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var O=s;m=no;var U=O.current.memoizedState.isDehydrated;if(U&&(Or(O,C).flags|=256),C=Zu(O,C,!1),C!==2){if(Fu&&!U){O.errorRecoveryDisabledLanes|=x,Dn|=x,m=4;break e}x=is,is=m,x!==null&&(is===null?is=x:is.push.apply(is,x))}m=C}if(x=!1,m!==2)continue}}if(m===1){Or(s,0),Wa(s,r,0,!0);break}e:{switch(d=s,x=m,x){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Wa(d,r,As,!Ga);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Gu+300-St(),10<m)){if(Wa(d,r,As,!Ga),Ys(d,0,!0)!==0)break e;d.timeoutHandle=vx(Gg.bind(null,d,o,is,Wl,Iu,r,As,Dn,Ar,Ga,x,2,-0,0),m);break e}Gg(d,o,is,Wl,Iu,r,As,Dn,Ar,Ga,x,0,-0,0)}}break}while(!0);Js(s)}function Gg(s,r,o,d,m,x,C,O,U,se,ce,he,ae,ie){if(s.timeoutHandle=-1,he=r.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(mo={stylesheets:null,count:0,unsuspend:cN},Vg(r),he=uN(),he!==null)){s.cancelPendingCommit=he(Jg.bind(null,s,r,x,o,d,m,C,O,U,ce,1,ae,ie)),Wa(s,x,C,!se);return}Jg(s,r,x,o,d,m,C,O,U)}function E_(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var m=o[d],x=m.getSnapshot;m=m.value;try{if(!hs(x(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wa(s,r,o,d){r&=~Hu,r&=~Dn,s.suspendedLanes|=r,s.pingedLanes&=~r,d&&(s.warmLanes|=r),d=s.expirationTimes;for(var m=r;0<m;){var x=31-re(m),C=1<<x;d[x]=-1,m&=~C}o!==0&&a0(s,o,r)}function Ql(){return(Ye&6)===0?(io(0),!1):!0}function Wu(){if(Be!==null){if(Xe===0)var s=Be.return;else s=Be,ma=Cn=null,mu(s),Nr=null,Wi=0,s=Be;for(;s!==null;)Sg(s.alternate,s),s=s.return;Be=null}}function Or(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,G_(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Wu(),et=s,Be=o=da(s.current,null),Fe=r,Xe=0,gs=null,Ga=!1,Er=Xs(s,r),Fu=!1,Ar=As=Hu=Dn=Ya=ut=0,is=no=null,Iu=!1,(r&8)!==0&&(r|=r&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=r;0<d;){var m=31-re(d),x=1<<m;r|=s[m],d&=~x}return wa=r,bl(),o}function Yg(s,r){Pe=null,z.H=Bl,r===Ui||r===El?(r=dp(),Xe=3):r===op?(r=dp(),Xe=4):Xe=r===ug?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gs=r,Be===null&&(ut=1,Fl(s,Ns(r,s.current)))}function Xg(){var s=z.H;return z.H=Bl,s===null?Bl:s}function Kg(){var s=z.A;return z.A=T_,s}function Qu(){ut=4,Ga||(Fe&4194048)!==Fe&&Es.current!==null||(Er=!0),(Ya&134217727)===0&&(Dn&134217727)===0||et===null||Wa(et,Fe,As,!1)}function Zu(s,r,o){var d=Ye;Ye|=2;var m=Xg(),x=Kg();(et!==s||Fe!==r)&&(Wl=null,Or(s,r)),r=!1;var C=ut;e:do try{if(Xe!==0&&Be!==null){var O=Be,U=gs;switch(Xe){case 8:Wu(),C=6;break e;case 3:case 2:case 9:case 6:Es.current===null&&(r=!0);var se=Xe;if(Xe=0,gs=null,Dr(s,O,U,se),o&&Er){C=0;break e}break;default:se=Xe,Xe=0,gs=null,Dr(s,O,U,se)}}A_(),C=ut;break}catch(ce){Yg(s,ce)}while(!0);return r&&s.shellSuspendCounter++,ma=Cn=null,Ye=d,z.H=m,z.A=x,Be===null&&(et=null,Fe=0,bl()),C}function A_(){for(;Be!==null;)Wg(Be)}function k_(s,r){var o=Ye;Ye|=2;var d=Xg(),m=Kg();et!==s||Fe!==r?(Wl=null,Kl=St()+500,Or(s,r)):Er=Xs(s,r);e:do try{if(Xe!==0&&Be!==null){r=Be;var x=gs;t:switch(Xe){case 1:Xe=0,gs=null,Dr(s,r,x,1);break;case 2:case 9:if(lp(x)){Xe=0,gs=null,Qg(r);break}r=function(){Xe!==2&&Xe!==9||et!==s||(Xe=7),Js(s)},x.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:lp(x)?(Xe=0,gs=null,Qg(r)):(Xe=0,gs=null,Dr(s,r,x,7));break;case 5:var C=null;switch(Be.tag){case 26:C=Be.memoizedState;case 5:case 27:var O=Be;if(!C||Ox(C)){Xe=0,gs=null;var U=O.sibling;if(U!==null)Be=U;else{var se=O.return;se!==null?(Be=se,Zl(se)):Be=null}break t}}Xe=0,gs=null,Dr(s,r,x,5);break;case 6:Xe=0,gs=null,Dr(s,r,x,6);break;case 8:Wu(),ut=6;break e;default:throw Error(i(462))}}M_();break}catch(ce){Yg(s,ce)}while(!0);return ma=Cn=null,z.H=d,z.A=m,Ye=o,Be!==null?0:(et=null,Fe=0,bl(),ut)}function M_(){for(;Be!==null&&!Oa();)Wg(Be)}function Wg(s){var r=_g(s.alternate,s,wa);s.memoizedProps=s.pendingProps,r===null?Zl(s):Be=r}function Qg(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=xg(o,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=xg(o,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:mu(r);default:Sg(o,r),r=Be=Z0(r,wa),r=_g(o,r,wa)}s.memoizedProps=s.pendingProps,r===null?Zl(s):Be=r}function Dr(s,r,o,d){ma=Cn=null,mu(r),Nr=null,Wi=0;var m=r.return;try{if(v_(s,m,r,o,Fe)){ut=1,Fl(s,Ns(o,s.current)),Be=null;return}}catch(x){if(m!==null)throw Be=m,x;ut=1,Fl(s,Ns(o,s.current)),Be=null;return}r.flags&32768?(Ie||d===1?s=!0:Er||(Fe&536870912)!==0?s=!1:(Ga=s=!0,(d===2||d===9||d===3||d===6)&&(d=Es.current,d!==null&&d.tag===13&&(d.flags|=16384))),Zg(r,s)):Zl(r)}function Zl(s){var r=s;do{if((r.flags&32768)!==0){Zg(r,Ga);return}s=r.return;var o=j_(r.alternate,r,wa);if(o!==null){Be=o;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=s}while(r!==null);ut===0&&(ut=5)}function Zg(s,r){do{var o=__(s.alternate,s);if(o!==null){o.flags&=32767,Be=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Be=s;return}Be=s=o}while(s!==null);ut=6,Be=null}function Jg(s,r,o,d,m,x,C,O,U){s.cancelPendingCommit=null;do Jl();while(Vt!==0);if((Ye&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(x=r.lanes|r.childLanes,x|=qd,_i(s,o,x,C,O,U),s===et&&(Be=et=null,Fe=0),kr=r,Ka=s,Mr=o,Yu=x,Xu=m,Fg=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,P_(te,function(){return nx(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=z.T,z.T=null,m=R.p,R.p=2,C=Ye,Ye|=4;try{N_(s,r,o)}finally{Ye=C,R.p=m,z.T=d}}Vt=1,ex(),tx(),sx()}}function ex(){if(Vt===1){Vt=0;var s=Ka,r=kr,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var d=R.p;R.p=2;var m=Ye;Ye|=4;try{zg(r,s);var x=dh,C=q0(s.containerInfo),O=x.focusedElem,U=x.selectionRange;if(C!==O&&O&&O.ownerDocument&&U0(O.ownerDocument.documentElement,O)){if(U!==null&&Ld(O)){var se=U.start,ce=U.end;if(ce===void 0&&(ce=se),"selectionStart"in O)O.selectionStart=se,O.selectionEnd=Math.min(ce,O.value.length);else{var he=O.ownerDocument||document,ae=he&&he.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),Ce=O.textContent.length,Se=Math.min(U.start,Ce),Ze=U.end===void 0?Se:Math.min(U.end,Ce);!ie.extend&&Se>Ze&&(C=Ze,Ze=Se,Se=C);var W=$0(O,Se),G=$0(O,Ze);if(W&&G&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==G.node||ie.focusOffset!==G.offset)){var ee=he.createRange();ee.setStart(W.node,W.offset),ie.removeAllRanges(),Se>Ze?(ie.addRange(ee),ie.extend(G.node,G.offset)):(ee.setEnd(G.node,G.offset),ie.addRange(ee))}}}}for(he=[],ie=O;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var de=he[O];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}uc=!!ch,dh=ch=null}finally{Ye=m,R.p=d,z.T=o}}s.current=r,Vt=2}}function tx(){if(Vt===2){Vt=0;var s=Ka,r=kr,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var d=R.p;R.p=2;var m=Ye;Ye|=4;try{Og(s,r.alternate,r)}finally{Ye=m,R.p=d,z.T=o}}Vt=3}}function sx(){if(Vt===4||Vt===3){Vt=0,gn();var s=Ka,r=kr,o=Mr,d=Fg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,kr=Ka=null,ax(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Xa=null),gd(o),r=r.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(je,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=z.T,m=R.p,R.p=2,z.T=null;try{for(var x=s.onRecoverableError,C=0;C<d.length;C++){var O=d[C];x(O.value,{componentStack:O.stack})}}finally{z.T=r,R.p=m}}(Mr&3)!==0&&Jl(),Js(s),m=s.pendingLanes,(o&4194090)!==0&&(m&42)!==0?s===Ku?ro++:(ro=0,Ku=s):ro=0,io(0)}}function ax(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Vi(r)))}function Jl(s){return ex(),tx(),sx(),nx()}function nx(){if(Vt!==5)return!1;var s=Ka,r=Yu;Yu=0;var o=gd(Mr),d=z.T,m=R.p;try{R.p=32>o?32:o,z.T=null,o=Xu,Xu=null;var x=Ka,C=Mr;if(Vt=0,kr=Ka=null,Mr=0,(Ye&6)!==0)throw Error(i(331));var O=Ye;if(Ye|=4,Ug(x.current),Bg(x,x.current,C,o),Ye=O,io(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(je,x)}catch{}return!0}finally{R.p=m,z.T=d,ax(s,r)}}function rx(s,r,o){r=Ns(o,r),r=Cu(s.stateNode,r,2),s=Va(s,r,2),s!==null&&(Jn(s,2),Js(s))}function Je(s,r,o){if(s.tag===3)rx(s,s,o);else for(;r!==null;){if(r.tag===3){rx(r,s,o);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xa===null||!Xa.has(d))){s=Ns(o,s),o=cg(2),d=Va(r,o,2),d!==null&&(dg(o,d,r,s),Jn(d,2),Js(d));break}}r=r.return}}function Ju(s,r,o){var d=s.pingCache;if(d===null){d=s.pingCache=new C_;var m=new Set;d.set(r,m)}else m=d.get(r),m===void 0&&(m=new Set,d.set(r,m));m.has(o)||(Fu=!0,m.add(o),s=O_.bind(null,s,r,o),r.then(s,s))}function O_(s,r,o){var d=s.pingCache;d!==null&&d.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,et===s&&(Fe&o)===o&&(ut===4||ut===3&&(Fe&62914560)===Fe&&300>St()-Gu?(Ye&2)===0&&Or(s,0):Hu|=o,Ar===Fe&&(Ar=0)),Js(s)}function ix(s,r){r===0&&(r=wi()),s=fr(s,r),s!==null&&(Jn(s,r),Js(s))}function D_(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),ix(s,o)}function R_(s,r){var o=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),ix(s,o)}function P_(s,r){return Lt(s,r)}var ec=null,Rr=null,eh=!1,tc=!1,th=!1,Rn=0;function Js(s){s!==Rr&&s.next===null&&(Rr===null?ec=Rr=s:Rr=Rr.next=s),tc=!0,eh||(eh=!0,L_())}function io(s,r){if(!th&&tc){th=!0;do for(var o=!1,d=ec;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var x=0;else{var C=d.suspendedLanes,O=d.pingedLanes;x=(1<<31-re(42|s)+1)-1,x&=m&~(C&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,dx(d,x))}else x=Fe,x=Ys(d,d===et?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Xs(d,x)||(o=!0,dx(d,x));d=d.next}while(o);th=!1}}function z_(){ox()}function ox(){tc=eh=!1;var s=0;Rn!==0&&(I_()&&(s=Rn),Rn=0);for(var r=St(),o=null,d=ec;d!==null;){var m=d.next,x=lx(d,r);x===0?(d.next=null,o===null?ec=m:o.next=m,m===null&&(Rr=o)):(o=d,(s!==0||(x&3)!==0)&&(tc=!0)),d=m}io(s)}function lx(s,r){for(var o=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var C=31-re(x),O=1<<C,U=m[C];U===-1?((O&o)===0||(O&d)!==0)&&(m[C]=xn(O,r)):U<=r&&(s.expiredLanes|=O),x&=~O}if(r=et,o=Fe,o=Ys(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,o===0||s===r&&(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ds(d),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Xs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(d!==null&&ds(d),gd(o)){case 2:case 8:o=H;break;case 32:o=te;break;case 268435456:o=pe;break;default:o=te}return d=cx.bind(null,s),o=Lt(o,d),s.callbackPriority=r,s.callbackNode=o,r}return d!==null&&d!==null&&ds(d),s.callbackPriority=2,s.callbackNode=null,2}function cx(s,r){if(Vt!==0&&Vt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Jl()&&s.callbackNode!==o)return null;var d=Fe;return d=Ys(s,s===et?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(Ig(s,d,r),lx(s,St()),s.callbackNode!=null&&s.callbackNode===o?cx.bind(null,s):null)}function dx(s,r){if(Jl())return null;Ig(s,r,!0)}function L_(){Y_(function(){(Ye&6)!==0?Lt(Rs,z_):ox()})}function sh(){return Rn===0&&(Rn=vi()),Rn}function ux(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hl(""+s)}function hx(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function B_(s,r,o,d,m){if(r==="submit"&&o&&o.stateNode===m){var x=ux((m[ss]||null).action),C=d.submitter;C&&(r=(r=C[ss]||null)?ux(r.formAction):C.getAttribute("formAction"),r!==null&&(x=r,C=null));var O=new gl("action","action",null,d,m);s.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Rn!==0){var U=C?hx(m,C):new FormData(m);ju(o,{pending:!0,data:U,method:m.method,action:x},null,U)}}else typeof x=="function"&&(O.preventDefault(),U=C?hx(m,C):new FormData(m),ju(o,{pending:!0,data:U,method:m.method,action:x},x,U))},currentTarget:m}]})}}for(var ah=0;ah<Ud.length;ah++){var nh=Ud[ah],V_=nh.toLowerCase(),$_=nh[0].toUpperCase()+nh.slice(1);Ps(V_,"on"+$_)}Ps(I0,"onAnimationEnd"),Ps(G0,"onAnimationIteration"),Ps(Y0,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(a_,"onTransitionRun"),Ps(n_,"onTransitionStart"),Ps(r_,"onTransitionCancel"),Ps(X0,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function mx(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var d=s[o],m=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var C=d.length-1;0<=C;C--){var O=d[C],U=O.instance,se=O.currentTarget;if(O=O.listener,U!==x&&m.isPropagationStopped())break e;x=O,m.currentTarget=se;try{x(m)}catch(ce){ql(ce)}m.currentTarget=null,x=U}else for(C=0;C<d.length;C++){if(O=d[C],U=O.instance,se=O.currentTarget,O=O.listener,U!==x&&m.isPropagationStopped())break e;x=O,m.currentTarget=se;try{x(m)}catch(ce){ql(ce)}m.currentTarget=null,x=U}}}}function Ve(s,r){var o=r[xd];o===void 0&&(o=r[xd]=new Set);var d=s+"__bubble";o.has(d)||(fx(r,s,2,!1),o.add(d))}function rh(s,r,o){var d=0;r&&(d|=4),fx(o,s,d,r)}var sc="_reactListening"+Math.random().toString(36).slice(2);function ih(s){if(!s[sc]){s[sc]=!0,o0.forEach(function(o){o!=="selectionchange"&&(U_.has(o)||rh(o,!1,s),rh(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[sc]||(r[sc]=!0,rh("selectionchange",!1,r))}}function fx(s,r,o,d){switch(Bx(r)){case 2:var m=fN;break;case 8:m=pN;break;default:m=vh}o=m.bind(null,r,o,s),m=void 0,!Ed||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function oh(s,r,o,d,m){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var O=d.stateNode.containerInfo;if(O===m)break;if(C===4)for(C=d.return;C!==null;){var U=C.tag;if((U===3||U===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;O!==null;){if(C=tr(O),C===null)return;if(U=C.tag,U===5||U===6||U===26||U===27){d=x=C;continue e}O=O.parentNode}}d=d.return}w0(function(){var se=x,ce=Td(o),he=[];e:{var ae=K0.get(s);if(ae!==void 0){var ie=gl,Ce=s;switch(s){case"keypress":if(fl(o)===0)break e;case"keydown":case"keyup":ie=P1;break;case"focusin":Ce="focus",ie=Od;break;case"focusout":Ce="blur",ie=Od;break;case"beforeblur":case"afterblur":ie=Od;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=_1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=B1;break;case I0:case G0:case Y0:ie=T1;break;case X0:ie=$1;break;case"scroll":case"scrollend":ie=w1;break;case"wheel":ie=q1;break;case"copy":case"cut":case"paste":ie=E1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=T0;break;case"toggle":case"beforetoggle":ie=H1}var Se=(r&4)!==0,Ze=!Se&&(s==="scroll"||s==="scrollend"),W=Se?ae!==null?ae+"Capture":null:ae;Se=[];for(var G=se,ee;G!==null;){var de=G;if(ee=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ee===null||W===null||(de=Ti(G,W),de!=null&&Se.push(lo(G,de,ee))),Ze)break;G=G.return}0<Se.length&&(ae=new ie(ae,Ce,null,o,ce),he.push({event:ae,listeners:Se}))}}if((r&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",ae&&o!==Sd&&(Ce=o.relatedTarget||o.fromElement)&&(tr(Ce)||Ce[er]))break e;if((ie||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(Ce=o.relatedTarget||o.toElement,ie=se,Ce=Ce?tr(Ce):null,Ce!==null&&(Ze=c(Ce),Se=Ce.tag,Ce!==Ze||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(ie=null,Ce=se),ie!==Ce)){if(Se=N0,de="onMouseLeave",W="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Se=T0,de="onPointerLeave",W="onPointerEnter",G="pointer"),Ze=ie==null?ae:Si(ie),ee=Ce==null?ae:Si(Ce),ae=new Se(de,G+"leave",ie,o,ce),ae.target=Ze,ae.relatedTarget=ee,de=null,tr(ce)===se&&(Se=new Se(W,G+"enter",Ce,o,ce),Se.target=ee,Se.relatedTarget=Ze,de=Se),Ze=de,ie&&Ce)t:{for(Se=ie,W=Ce,G=0,ee=Se;ee;ee=Pr(ee))G++;for(ee=0,de=W;de;de=Pr(de))ee++;for(;0<G-ee;)Se=Pr(Se),G--;for(;0<ee-G;)W=Pr(W),ee--;for(;G--;){if(Se===W||W!==null&&Se===W.alternate)break t;Se=Pr(Se),W=Pr(W)}Se=null}else Se=null;ie!==null&&px(he,ae,ie,Se,!1),Ce!==null&&Ze!==null&&px(he,Ze,Ce,Se,!0)}}e:{if(ae=se?Si(se):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var ve=R0;else if(O0(ae))if(P0)ve=e_;else{ve=Z1;var Le=Q1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&Nd(se.elementType)&&(ve=R0):ve=J1;if(ve&&(ve=ve(s,se))){D0(he,ve,o,ce);break e}Le&&Le(s,ae,se),s==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&_d(ae,"number",ae.value)}switch(Le=se?Si(se):window,s){case"focusin":(O0(Le)||Le.contentEditable==="true")&&(ur=Le,Bd=se,Ri=null);break;case"focusout":Ri=Bd=ur=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,F0(he,o,ce);break;case"selectionchange":if(s_)break;case"keydown":case"keyup":F0(he,o,ce)}var Ne;if(Rd)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else dr?k0(s,o)&&(Te="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(C0&&o.locale!=="ko"&&(dr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&dr&&(Ne=j0()):(Pa=ce,Ad="value"in Pa?Pa.value:Pa.textContent,dr=!0)),Le=ac(se,Te),0<Le.length&&(Te=new S0(Te,s,null,o,ce),he.push({event:Te,listeners:Le}),Ne?Te.data=Ne:(Ne=M0(o),Ne!==null&&(Te.data=Ne)))),(Ne=G1?Y1(s,o):X1(s,o))&&(Te=ac(se,"onBeforeInput"),0<Te.length&&(Le=new S0("onBeforeInput","beforeinput",null,o,ce),he.push({event:Le,listeners:Te}),Le.data=Ne)),B_(he,s,se,o,ce)}mx(he,r)})}function lo(s,r,o){return{instance:s,listener:r,currentTarget:o}}function ac(s,r){for(var o=r+"Capture",d=[];s!==null;){var m=s,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Ti(s,o),m!=null&&d.unshift(lo(s,m,x)),m=Ti(s,r),m!=null&&d.push(lo(s,m,x))),s.tag===3)return d;s=s.return}return[]}function Pr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function px(s,r,o,d,m){for(var x=r._reactName,C=[];o!==null&&o!==d;){var O=o,U=O.alternate,se=O.stateNode;if(O=O.tag,U!==null&&U===d)break;O!==5&&O!==26&&O!==27||se===null||(U=se,m?(se=Ti(o,x),se!=null&&C.unshift(lo(o,se,U))):m||(se=Ti(o,x),se!=null&&C.push(lo(o,se,U)))),o=o.return}C.length!==0&&s.push({event:r,listeners:C})}var q_=/\r\n?/g,F_=/\u0000|\uFFFD/g;function gx(s){return(typeof s=="string"?s:""+s).replace(q_,`
`).replace(F_,"")}function xx(s,r){return r=gx(r),gx(s)===r}function nc(){}function Qe(s,r,o,d,m,x){switch(o){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||or(s,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&or(s,""+d);break;case"className":cl(s,"class",d);break;case"tabIndex":cl(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":cl(s,o,d);break;case"style":b0(s,d,x);break;case"data":if(r!=="object"){cl(s,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=hl(""+d),s.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(r!=="input"&&Qe(s,r,"name",m.name,m,null),Qe(s,r,"formEncType",m.formEncType,m,null),Qe(s,r,"formMethod",m.formMethod,m,null),Qe(s,r,"formTarget",m.formTarget,m,null)):(Qe(s,r,"encType",m.encType,m,null),Qe(s,r,"method",m.method,m,null),Qe(s,r,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=hl(""+d),s.setAttribute(o,d);break;case"onClick":d!=null&&(s.onclick=nc);break;case"onScroll":d!=null&&Ve("scroll",s);break;case"onScrollEnd":d!=null&&Ve("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}o=hl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""+d):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":d===!0?s.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,d):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(o,d):s.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(o):s.setAttribute(o,d);break;case"popover":Ve("beforetoggle",s),Ve("toggle",s),ll(s,"popover",d);break;case"xlinkActuate":la(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":la(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":la(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":la(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":la(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":la(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":la(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":la(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":la(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ll(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=b1.get(o)||o,ll(s,o,d))}}function lh(s,r,o,d,m,x){switch(o){case"style":b0(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof d=="string"?or(s,d):(typeof d=="number"||typeof d=="bigint")&&or(s,""+d);break;case"onScroll":d!=null&&Ve("scroll",s);break;case"onScrollEnd":d!=null&&Ve("scrollend",s);break;case"onClick":d!=null&&(s.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!l0.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),x=s[ss]||null,x=x!=null?x[o]:null,typeof x=="function"&&s.removeEventListener(r,x,m),typeof d=="function")){typeof x!="function"&&x!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,d,m);break e}o in s?s[o]=d:d===!0?s.setAttribute(o,""):ll(s,o,d)}}}function $t(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",s),Ve("load",s);var d=!1,m=!1,x;for(x in o)if(o.hasOwnProperty(x)){var C=o[x];if(C!=null)switch(x){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Qe(s,r,x,C,o,null)}}m&&Qe(s,r,"srcSet",o.srcSet,o,null),d&&Qe(s,r,"src",o.src,o,null);return;case"input":Ve("invalid",s);var O=x=C=m=null,U=null,se=null;for(d in o)if(o.hasOwnProperty(d)){var ce=o[d];if(ce!=null)switch(d){case"name":m=ce;break;case"type":C=ce;break;case"checked":U=ce;break;case"defaultChecked":se=ce;break;case"value":x=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:Qe(s,r,d,ce,o,null)}}p0(s,x,O,U,se,C,m,!1),dl(s);return;case"select":Ve("invalid",s),d=C=x=null;for(m in o)if(o.hasOwnProperty(m)&&(O=o[m],O!=null))switch(m){case"value":x=O;break;case"defaultValue":C=O;break;case"multiple":d=O;default:Qe(s,r,m,O,o,null)}r=x,o=C,s.multiple=!!d,r!=null?ir(s,!!d,r,!1):o!=null&&ir(s,!!d,o,!0);return;case"textarea":Ve("invalid",s),x=m=d=null;for(C in o)if(o.hasOwnProperty(C)&&(O=o[C],O!=null))switch(C){case"value":d=O;break;case"defaultValue":m=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Qe(s,r,C,O,o,null)}x0(s,d,m,x),dl(s);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(d=o[U],d!=null))switch(U){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Qe(s,r,U,d,o,null)}return;case"dialog":Ve("beforetoggle",s),Ve("toggle",s),Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":Ve("load",s);break;case"video":case"audio":for(d=0;d<oo.length;d++)Ve(oo[d],s);break;case"image":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"embed":case"source":case"link":Ve("error",s),Ve("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(d=o[se],d!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Qe(s,r,se,d,o,null)}return;default:if(Nd(r)){for(ce in o)o.hasOwnProperty(ce)&&(d=o[ce],d!==void 0&&lh(s,r,ce,d,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(d=o[O],d!=null&&Qe(s,r,O,d,o,null))}function H_(s,r,o,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,C=null,O=null,U=null,se=null,ce=null;for(ie in o){var he=o[ie];if(o.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=he;default:d.hasOwnProperty(ie)||Qe(s,r,ie,null,d,he)}}for(var ae in d){var ie=d[ae];if(he=o[ae],d.hasOwnProperty(ae)&&(ie!=null||he!=null))switch(ae){case"type":x=ie;break;case"name":m=ie;break;case"checked":se=ie;break;case"defaultChecked":ce=ie;break;case"value":C=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:ie!==he&&Qe(s,r,ae,ie,d,he)}}jd(s,C,O,U,se,ce,x,m);return;case"select":ie=C=O=ae=null;for(x in o)if(U=o[x],o.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":ie=U;default:d.hasOwnProperty(x)||Qe(s,r,x,null,d,U)}for(m in d)if(x=d[m],U=o[m],d.hasOwnProperty(m)&&(x!=null||U!=null))switch(m){case"value":ae=x;break;case"defaultValue":O=x;break;case"multiple":C=x;default:x!==U&&Qe(s,r,m,x,d,U)}r=O,o=C,d=ie,ae!=null?ir(s,!!o,ae,!1):!!d!=!!o&&(r!=null?ir(s,!!o,r,!0):ir(s,!!o,o?[]:"",!1));return;case"textarea":ie=ae=null;for(O in o)if(m=o[O],o.hasOwnProperty(O)&&m!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Qe(s,r,O,null,d,m)}for(C in d)if(m=d[C],x=o[C],d.hasOwnProperty(C)&&(m!=null||x!=null))switch(C){case"value":ae=m;break;case"defaultValue":ie=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==x&&Qe(s,r,C,m,d,x)}g0(s,ae,ie);return;case"option":for(var Ce in o)if(ae=o[Ce],o.hasOwnProperty(Ce)&&ae!=null&&!d.hasOwnProperty(Ce))switch(Ce){case"selected":s.selected=!1;break;default:Qe(s,r,Ce,null,d,ae)}for(U in d)if(ae=d[U],ie=o[U],d.hasOwnProperty(U)&&ae!==ie&&(ae!=null||ie!=null))switch(U){case"selected":s.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Qe(s,r,U,ae,d,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)ae=o[Se],o.hasOwnProperty(Se)&&ae!=null&&!d.hasOwnProperty(Se)&&Qe(s,r,Se,null,d,ae);for(se in d)if(ae=d[se],ie=o[se],d.hasOwnProperty(se)&&ae!==ie&&(ae!=null||ie!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:Qe(s,r,se,ae,d,ie)}return;default:if(Nd(r)){for(var Ze in o)ae=o[Ze],o.hasOwnProperty(Ze)&&ae!==void 0&&!d.hasOwnProperty(Ze)&&lh(s,r,Ze,void 0,d,ae);for(ce in d)ae=d[ce],ie=o[ce],!d.hasOwnProperty(ce)||ae===ie||ae===void 0&&ie===void 0||lh(s,r,ce,ae,d,ie);return}}for(var W in o)ae=o[W],o.hasOwnProperty(W)&&ae!=null&&!d.hasOwnProperty(W)&&Qe(s,r,W,null,d,ae);for(he in d)ae=d[he],ie=o[he],!d.hasOwnProperty(he)||ae===ie||ae==null&&ie==null||Qe(s,r,he,ae,d,ie)}var ch=null,dh=null;function rc(s){return s.nodeType===9?s:s.ownerDocument}function yx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bx(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function uh(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hh=null;function I_(){var s=window.event;return s&&s.type==="popstate"?s===hh?!1:(hh=s,!0):(hh=null,!1)}var vx=typeof setTimeout=="function"?setTimeout:void 0,G_=typeof clearTimeout=="function"?clearTimeout:void 0,wx=typeof Promise=="function"?Promise:void 0,Y_=typeof queueMicrotask=="function"?queueMicrotask:typeof wx<"u"?function(s){return wx.resolve(null).then(s).catch(X_)}:vx;function X_(s){setTimeout(function(){throw s})}function Qa(s){return s==="head"}function jx(s,r){var o=r,d=0,m=0;do{var x=o.nextSibling;if(s.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(0<d&&8>d){o=d;var C=s.ownerDocument;if(o&1&&co(C.documentElement),o&2&&co(C.body),o&4)for(o=C.head,co(o),C=o.firstChild;C;){var O=C.nextSibling,U=C.nodeName;C[Ni]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&C.rel.toLowerCase()==="stylesheet"||o.removeChild(C),C=O}}if(m===0){s.removeChild(x),yo(r);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:d=o.charCodeAt(0)-48;else d=0;o=x}while(o);yo(r)}function mh(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mh(o),yd(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function K_(s,r,o,d){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Ni])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Ls(s.nextSibling),s===null)break}return null}function W_(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ls(s.nextSibling),s===null))return null;return s}function fh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Q_(s,r){var o=s.ownerDocument;if(s.data!=="$?"||o.readyState==="complete")r();else{var d=function(){r(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Ls(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var ph=null;function _x(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return s;r--}else o==="/$"&&r++}s=s.previousSibling}return null}function Nx(s,r,o){switch(r=rc(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function co(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);yd(s)}var ks=new Map,Sx=new Set;function ic(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ja=R.d;R.d={f:Z_,r:J_,D:eN,C:tN,L:sN,m:aN,X:rN,S:nN,M:iN};function Z_(){var s=ja.f(),r=Ql();return s||r}function J_(s){var r=sr(s);r!==null&&r.tag===5&&r.type==="form"?Ip(r):ja.r(s)}var zr=typeof document>"u"?null:document;function Tx(s,r,o){var d=zr;if(d&&typeof r=="string"&&r){var m=_s(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Sx.has(m)||(Sx.add(m),s={rel:s,crossOrigin:o,href:r},d.querySelector(m)===null&&(r=d.createElement("link"),$t(r,"link",s),Mt(r),d.head.appendChild(r)))}}function eN(s){ja.D(s),Tx("dns-prefetch",s,null)}function tN(s,r){ja.C(s,r),Tx("preconnect",s,r)}function sN(s,r,o){ja.L(s,r,o);var d=zr;if(d&&s&&r){var m='link[rel="preload"][as="'+_s(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+_s(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+_s(o.imageSizes)+'"]')):m+='[href="'+_s(s)+'"]';var x=m;switch(r){case"style":x=Lr(s);break;case"script":x=Br(s)}ks.has(x)||(s=g({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ks.set(x,s),d.querySelector(m)!==null||r==="style"&&d.querySelector(uo(x))||r==="script"&&d.querySelector(ho(x))||(r=d.createElement("link"),$t(r,"link",s),Mt(r),d.head.appendChild(r)))}}function aN(s,r){ja.m(s,r);var o=zr;if(o&&s){var d=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+_s(d)+'"][href="'+_s(s)+'"]',x=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Br(s)}if(!ks.has(x)&&(s=g({rel:"modulepreload",href:s},r),ks.set(x,s),o.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ho(x)))return}d=o.createElement("link"),$t(d,"link",s),Mt(d),o.head.appendChild(d)}}}function nN(s,r,o){ja.S(s,r,o);var d=zr;if(d&&s){var m=ar(d).hoistableStyles,x=Lr(s);r=r||"default";var C=m.get(x);if(!C){var O={loading:0,preload:null};if(C=d.querySelector(uo(x)))O.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ks.get(x))&&gh(s,o);var U=C=d.createElement("link");Mt(U),$t(U,"link",s),U._p=new Promise(function(se,ce){U.onload=se,U.onerror=ce}),U.addEventListener("load",function(){O.loading|=1}),U.addEventListener("error",function(){O.loading|=2}),O.loading|=4,oc(C,r,d)}C={type:"stylesheet",instance:C,count:1,state:O},m.set(x,C)}}}function rN(s,r){ja.X(s,r);var o=zr;if(o&&s){var d=ar(o).hoistableScripts,m=Br(s),x=d.get(m);x||(x=o.querySelector(ho(m)),x||(s=g({src:s,async:!0},r),(r=ks.get(m))&&xh(s,r),x=o.createElement("script"),Mt(x),$t(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function iN(s,r){ja.M(s,r);var o=zr;if(o&&s){var d=ar(o).hoistableScripts,m=Br(s),x=d.get(m);x||(x=o.querySelector(ho(m)),x||(s=g({src:s,async:!0,type:"module"},r),(r=ks.get(m))&&xh(s,r),x=o.createElement("script"),Mt(x),$t(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function Cx(s,r,o,d){var m=(m=fe.current)?ic(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Lr(o.href),o=ar(m).hoistableStyles,d=o.get(r),d||(d={type:"style",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Lr(o.href);var x=ar(m).hoistableStyles,C=x.get(s);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,C),(x=m.querySelector(uo(s)))&&!x._p&&(C.instance=x,C.state.loading=5),ks.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ks.set(s,o),x||oN(m,s,o,C.state))),r&&d===null)throw Error(i(528,""));return C}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Br(o),o=ar(m).hoistableScripts,d=o.get(r),d||(d={type:"script",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Lr(s){return'href="'+_s(s)+'"'}function uo(s){return'link[rel="stylesheet"]['+s+"]"}function Ex(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function oN(s,r,o,d){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=s.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),$t(r,"link",o),Mt(r),s.head.appendChild(r))}function Br(s){return'[src="'+_s(s)+'"]'}function ho(s){return"script[async]"+s}function Ax(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var d=s.querySelector('style[data-href~="'+_s(o.href)+'"]');if(d)return r.instance=d,Mt(d),d;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Mt(d),$t(d,"style",m),oc(d,o.precedence,s),r.instance=d;case"stylesheet":m=Lr(o.href);var x=s.querySelector(uo(m));if(x)return r.state.loading|=4,r.instance=x,Mt(x),x;d=Ex(o),(m=ks.get(m))&&gh(d,m),x=(s.ownerDocument||s).createElement("link"),Mt(x);var C=x;return C._p=new Promise(function(O,U){C.onload=O,C.onerror=U}),$t(x,"link",d),r.state.loading|=4,oc(x,o.precedence,s),r.instance=x;case"script":return x=Br(o.src),(m=s.querySelector(ho(x)))?(r.instance=m,Mt(m),m):(d=o,(m=ks.get(x))&&(d=g({},o),xh(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),Mt(m),$t(m,"link",d),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,oc(d,o.precedence,s));return r.instance}function oc(s,r,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,x=m,C=0;C<d.length;C++){var O=d[C];if(O.dataset.precedence===r)x=O;else if(x!==m)break}x?x.parentNode.insertBefore(s,x.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function gh(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function xh(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var lc=null;function kx(s,r,o){if(lc===null){var d=new Map,m=lc=new Map;m.set(o,d)}else m=lc,d=m.get(o),d||(d=new Map,m.set(o,d));if(d.has(s))return d;for(d.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var x=o[m];if(!(x[Ni]||x[Ht]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(r)||"";C=s+C;var O=d.get(C);O?O.push(x):d.set(C,[x])}}return d}function Mx(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function lN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ox(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var mo=null;function cN(){}function dN(s,r,o){if(mo===null)throw Error(i(475));var d=mo;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Lr(o.href),x=s.querySelector(uo(m));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=cc.bind(d),s.then(d,d)),r.state.loading|=4,r.instance=x,Mt(x);return}x=s.ownerDocument||s,o=Ex(o),(m=ks.get(m))&&gh(o,m),x=x.createElement("link"),Mt(x);var C=x;C._p=new Promise(function(O,U){C.onload=O,C.onerror=U}),$t(x,"link",o),r.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=cc.bind(d),s.addEventListener("load",r),s.addEventListener("error",r))}}function uN(){if(mo===null)throw Error(i(475));var s=mo;return s.stylesheets&&s.count===0&&yh(s,s.stylesheets),0<s.count?function(r){var o=setTimeout(function(){if(s.stylesheets&&yh(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(o)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dc=null;function yh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dc=new Map,r.forEach(hN,s),dc=null,cc.call(s))}function hN(s,r){if(!(r.state.loading&4)){var o=dc.get(s);if(o)var d=o.get(null);else{o=new Map,dc.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var C=m[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),d=C)}d&&o.set(null,d)}m=r.instance,C=m.getAttribute("data-precedence"),x=o.get(C)||d,x===d&&o.set(null,m),o.set(C,m),this.count++,d=cc.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),x?x.parentNode.insertBefore(m,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var fo={$$typeof:A,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function mN(s,r,o,d,m,x,C,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Dx(s,r,o,d,m,x,C,O,U,se,ce,he){return s=new mN(s,r,o,C,O,U,se,he),r=1,x===!0&&(r|=24),x=ms(3,null,null,r),s.current=x,x.stateNode=s,r=Jd(),r.refCount++,s.pooledCache=r,r.refCount++,x.memoizedState={element:d,isDehydrated:o,cache:r},au(x),s}function Rx(s){return s?(s=pr,s):pr}function Px(s,r,o,d,m,x){m=Rx(m),d.context===null?d.context=m:d.pendingContext=m,d=Ba(r),d.payload={element:o},x=x===void 0?null:x,x!==null&&(d.callback=x),o=Va(s,d,r),o!==null&&(ys(o,s,r),Fi(o,s,r))}function zx(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function bh(s,r){zx(s,r),(s=s.alternate)&&zx(s,r)}function Lx(s){if(s.tag===13){var r=fr(s,67108864);r!==null&&ys(r,s,67108864),bh(s,67108864)}}var uc=!0;function fN(s,r,o,d){var m=z.T;z.T=null;var x=R.p;try{R.p=2,vh(s,r,o,d)}finally{R.p=x,z.T=m}}function pN(s,r,o,d){var m=z.T;z.T=null;var x=R.p;try{R.p=8,vh(s,r,o,d)}finally{R.p=x,z.T=m}}function vh(s,r,o,d){if(uc){var m=wh(d);if(m===null)oh(s,r,d,hc,o),Vx(s,d);else if(xN(m,s,r,o,d))d.stopPropagation();else if(Vx(s,d),r&4&&-1<gN.indexOf(s)){for(;m!==null;){var x=sr(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=ws(x.pendingLanes);if(C!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var U=1<<31-re(C);O.entanglements[1]|=U,C&=~U}Js(x),(Ye&6)===0&&(Kl=St()+500,io(0))}}break;case 13:O=fr(x,2),O!==null&&ys(O,x,2),Ql(),bh(x,2)}if(x=wh(d),x===null&&oh(s,r,d,hc,o),x===m)break;m=x}m!==null&&d.stopPropagation()}else oh(s,r,d,null,o)}}function wh(s){return s=Td(s),jh(s)}var hc=null;function jh(s){if(hc=null,s=tr(s),s!==null){var r=c(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return hc=s,null}function Bx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Da()){case Rs:return 2;case H:return 8;case te:case X:return 32;case pe:return 268435456;default:return 32}default:return 32}}var _h=!1,Za=null,Ja=null,en=null,po=new Map,go=new Map,tn=[],gN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vx(s,r){switch(s){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":po.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(r.pointerId)}}function xo(s,r,o,d,m,x){return s===null||s.nativeEvent!==x?(s={blockedOn:r,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},r!==null&&(r=sr(r),r!==null&&Lx(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function xN(s,r,o,d,m){switch(r){case"focusin":return Za=xo(Za,s,r,o,d,m),!0;case"dragenter":return Ja=xo(Ja,s,r,o,d,m),!0;case"mouseover":return en=xo(en,s,r,o,d,m),!0;case"pointerover":var x=m.pointerId;return po.set(x,xo(po.get(x)||null,s,r,o,d,m)),!0;case"gotpointercapture":return x=m.pointerId,go.set(x,xo(go.get(x)||null,s,r,o,d,m)),!0}return!1}function $x(s){var r=tr(s.target);if(r!==null){var o=c(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,d1(s.priority,function(){if(o.tag===13){var d=xs();d=pd(d);var m=fr(o,d);m!==null&&ys(m,o,d),bh(o,d)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mc(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=wh(s.nativeEvent);if(o===null){o=s.nativeEvent;var d=new o.constructor(o.type,o);Sd=d,o.target.dispatchEvent(d),Sd=null}else return r=sr(o),r!==null&&Lx(r),s.blockedOn=o,!1;r.shift()}return!0}function Ux(s,r,o){mc(s)&&o.delete(r)}function yN(){_h=!1,Za!==null&&mc(Za)&&(Za=null),Ja!==null&&mc(Ja)&&(Ja=null),en!==null&&mc(en)&&(en=null),po.forEach(Ux),go.forEach(Ux)}function fc(s,r){s.blockedOn===r&&(s.blockedOn=null,_h||(_h=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yN)))}var pc=null;function qx(s){pc!==s&&(pc=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pc===s&&(pc=null);for(var r=0;r<s.length;r+=3){var o=s[r],d=s[r+1],m=s[r+2];if(typeof d!="function"){if(jh(d||o)===null)continue;break}var x=sr(o);x!==null&&(s.splice(r,3),r-=3,ju(x,{pending:!0,data:m,method:o.method,action:d},d,m))}}))}function yo(s){function r(U){return fc(U,s)}Za!==null&&fc(Za,s),Ja!==null&&fc(Ja,s),en!==null&&fc(en,s),po.forEach(r),go.forEach(r);for(var o=0;o<tn.length;o++){var d=tn[o];d.blockedOn===s&&(d.blockedOn=null)}for(;0<tn.length&&(o=tn[0],o.blockedOn===null);)$x(o),o.blockedOn===null&&tn.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var m=o[d],x=o[d+1],C=m[ss]||null;if(typeof x=="function")C||qx(o);else if(C){var O=null;if(x&&x.hasAttribute("formAction")){if(m=x,C=x[ss]||null)O=C.formAction;else if(jh(m)!==null)continue}else O=C.action;typeof O=="function"?o[d+1]=O:(o.splice(d,3),d-=3),qx(o)}}}function Nh(s){this._internalRoot=s}gc.prototype.render=Nh.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,d=xs();Px(o,d,s,r,null,null)},gc.prototype.unmount=Nh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Px(s.current,2,null,s,null,null),Ql(),r[er]=null}};function gc(s){this._internalRoot=s}gc.prototype.unstable_scheduleHydration=function(s){if(s){var r=r0();s={blockedOn:null,target:s,priority:r};for(var o=0;o<tn.length&&r!==0&&r<tn[o].priority;o++);tn.splice(o,0,s),o===0&&$x(s)}};var Fx=t.version;if(Fx!=="19.1.0")throw Error(i(527,Fx,"19.1.0"));R.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var bN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{je=xc.inject(bN),Ae=xc}catch{}}return vo.createRoot=function(s,r){if(!l(s))throw Error(i(299));var o=!1,d="",m=rg,x=ig,C=og,O=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks)),r=Dx(s,1,!1,null,null,o,d,m,x,C,O,null),s[er]=r.current,ih(s),new Nh(r)},vo.hydrateRoot=function(s,r,o){if(!l(s))throw Error(i(299));var d=!1,m="",x=rg,C=ig,O=og,U=null,se=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(se=o.formState)),r=Dx(s,1,!0,r,o??null,d,m,x,C,O,U,se),r.context=Rx(null),o=r.current,d=xs(),d=pd(d),m=Ba(d),m.callback=null,Va(o,m,d),o=d,r.current.lanes=o,Jn(r,o),Js(r),s[er]=r.current,ih(s),new gc(r)},vo.version="19.1.0",vo}var Jx;function kN(){if(Jx)return Ch.exports;Jx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ch.exports=AN(),Ch.exports}var MN=kN();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ey="popstate";function ON(e={}){function t(i,l){let{pathname:c,search:u,hash:h}=i.location;return cm("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:Bo(l)}return RN(t,n,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DN(){return Math.random().toString(36).substring(2,10)}function ty(e,t){return{usr:e.state,key:e.key,idx:t}}function cm(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hi(t):t,state:n,key:t&&t.key||i||DN()}}function Bo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function RN(e,t,n,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,u=l.history,h="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let N=g(),D=N==null?null:N-p;p=N,f&&f({action:h,location:T.location,delta:D})}function b(N,D){h="PUSH";let S=cm(T.location,N,D);p=g()+1;let A=ty(S,p),k=T.createHref(S);try{u.pushState(A,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;l.location.assign(k)}c&&f&&f({action:h,location:T.location,delta:1})}function w(N,D){h="REPLACE";let S=cm(T.location,N,D);p=g();let A=ty(S,p),k=T.createHref(S);u.replaceState(A,"",k),c&&f&&f({action:h,location:T.location,delta:0})}function _(N){return PN(N)}let T={get action(){return h},get location(){return e(l,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(ey,y),f=N,()=>{l.removeEventListener(ey,y),f=null}},createHref(N){return t(l,N)},createURL:_,encodeLocation(N){let D=_(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:w,go(N){return u.go(N)}};return T}function PN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Bo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function gv(e,t,n="/"){return zN(e,t,n,!1)}function zN(e,t,n,i){let l=typeof t=="string"?hi(t):t,c=Ea(l.pathname||"/",n);if(c==null)return null;let u=xv(e);LN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=XN(c);h=GN(u[f],p,i)}return h}function xv(e,t=[],n=[],i="",l=!1){let c=(u,h,f=l,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;it(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=Ca([i,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),xv(u.children,t,b,y,f)),!(u.path==null&&!u.index)&&t.push({path:y,score:HN(y,u.index),routesMeta:b})};return e.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))c(u,h);else for(let p of yv(u.path))c(u,h,!0,p)}),t}function yv(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let u=yv(i.join("/")),h=[];return h.push(...u.map(f=>f===""?c:[c,f].join("/"))),l&&h.push(...u),h.map(f=>e.startsWith("/")&&f===""?"/":f)}function LN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:IN(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var BN=/^:[\w-]+$/,VN=3,$N=2,UN=1,qN=10,FN=-2,sy=e=>e==="*";function HN(e,t){let n=e.split("/"),i=n.length;return n.some(sy)&&(i+=FN),t&&(i+=$N),n.filter(l=>!sy(l)).reduce((l,c)=>l+(BN.test(c)?VN:c===""?UN:qN),i)}function IN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,l)=>i===t[l])?e[e.length-1]-t[t.length-1]:0}function GN(e,t,n=!1){let{routesMeta:i}=e,l={},c="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,g=c==="/"?t:t.slice(c.length)||"/",y=zc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),b=f.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=zc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(l,y.params),u.push({params:l,pathname:Ca([c,y.pathname]),pathnameBase:ZN(Ca([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Ca([c,y.pathnameBase]))}return u}function zc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=YN(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:y},b)=>{if(g==="*"){let _=h[b]||"";u=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const w=h[b];return y&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:e}}function YN(e,t=!1,n=!0){Fs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function XN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function KN(e,t="/"){let{pathname:n,search:i="",hash:l=""}=typeof e=="string"?hi(e):e;return{pathname:n?n.startsWith("/")?n:WN(n,t):t,search:JN(i),hash:e2(l)}}function WN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Mh(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Qm(e){let t=QN(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Zm(e,t,n,i=!1){let l;typeof e=="string"?l=hi(e):(l={...e},it(!l.pathname||!l.pathname.includes("?"),Mh("?","pathname","search",l)),it(!l.pathname||!l.pathname.includes("#"),Mh("#","pathname","hash",l)),it(!l.search||!l.search.includes("#"),Mh("#","search","hash",l)));let c=e===""||l.pathname==="",u=c?"/":l.pathname,h;if(u==null)h=n;else{let y=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}h=y>=0?t[y]:"/"}let f=KN(l,h),p=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Ca=e=>e.join("/").replace(/\/\/+/g,"/"),ZN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var bv=["POST","PUT","PATCH","DELETE"];new Set(bv);var s2=["GET",...bv];new Set(s2);var mi=v.createContext(null);mi.displayName="DataRouter";var td=v.createContext(null);td.displayName="DataRouterState";v.createContext(!1);var vv=v.createContext({isTransitioning:!1});vv.displayName="ViewTransition";var a2=v.createContext(new Map);a2.displayName="Fetchers";var n2=v.createContext(null);n2.displayName="Await";var Is=v.createContext(null);Is.displayName="Navigation";var Ko=v.createContext(null);Ko.displayName="Location";var Gs=v.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var Jm=v.createContext(null);Jm.displayName="RouteError";function r2(e,{relative:t}={}){it(fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=v.useContext(Is),{hash:l,pathname:c,search:u}=Wo(e,{relative:t}),h=c;return n!=="/"&&(h=c==="/"?n:Ca([n,c])),i.createHref({pathname:h,search:u,hash:l})}function fi(){return v.useContext(Ko)!=null}function mn(){return it(fi(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ko).location}var wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jv(e){v.useContext(Is).static||v.useLayoutEffect(e)}function pi(){let{isDataRoute:e}=v.useContext(Gs);return e?v2():i2()}function i2(){it(fi(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(mi),{basename:t,navigator:n}=v.useContext(Is),{matches:i}=v.useContext(Gs),{pathname:l}=mn(),c=JSON.stringify(Qm(i)),u=v.useRef(!1);return jv(()=>{u.current=!0}),v.useCallback((f,p={})=>{if(Fs(u.current,wv),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Zm(f,JSON.parse(c),l,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ca([t,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[t,n,c,l,e])}var o2=v.createContext(null);function l2(e){let t=v.useContext(Gs).outlet;return t&&v.createElement(o2.Provider,{value:e},t)}function Wo(e,{relative:t}={}){let{matches:n}=v.useContext(Gs),{pathname:i}=mn(),l=JSON.stringify(Qm(n));return v.useMemo(()=>Zm(e,JSON.parse(l),i,t==="path"),[e,l,i,t])}function c2(e,t){return _v(e,t)}function _v(e,t,n,i,l){var S;it(fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(Is),{matches:u}=v.useContext(Gs),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let A=y&&y.path||"";Nv(p,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=mn(),w;if(t){let A=typeof t=="string"?hi(t):t;it(g==="/"||((S=A.pathname)==null?void 0:S.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=b;let _=w.pathname||"/",T=_;if(g!=="/"){let A=g.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=gv(e,{pathname:T});Fs(y||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Fs(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=f2(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Ca([g,c.encodeLocation?c.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Ca([g,c.encodeLocation?c.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),u,n,i,l);return t&&D?v.createElement(Ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},D):D}function d2(){let e=b2(),t=t2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:l},n):null,u)}var u2=v.createElement(d2,null),h2=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(Gs.Provider,{value:this.props.routeContext},v.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:e,match:t,children:n}){let i=v.useContext(mi);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Gs.Provider,{value:e},n)}function f2(e,t=[],n=null,i=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=n==null?void 0:n.errors;if(u!=null){let p=c.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:b}=n,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((p,g,y)=>{let b,w=!1,_=null,T=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,_=g.route.errorElement||u2,h&&(f<0&&y===0?(Nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):f===y&&(w=!0,T=g.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,y+1)),D=()=>{let S;return b?S=_:w?S=T:g.route.Component?S=v.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=p,v.createElement(m2,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:S})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?v.createElement(h2,{location:n.location,revalidation:n.revalidation,component:_,error:b,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:i}):D()},null)}function ef(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p2(e){let t=v.useContext(mi);return it(t,ef(e)),t}function g2(e){let t=v.useContext(td);return it(t,ef(e)),t}function x2(e){let t=v.useContext(Gs);return it(t,ef(e)),t}function tf(e){let t=x2(e),n=t.matches[t.matches.length-1];return it(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function y2(){return tf("useRouteId")}function b2(){var i;let e=v.useContext(Jm),t=g2("useRouteError"),n=tf("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function v2(){let{router:e}=p2("useNavigate"),t=tf("useNavigate"),n=v.useRef(!1);return jv(()=>{n.current=!0}),v.useCallback(async(l,c={})=>{Fs(n.current,wv),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var ay={};function Nv(e,t,n){!t&&!ay[e]&&(ay[e]=!0,Fs(!1,n))}v.memo(w2);function w2({routes:e,future:t,state:n,unstable_onError:i}){return _v(e,void 0,n,i,t)}function sf({to:e,replace:t,state:n,relative:i}){it(fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=v.useContext(Is);Fs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=v.useContext(Gs),{pathname:u}=mn(),h=pi(),f=Zm(e,Qm(c),u,i==="path"),p=JSON.stringify(f);return v.useEffect(()=>{h(JSON.parse(p),{replace:t,state:n,relative:i})},[h,p,i,t,n]),null}function j2(e){return l2(e.context)}function _t(e){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:l,static:c=!1}){it(!fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);typeof n=="string"&&(n=hi(n));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:b="default"}=n,w=v.useMemo(()=>{let _=Ea(f,u);return _==null?null:{location:{pathname:_,search:p,hash:g,state:y,key:b},navigationType:i}},[u,f,p,g,y,b,i]);return Fs(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(Is.Provider,{value:h},v.createElement(Ko.Provider,{children:t,value:w}))}function Sv({children:e,location:t}){return c2(dm(e),t)}function dm(e,t=[]){let n=[];return v.Children.forEach(e,(i,l)=>{if(!v.isValidElement(i))return;let c=[...t,l];if(i.type===v.Fragment){n.push.apply(n,dm(i.props.children,c));return}it(i.type===_t,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=dm(i.props.children,c)),n.push(u)}),n}var Ec="get",Ac="application/x-www-form-urlencoded";function sd(e){return e!=null&&typeof e.tagName=="string"}function N2(e){return sd(e)&&e.tagName.toLowerCase()==="button"}function S2(e){return sd(e)&&e.tagName.toLowerCase()==="form"}function T2(e){return sd(e)&&e.tagName.toLowerCase()==="input"}function C2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E2(e,t){return e.button===0&&(!t||t==="_self")&&!C2(e)}var yc=null;function A2(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var k2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oh(e){return e!=null&&!k2.has(e)?(Fs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ac}"`),null):e}function M2(e,t){let n,i,l,c,u;if(S2(e)){let h=e.getAttribute("action");i=h?Ea(h,t):null,n=e.getAttribute("method")||Ec,l=Oh(e.getAttribute("enctype"))||Ac,c=new FormData(e)}else if(N2(e)||T2(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ea(f,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Ec,l=Oh(e.getAttribute("formenctype"))||Oh(h.getAttribute("enctype"))||Ac,c=new FormData(h,e),!A2()){let{name:p,type:g,value:y}=e;if(g==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,y)}}else{if(sd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ec,i=null,l=Ac,u=e}return c&&l==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function af(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O2(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Ea(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function D2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function P2(e,t,n){let i=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let u=await D2(c,n);return u.links?u.links():[]}return[]}));return V2(i.flat(1).filter(R2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ny(e,t,n,i,l,c){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return c==="assets"?t.filter((f,p)=>u(f,p)||h(f,p)):c==="data"?t.filter((f,p)=>{var y;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function z2(e,t,{includeHydrateFallback:n}={}){return L2(e.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function L2(e){return[...new Set(e)]}function B2(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function V2(e,t){let n=new Set;return new Set(t),e.reduce((i,l)=>{let c=JSON.stringify(B2(l));return n.has(c)||(n.add(c),i.push({key:c,link:l})),i},[])}function Tv(){let e=v.useContext(mi);return af(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $2(){let e=v.useContext(td);return af(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nf=v.createContext(void 0);nf.displayName="FrameworkContext";function Cv(){let e=v.useContext(nf);return af(e,"You must render this element inside a <HydratedRouter> element"),e}function U2(e,t){let n=v.useContext(nf),[i,l]=v.useState(!1),[c,u]=v.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let T=D=>{D.forEach(S=>{u(S.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),v.useEffect(()=>{if(i){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[i]);let w=()=>{l(!0)},_=()=>{l(!1),u(!1)};return n?e!=="intent"?[c,b,{}]:[c,b,{onFocus:wo(h,w),onBlur:wo(f,_),onMouseEnter:wo(p,w),onMouseLeave:wo(g,_),onTouchStart:wo(y,w)}]:[!1,b,{}]}function wo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function q2({page:e,...t}){let{router:n}=Tv(),i=v.useMemo(()=>gv(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?v.createElement(H2,{page:e,matches:i,...t}):null}function F2(e){let{manifest:t,routeModules:n}=Cv(),[i,l]=v.useState([]);return v.useEffect(()=>{let c=!1;return P2(e,t,n).then(u=>{c||l(u)}),()=>{c=!0}},[e,t,n]),i}function H2({page:e,matches:t,...n}){let i=mn(),{manifest:l,routeModules:c}=Cv(),{basename:u}=Tv(),{loaderData:h,matches:f}=$2(),p=v.useMemo(()=>ny(e,t,f,l,i,"data"),[e,t,f,l,i]),g=v.useMemo(()=>ny(e,t,f,l,i,"assets"),[e,t,f,l,i]),y=v.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let _=new Set,T=!1;if(t.forEach(D=>{var A;let S=l.routes[D.route.id];!S||!S.hasLoader||(!p.some(k=>k.route.id===D.route.id)&&D.route.id in h&&((A=c[D.route.id])!=null&&A.shouldRevalidate)||S.hasClientLoader?T=!0:_.add(D.route.id))}),_.size===0)return[];let N=O2(e,u,"data");return T&&_.size>0&&N.searchParams.set("_routes",t.filter(D=>_.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[u,h,i,l,p,t,e,c]),b=v.useMemo(()=>z2(g,l),[g,l]),w=F2(g);return v.createElement(v.Fragment,null,y.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),b.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),w.map(({key:_,link:T})=>v.createElement("link",{key:_,nonce:n.nonce,...T})))}function I2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ev&&(window.__reactRouterVersion="7.8.2")}catch{}function G2({basename:e,children:t,window:n}){let i=v.useRef();i.current==null&&(i.current=ON({window:n,v5Compat:!0}));let l=i.current,[c,u]=v.useState({action:l.action,location:l.location}),h=v.useCallback(f=>{v.startTransition(()=>u(f))},[u]);return v.useLayoutEffect(()=>l.listen(h),[l,h]),v.createElement(_2,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l})}var Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=v.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:l,reloadDocument:c,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:y,...b},w){let{basename:_}=v.useContext(Is),T=typeof p=="string"&&Av.test(p),N,D=!1;if(typeof p=="string"&&T&&(N=p,Ev))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),J=Ea(V.pathname,_);V.origin===I.origin&&J!=null?p=J+V.search+V.hash:D=!0}catch{Fs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=r2(p,{relative:l}),[A,k,j]=U2(i,b),M=K2(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y});function L(I){t&&t(I),I.defaultPrevented||M(I)}let $=v.createElement("a",{...b,...j,href:N||S,onClick:D||c?t:L,ref:I2(w,k),target:f,"data-discover":!T&&n==="render"?"true":void 0});return A&&!T?v.createElement(v.Fragment,null,$,v.createElement(q2,{page:S})):$});cn.displayName="Link";var kv=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:l=!1,style:c,to:u,viewTransition:h,children:f,...p},g){let y=Wo(u,{relative:p.relative}),b=mn(),w=v.useContext(td),{navigator:_,basename:T}=v.useContext(Is),N=w!=null&&eS(y)&&h===!0,D=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,S=b.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(S=S.toLowerCase(),A=A?A.toLowerCase():null,D=D.toLowerCase()),A&&T&&(A=Ea(A,T)||A);const k=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let j=S===D||!l&&S.startsWith(D)&&S.charAt(k)==="/",M=A!=null&&(A===D||!l&&A.startsWith(D)&&A.charAt(D.length)==="/"),L={isActive:j,isPending:M,isTransitioning:N},$=j?t:void 0,I;typeof i=="function"?I=i(L):I=[i,j?"active":null,M?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(L):c;return v.createElement(cn,{...p,"aria-current":$,className:I,ref:g,style:V,to:u,viewTransition:h},typeof f=="function"?f(L):f)});kv.displayName="NavLink";var Y2=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:l,state:c,method:u=Ec,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,...b},w)=>{let _=Z2(),T=J2(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&Av.test(h),S=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,j=(k==null?void 0:k.getAttribute("formmethod"))||u;_(k||A.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:y})};return v.createElement("form",{ref:w,method:N,action:T,onSubmit:i?f:S,...b,"data-discover":!D&&e==="render"?"true":void 0})});Y2.displayName="Form";function X2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mv(e){let t=v.useContext(mi);return it(t,X2(e)),t}function K2(e,{target:t,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:u}={}){let h=pi(),f=mn(),p=Wo(e,{relative:c});return v.useCallback(g=>{if(E2(g,t)){g.preventDefault();let y=n!==void 0?n:Bo(f)===Bo(p);h(e,{replace:y,state:i,preventScrollReset:l,relative:c,viewTransition:u})}},[f,h,p,n,i,t,e,l,c,u])}var W2=0,Q2=()=>`__${String(++W2)}__`;function Z2(){let{router:e}=Mv("useSubmit"),{basename:t}=v.useContext(Is),n=y2();return v.useCallback(async(i,l={})=>{let{action:c,method:u,encType:h,formData:f,body:p}=M2(i,t);if(l.navigate===!1){let g=l.fetcherKey||Q2();await e.fetch(g,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:f,body:p,formMethod:l.method||u,formEncType:l.encType||h,flushSync:l.flushSync})}else await e.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:f,body:p,formMethod:l.method||u,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function J2(e,{relative:t}={}){let{basename:n}=v.useContext(Is),i=v.useContext(Gs);it(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...Wo(e||".",{relative:t})},u=mn();if(e==null){c.search=u.search;let h=new URLSearchParams(c.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ca([n,c.pathname])),Bo(c)}function eS(e,{relative:t}={}){let n=v.useContext(vv);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Mv("useViewTransitionState"),l=Wo(e,{relative:t});if(!n.isTransitioning)return!1;let c=Ea(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ea(n.nextLocation.pathname,i)||n.nextLocation.pathname;return zc(l.pathname,u)!=null||zc(l.pathname,c)!=null}const tS="modulepreload",sS=function(e){return"/"+e},ry={},Qo=function(t,n,i){let l=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=u(n.map(p=>{if(p=sS(p),p in ry)return;ry[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":tS,g||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((w,_)=>{b.addEventListener("load",w),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return l.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return t().catch(c)})},aS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qo(async()=>{const{default:i}=await Promise.resolve().then(()=>gi);return{default:i}},[]).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class rf extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class nS extends rf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iy extends rf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class oy extends rf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var um;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(um||(um={}));var rS=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};class iS{constructor(t,{headers:n={},customFetch:i,region:l=um.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=aS(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return rS(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:u}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g}).catch(T=>{throw new nS(T)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new iy(y);if(!y.ok)throw new oy(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof oy||l instanceof iy?l.context:void 0}}})}}var Pt={},Vr={},$r={},Ur={},qr={},Fr={},oS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},li=oS();const lS=li.fetch,Ov=li.fetch.bind(li),Dv=li.Headers,cS=li.Request,dS=li.Response,gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dv,Request:cS,Response:dS,default:Ov,fetch:lS},Symbol.toStringTag,{value:"Module"})),uS=wN(gi);var bc={},ly;function Rv(){if(ly)return bc;ly=1,Object.defineProperty(bc,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return bc.default=e,bc}var cy;function Pv(){if(cy)return Fr;cy=1;var e=Fr&&Fr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Fr,"__esModule",{value:!0});const t=e(uS),n=e(Rv());class i{constructor(c){var u,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,y,b,w;let _=null,T=null,N=null,D=p.status,S=p.statusText;if(p.ok){if(this.method!=="HEAD"){const M=await p.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?T=M:T=JSON.parse(M))}const k=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),j=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");k&&j&&j.length>1&&(N=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(_={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,N=null,D=406,S="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const k=await p.text();try{_=JSON.parse(k),Array.isArray(_)&&p.status===404&&(T=[],_=null,D=200,S="OK")}catch{p.status===404&&k===""?(D=204,S="No Content"):_={message:k}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,D=200,S="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:T,count:N,status:D,statusText:S}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,y,b;return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),f.then(c,u)}returns(){return this}overrideTypes(){return this}}return Fr.default=i,Fr}var dy;function zv(){if(dy)return qr;dy=1;var e=qr&&qr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(qr,"__esModule",{value:!0});const t=e(Pv());class n extends t.default{select(l){let c=!1;const u=(l??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${l}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,c,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${l}`),this.url.searchParams.set(p,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var g;const y=[l?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return qr.default=n,qr}var uy;function of(){if(uy)return Ur;uy=1;var e=Ur&&Ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ur,"__esModule",{value:!0});const t=e(zv());class n extends t.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${f}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(l,c,u){return this.url.searchParams.append(l,`not.${c}.${u}`),this}or(l,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,u){return this.url.searchParams.append(l,`${c}.${u}`),this}}return Ur.default=n,Ur}var hy;function Lv(){if(hy)return $r;hy=1;var e=$r&&$r.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($r,"__esModule",{value:!0});const t=e(of());class n{constructor(l,{headers:c={},schema:u,fetch:h}){this.url=l,this.headers=new Headers(c),this.schema=u,this.fetch=h}select(l,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let f=!1;const p=(l??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:u=!0}={}){var h;const f="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(y.length>0){const b=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:c}={}){var u;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var c;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return $r.default=n,$r}var my;function hS(){if(my)return Vr;my=1;var e=Vr&&Vr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Vr,"__esModule",{value:!0});const t=e(Lv()),n=e(of());class i{constructor(c,{headers:u={},schema:h,fetch:f}={}){this.url=c,this.headers=new Headers(u),this.schemaName=h,this.fetch=f}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:h=!1,get:f=!1,count:p}={}){var g;let y;const b=new URL(`${this.url}/rpc/${c}`);let w;h||f?(y=h?"HEAD":"GET",Object.entries(u).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{b.searchParams.append(T,N)})):(y="POST",w=u);const _=new Headers(this.headers);return p&&_.set("Prefer",`count=${p}`),new n.default({method:y,url:b,headers:_,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Vr.default=i,Vr}var fy;function mS(){if(fy)return Pt;fy=1;var e=Pt&&Pt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.PostgrestError=Pt.PostgrestBuilder=Pt.PostgrestTransformBuilder=Pt.PostgrestFilterBuilder=Pt.PostgrestQueryBuilder=Pt.PostgrestClient=void 0;const t=e(hS());Pt.PostgrestClient=t.default;const n=e(Lv());Pt.PostgrestQueryBuilder=n.default;const i=e(of());Pt.PostgrestFilterBuilder=i.default;const l=e(zv());Pt.PostgrestTransformBuilder=l.default;const c=e(Pv());Pt.PostgrestBuilder=c.default;const u=e(Rv());return Pt.PostgrestError=u.default,Pt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:u.default},Pt}var fS=mS();const pS=pv(fS),{PostgrestClient:gS,PostgrestQueryBuilder:IO,PostgrestFilterBuilder:GO,PostgrestTransformBuilder:YO,PostgrestBuilder:XO,PostgrestError:KO}=pS;class xS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yS="2.15.4",bS=`realtime-js/${yS}`,vS="1.0.0",hm=1e4,wS=1e3,jS=100;var Eo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Eo||(Eo={}));var Et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Et||(Et={}));var $s;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($s||($s={}));var mm;(function(e){e.websocket="websocket"})(mm||(mm={}));var Un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Un||(Un={}));class _S{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const l=n.getUint8(1),c=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(t.slice(u,u+l));u=u+l;const f=i.decode(t.slice(u,u+c));u=u+c;const p=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}let Bv=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tt||(tt={}));const py=(e,t,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((c,u)=>(c[u]=NS(u,e,t,l),c),{})},NS=(e,t,n,i)=>{const l=t.find(h=>h.name===e),c=l==null?void 0:l.type,u=n[e];return c&&!i.includes(c)?Vv(c,u):fm(u)},Vv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ES(t,n)}switch(e){case tt.bool:return SS(t);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return TS(t);case tt.json:case tt.jsonb:return CS(t);case tt.timestamp:return AS(t);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return fm(t);default:return fm(t)}},fm=e=>e,SS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ES=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let c;const u=e.slice(1,n);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>Vv(t,h))}return e},AS=e=>typeof e=="string"?e.replace(" ","T"):e,$v=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Dh{constructor(t,n,i={},l=hm){this.channel=t,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gy||(gy={}));class Ao{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ao.syncState(this.state,l,c,u),this.pendingDiffs.forEach(f=>{this.state=Ao.syncDiff(this.state,f,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ao.syncDiff(this.state,l,c,u),h())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,l){const c=this.cloneDeep(t),u=this.transformState(n),h={},f={};return this.map(c,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const y=c[p];if(y){const b=g.map(N=>N.presence_ref),w=y.map(N=>N.presence_ref),_=g.filter(N=>w.indexOf(N.presence_ref)<0),T=y.filter(N=>b.indexOf(N.presence_ref)<0);_.length>0&&(h[p]=_),T.length>0&&(f[p]=T)}else h[p]=g}),this.syncDiff(c,{joins:h,leaves:f},i,l)}static syncDiff(t,n,i,l){const{joins:c,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(c,(h,f)=>{var p;const g=(p=t[h])!==null&&p!==void 0?p:[];if(t[h]=this.cloneDeep(f),g.length>0){const y=t[h].map(w=>w.presence_ref),b=g.filter(w=>y.indexOf(w.presence_ref)<0);t[h].unshift(...b)}i(h,g,f)}),this.map(u,(h,f)=>{let p=t[h];if(!p)return;const g=f.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),t[h]=p,l(h,p,f),p.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const l=t[i];return"metas"in l?n[i]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[i]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xy||(xy={}));var ko;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ko||(ko={}));var Sa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sa||(Sa={}));class lf{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dh(this,$s.join,this.params,this.timeout),this.rejoinTimer=new Bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on($s.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Ao(this),this.broadcastEndpointURL=$v(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[ko.PRESENCE]&&this.bindings[ko.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},b={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(Sa.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(Sa.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket.setAuth(),w===void 0){t==null||t(Sa.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(_=T==null?void 0:T.length)!==null&&_!==void 0?_:0,D=[];for(let S=0;S<N;S++){const A=T[S],{filter:{event:k,schema:j,table:M,filter:L}}=A,$=w&&w[S];if($&&$.event===k&&$.schema===j&&$.table===M&&$.filter===L)D.push(Object.assign(Object.assign({},A),{id:$.id}));else{this.unsubscribe(),this.state=Et.errored,t==null||t(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,t&&t(Sa.SUBSCRIBED);return}}).receive("error",w=>{this.state=Et.errored,t==null||t(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Et.joined&&t===ko.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async send(t,n={}){var i,l;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:u}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,f;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($s.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Dh(this,$s.leave,{},t),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const l=new AbortController,c=setTimeout(()=>l.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),u}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Dh(this,t,n,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var l,c;const u=t.toLocaleLowerCase(),{close:h,error:f,leave:p,join:g}=$s;if(i&&[h,f,p,g].indexOf(u)>=0&&i!==this._joinRef())return;let b=this._onMessage(u,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var _,T,N;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(T=w.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(w=>w.callback(b,i)):(c=this.bindings[u])===null||c===void 0||c.filter(w=>{var _,T,N,D,S,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const k=w.id,j=(_=w.filter)===null||_===void 0?void 0:_.event;return k&&((T=n.ids)===null||T===void 0?void 0:T.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const k=(S=(D=w==null?void 0:w.filter)===null||D===void 0?void 0:D.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:T,table:N,commit_timestamp:D,type:S,errors:A}=_;b=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:D,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(_))}w.callback(b,i)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const l=t.toLocaleLowerCase(),c={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&lf.isEqual(l.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($s.close,{},t)}_onError(t){this._on($s.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=py(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=py(t.columns,t.old_record)),n}}const Rh=()=>{},vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kS=[1e3,2e3,5e3,1e4],MS=1e4,OS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DS{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hm,this.transport=null,this.heartbeatIntervalMs=vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rh,this.ref=0,this.reconnectTimer=null,this.logger=Rh,this.conn=null,this.sendBuffer=[],this.serializer=new _S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...u)=>Qo(async()=>{const{default:h}=await Promise.resolve().then(()=>gi);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${mm.websocket}`,this.httpEndpoint=$v(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vS}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Eo.connecting:return Un.Connecting;case Eo.open:return Un.Open;case Eo.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===i);if(l)return l;{const c=new lf(`realtime:${t}`,n,this);return this.channels.push(c),c}}push(t){const{topic:n,event:i,payload:l,ref:c}=t,u=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${i} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:c,ref:u}=n,h=u?`(${u})`:"",f=c.status||"";this.log("receive",`${f} ${i} ${l} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,c,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($s.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${i}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([OS],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:bS};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push($s.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Bv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,l,c,u,h,f,p,g;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:hm,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:vc.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t==null?void 0:t.heartbeatCallback)!==null&&h!==void 0?h:Rh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:y=>kS[y-1]||MS,this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:(y,b)=>b(JSON.stringify(y)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class cf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class RS extends cf{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pm extends cf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var PS=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};const Uv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qo(async()=>{const{default:i}=await Promise.resolve().then(()=>gi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},zS=()=>PS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qo(()=>Promise.resolve().then(()=>gi),void 0)).Response:Response}),gm=e=>{if(Array.isArray(e))return e.map(n=>gm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=gm(i)}),t},LS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Qn=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};const Ph=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BS=(e,t,n)=>Qn(void 0,void 0,void 0,function*(){const i=yield zS();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(l=>{const c=e.status||500,u=(l==null?void 0:l.statusCode)||c+"";t(new RS(Ph(l),c,u))}).catch(l=>{t(new pm(Ph(l),l))}):t(new pm(Ph(e),e))}),VS=(e,t,n,i)=>{const l={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?l:(LS(i)?(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(i)):l.body=i,t!=null&&t.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),n))};function Zo(e,t,n,i,l,c){return Qn(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,VS(t,i,l,c)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>BS(f,h,i))})})}function Lc(e,t,n,i){return Qn(this,void 0,void 0,function*(){return Zo(e,"GET",t,n,i)})}function ea(e,t,n,i,l){return Qn(this,void 0,void 0,function*(){return Zo(e,"POST",t,i,l,n)})}function xm(e,t,n,i,l){return Qn(this,void 0,void 0,function*(){return Zo(e,"PUT",t,i,l,n)})}function $S(e,t,n,i){return Qn(this,void 0,void 0,function*(){return Zo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function qv(e,t,n,i,l){return Qn(this,void 0,void 0,function*(){return Zo(e,"DELETE",t,i,l,n)})}var Qt=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};const US={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qS{constructor(t,n={},i,l){this.url=t,this.headers=n,this.bucketId=i,this.fetch=Uv(l)}uploadOrUpdate(t,n,i,l){return Qt(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},yy),l);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),l!=null&&l.headers&&(h=Object.assign(Object.assign({},h),l.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),y=yield(t=="PUT"?xm:ea)(this.fetch,`${this.url}/object/${g}`,c,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(kt(c))return{data:null,error:c};throw c}})}upload(t,n,i){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,l){return Qt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:yy.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",p.cacheControl)):(f=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const y=yield xm(this.fetch,h.toString(),f,{headers:g});return{data:{path:c,fullPath:y.Key},error:null}}catch(f){if(kt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const c=yield ea(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new cf("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}update(t,n,i){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Qt(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}copy(t,n,i){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield ea(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}createSignedUrl(t,n,i){return Qt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),c=yield ea(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}createSignedUrls(t,n,i){return Qt(this,void 0,void 0,function*(){try{const l=yield ea(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}download(t,n){return Qt(this,void 0,void 0,function*(){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield Lc(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(kt(h))return{data:null,error:h};throw h}})}info(t){return Qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Lc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gm(i),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}exists(t){return Qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield $S(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(kt(i)&&i instanceof pm){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),l=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(t,n,i){return Qt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},US),n),{prefix:t||""});return{data:yield ea(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}listV2(t,n){return Qt(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield ea(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const FS="2.11.0",HS={"X-Client-Info":`storage-js/${FS}`};var Hr=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};class IS{constructor(t,n={},i,l){const c=new URL(t);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},HS),n),this.fetch=Uv(i)}listBuckets(){return Hr(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}getBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Hr(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Hr(this,void 0,void 0,function*(){try{return{data:yield xm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class GS extends IS{constructor(t,n={},i,l){super(t,n,i,l)}from(t){return new qS(this.url,this.headers,t,this.fetch)}}const YS="2.56.1";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const XS={"X-Client-Info":`supabase-js-${To}/${YS}`},KS={headers:XS},WS={schema:"public"},QS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZS={};var JS=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};const eT=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ov:t=fetch,(...n)=>t(...n)},tT=()=>typeof Headers>"u"?Dv:Headers,sT=(e,t,n)=>{const i=eT(n),l=tT();return(c,u)=>JS(void 0,void 0,void 0,function*(){var h;const f=(h=yield t())!==null&&h!==void 0?h:e;let p=new l(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),i(c,Object.assign(Object.assign({},u),{headers:p}))})};var aT=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};function nT(e){return e.endsWith("/")?e:e+"/"}function rT(e,t){var n,i;const{db:l,auth:c,realtime:u,global:h}=e,{db:f,auth:p,realtime:g,global:y}=t,b={db:Object.assign(Object.assign({},f),l),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>aT(this,void 0,void 0,function*(){return""})};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}const Fv="2.71.1",Jr=30*1e3,ym=3,zh=ym*Jr,iT="http://localhost:9999",oT="supabase.auth.token",lT={"X-Client-Info":`gotrue-js/${Fv}`},bm="X-Supabase-Api-Version",Hv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dT=10*60*1e3;class df extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uT extends df{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function hT(e){return De(e)&&e.name==="AuthApiError"}class Iv extends df{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class fn extends df{constructor(t,n,i,l){super(t,i,l),this.name=n,this.status=i}}class on extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mT(e){return De(e)&&e.name==="AuthSessionMissingError"}class wc extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jc extends fn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _c extends fn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fT(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class by extends fn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vm extends fn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lh(e){return De(e)&&e.name==="AuthRetryableFetchError"}class vy extends fn{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class wm extends fn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wy=` 	
\r=`.split(""),pT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wy.length;t+=1)e[wy[t].charCodeAt(0)]=-2;for(let t=0;t<Bc.length;t+=1)e[Bc[t].charCodeAt(0)]=t;return e})();function jy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Bc[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Bc[i]),t.queuedBits-=6}}function Gv(e,t,n){const i=pT[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _y(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{yT(u,i,n)};for(let u=0;u<e.length;u+=1)Gv(e.charCodeAt(u),l,c);return t.join("")}function gT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xT(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}gT(i,t)}}function yT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function bT(e){const t=[],n={queue:0,queuedBits:0},i=l=>{t.push(l)};for(let l=0;l<e.length;l+=1)Gv(e.charCodeAt(l),n,i);return new Uint8Array(t)}function vT(e){const t=[];return xT(e,n=>t.push(n)),new Uint8Array(t)}function wT(e){const t=[],n={queue:0,queuedBits:0},i=l=>{t.push(l)};return e.forEach(l=>jy(l,n,i)),jy(null,n,i),t.join("")}function jT(e){return Math.round(Date.now()/1e3)+e}function _T(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bs=()=>typeof window<"u"&&typeof document<"u",Pn={tested:!1,writable:!1},Yv=()=>{if(!Bs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pn.tested)return Pn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pn.tested=!0,Pn.writable=!0}catch{Pn.tested=!0,Pn.writable=!1}return Pn.writable};function NT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return n.searchParams.forEach((i,l)=>{t[l]=i}),t}const Xv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Qo(async()=>{const{default:i}=await Promise.resolve().then(()=>gi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},ST=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ei=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},zn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},an=async(e,t)=>{await e.removeItem(t)};class ad{constructor(){this.promise=new ad.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ad.promiseConstructor=Promise;function Bh(e){const t=e.split(".");if(t.length!==3)throw new wm("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!cT.test(t[i]))throw new wm("JWT not in base64url format");return{header:JSON.parse(_y(t[0])),payload:JSON.parse(_y(t[1])),signature:bT(t[2]),raw:{header:t[0],payload:t[1]}}}async function TT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CT(e,t){return new Promise((i,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await e(c);if(!t(c,null,u)){i(u);return}}catch(u){if(!t(c,u)){l(u);return}}})()})}function ET(e){return("0"+e.toString(16)).substr(-2)}function AT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(t),Array.from(t,ET).join("")}async function kT(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function MT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await kT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ir(e,t,n=!1){const i=AT();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await ei(e,`${t}-code-verifier`,l);const c=await MT(i);return[c,i===c?"plain":"s256"]}const OT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DT(e){const t=e.headers.get(bm);if(!t||!t.match(OT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function RT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gr(e){if(!zT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ny(e){return JSON.parse(JSON.stringify(e))}var LT=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n};const Bn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BT=[502,503,504];async function Sy(e){var t;if(!ST(e))throw new vm(Bn(e),0);if(BT.includes(e.status))throw new vm(Bn(e),e.status);let n;try{n=await e.json()}catch(c){throw new Iv(Bn(c),c)}let i;const l=DT(e);if(l&&l.getTime()>=Hv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new vy(Bn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new on}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new vy(Bn(n),e.status,n.weak_password.reasons);throw new uT(Bn(n),e.status||500,i)}const VT=(e,t,n,i)=>{const l={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function $e(e,t,n,i){var l;const c=Object.assign({},i==null?void 0:i.headers);c[bm]||(c[bm]=Hv["2024-01-01"].name),i!=null&&i.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await $T(e,t,n+h,{headers:c,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function $T(e,t,n,i,l,c){const u=VT(t,i,l,c);let h;try{h=await e(n,Object.assign({},u))}catch(f){throw console.error(f),new vm(Bn(f),0)}if(h.ok||await Sy(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(f){await Sy(f)}}function Na(e){var t;let n=null;HT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=jT(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function Ty(e){const t=Na(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function UT(e){return{data:e,error:null}}function qT(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:l,verification_type:c}=e,u=LT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:i,redirect_to:l,verification_type:c},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function FT(e){return e}function HT(e){return e.access_token&&e.refresh_token&&e.expires_in}const $h=["global","local","others"];var IT=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n};class GT{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Xv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=$h[0]){if($h.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$h.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dn})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=IT(t,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:qT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(De(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dn})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,l,c,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},g=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:FT});if(g.error)throw g.error;const y=await g.json(),b=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);p[`${N}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(De(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Gr(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dn})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Gr(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:dn})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Gr(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:dn})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Gr(t.userId);try{const{data:n,error:i}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Gr(t.userId),Gr(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}}function Cy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function YT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yr={debug:!!(globalThis&&Yv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class XT extends Kv{}async function KT(e,t,n){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await n()}finally{Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(t===0)throw Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new XT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}YT();const WT={url:iT,storageKey:oT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ey(e,t,n){return await n()}const Xr={};class Vo{constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vo.nextInstanceID,Vo.nextInstanceID+=1,this.instanceID>0&&Bs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},WT),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new GT({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Xv(l.fetch),this.lock=l.lock||Ey,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Bs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=KT:this.lock=Ey,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Yv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Cy(this.memoryStorage)),Bs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Xr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Xr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=NT(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Bs()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),fT(c)){const f=(t=c.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return De(n)?{error:n}:{error:new Iv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,l;try{const c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:Na}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(De(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var n,i,l;try{let c;if("email"in t){const{email:g,password:y,options:b}=t;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await Ir(this.storage,this.storageKey)),c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:y,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:_},xform:Na})}else if("phone"in t){const{phone:g,password:y,options:b}=t;c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(l=b==null?void 0:b.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Na})}else throw new jc("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(De(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let n;if("email"in t){const{email:c,password:u,options:h}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ty})}else if("phone"in t){const{phone:c,password:u,options:h}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ty})}else throw new jc("You must provide either an email or phone number and a password");const{data:i,error:l}=n;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new wc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,i,l,c,u,h,f,p,g,y,b,w;let _,T;if("message"in t)_=t.message,T=t.signature;else{const{chain:N,wallet:D,statement:S,options:A}=t;let k;if(Bs())if(typeof D=="object")k=D;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))k=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=D}const j=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const M=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),S?{statement:S}:null));let L;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")L=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)L=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)_=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),T=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(l=(i=A==null?void 0:A.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((y=(g=A==null?void 0:A.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...A.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const M=await k.signMessage(new TextEncoder().encode(_),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=M}}try{const{data:N,error:D}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:wT(T)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Na});if(D)throw D;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new wc}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:D})}catch(N){if(De(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await zn(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:c,error:u}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Na});if(await an(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new wc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(De(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:n,provider:i,token:l,access_token:c,nonce:u}=t,h=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Na}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new wc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,l,c,u;try{if("email"in t){const{email:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ir(this.storage,this.storageKey));const{error:y}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:h,options:f}=t,{data:p,error:g}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=f==null?void 0:f.data)!==null&&l!==void 0?l:{},create_user:(c=f==null?void 0:f.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new jc("You must provide either an email or phone number.")}catch(h){if(De(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,i;try{let l,c;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,c=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Na});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(De(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var n,i,l;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await Ir(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:UT})}catch(c){if(De(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new on;const{error:l}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:l,options:c}=t,{error:u}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:l,options:c}=t,{data:u,error:h}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new jc("You must provide either an email or phone number and a type")}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<zh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await zn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=Vh()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:t},error:null}}const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dn}):await this._useSession(async n=>{var i,l,c;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new on}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:dn})})}catch(n){if(De(n))return mT(n)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:l,error:c}=i;if(c)throw c;if(!l.session)throw new on;const u=l.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Ir(this.storage,this.storageKey));const{data:p,error:g}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:dn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new on;const n=Date.now()/1e3;let i=n,l=!0,c=null;const{payload:u}=Bh(t.access_token);if(u.exp&&(i=u.exp,l=i<=n),l){const{session:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)throw f;c={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(n){if(De(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new on;const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Bs())throw new _c("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _c(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new by("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _c("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new by("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=t;if(!c||!h||!u||!p)throw new _c("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(h);let b=g+y;f&&(b=parseInt(f));const w=b-g;w*1e3<=Jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const _=b-y;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,g);const{data:T,error:N}=await this._getUser(c);if(N)throw N;const D={provider_token:i,provider_refresh_token:l,access_token:c,expires_in:y,expires_at:b,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:t.type},error:null}}catch(i){if(De(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await zn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:c}=n;if(c)return{error:c};const u=(i=l.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(hT(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_T(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,l;try{const{data:{session:c},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Ir(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(De(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:l}=await this._useSession(async c=>{var u,h,f,p,g;const{data:y,error:b}=c;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Bs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(De(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,l;const{data:c,error:u}=n;if(u)throw u;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await CT(async l=>(l>0&&await TT(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Na})),(l,c)=>{const u=200*Math.pow(2,l);return c&&Lh(c)&&Date.now()+u-i<Jr})}catch(i){if(this._debug(n,"error",i),De(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),Bs()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await zn(this.storage,this.storageKey);if(l&&this.userStorage){let u=await zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await ei(this.userStorage,this.storageKey+"-user",u)),l.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:Vh()}else if(l&&!l.user&&!l.user){const u=await zn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(l.user=u.user,await an(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,l)):l.user=Vh()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zh;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${zh}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),Lh(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(l.access_token);!h&&(u!=null&&u.user)?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new on;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new ad;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new on;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(l,"error",c),De(c)){const u={session:null,error:c};return Lh(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,i=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){c.push(f)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ei(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=Ny(l);await ei(this.storage,this.storageKey,c)}else{const l=Ny(n);await ei(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-t)/Jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Jr}ms, refresh threshold is ${ym} ticks`),l<=ym&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await Ir(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(h.toString())}if(i!=null&&i.queryParams){const c=new URLSearchParams(i.queryParams);l.push(c.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:l,error:c}=n;return c?{data:null,error:c}:await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,l;const{data:c,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:p}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((l=f==null?void 0:f.totp)===null||l===void 0)&&l.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:c}=n;if(c)return{data:null,error:c};const{data:u,error:h}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:c}=n;return c?{data:null,error:c}:await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(t==null?void 0:t.factors)||[],l=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:l},error:c}=t;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bh(l.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(h=>h.kid===t);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+dT>l)return i;const{data:c,error:u}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,i=c.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:w,error:_}=await this.getSession();if(_||!w.session)return{data:null,error:_};i=w.session.access_token}const{header:l,payload:c,signature:u,raw:{header:h,payload:f}}=Bh(i);n!=null&&n.allowExpired||RT(c.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:c,header:l,signature:u},error:null}}const g=PT(l.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,vT(`${h}.${f}`)))throw new wm("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}}}Vo.nextInstanceID=0;const QT=Vo;class ZT extends QT{constructor(t){super(t)}}var JT=function(e,t,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,f)}p((i=i.apply(e,t||[])).next())})};class eC{constructor(t,n,i){var l,c,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=nT(t),f=new URL(h);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:WS,realtime:ZS,auth:Object.assign(Object.assign({},QS),{storageKey:p}),global:KS},y=rT(i??{},g);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=sT(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new gS(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new GS(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new iS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return JT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:l,storageKey:c,flowType:u,lock:h,debug:f},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZT({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:c,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:l,flowType:u,lock:h,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new DS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tC=(e,t,n)=>new eC(e,t,n);function sC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wv="https://wznycskqsavpmejwpksp.supabase.co",aC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6bnljc2txc2F2cG1landwa3NwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2MzA2NjUsImV4cCI6MjA3MjIwNjY2NX0.uYXbBwQDo1pLeBrmtZnBR2M3a3_TsYDa637pcKSVC_8",Vc=Wv.includes(".supabase.co");Vc||(console.warn(" Supabase credentials not configured. Using mock mode for development."),console.info(" To use real Supabase:"),console.info("1. Update .env.local with your Supabase credentials"),console.info("2. Get credentials from: https://supabase.com/dashboard"));const nC="https://mock.supabase.co",rC="mock-anon-key",le=tC(Vc?Wv:nC,Vc?aC:rC),jo=Vc,Qv=v.createContext(void 0),Xt=()=>{const e=v.useContext(Qv);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},iC=({children:e})=>{const[t,n]=v.useState(null),[i,l]=v.useState(null),[c,u]=v.useState(!0);v.useEffect(()=>{if(!jo){u(!1);return}le.auth.getSession().then(({data:{session:y}})=>{l(y),u(!1)}).catch(y=>{console.warn("Erro ao verificar sesso, usando modo mock:",y),u(!1)});const{data:g}=le.auth.onAuthStateChange((y,b)=>{l(b)});return()=>{g.subscription.unsubscribe()}},[]),v.useEffect(()=>{jo&&(i?(console.log("AuthContext: Sesso encontrada, buscando perfil:",i.user.id),le.from("profiles").select("*").eq("id",i.user.id).single().then(({data:g,error:y})=>{if(console.log("AuthContext: Resultado da busca de perfil:",{profile:g,error:y}),y||!g)console.error("Perfil no encontrado ou erro na busca, deslogando.",y),le.auth.signOut();else{const b={id:g.id,name:g.name||i.user.email||"Usurio",email:i.user.email,role:g.role,avatar:g.avatar_url||`https://api.dicebear.com/8.x/initials/svg?seed=${g.name||i.user.email}`};console.log("AuthContext: Usurio da aplicao criado:",b),n(b)}})):n(null))},[i]);const h=async(g,y)=>{if(!jo)return console.info(" Usando autenticao mock para desenvolvimento"),g==="demo@clubmanager.com"&&y==="demo123456"?(n({id:"demo-user-id",name:"Usurio Demonstrao",email:"demo@clubmanager.com",role:"admin",avatar:"https://api.dicebear.com/8.x/initials/svg?seed=Demo"}),{success:!0,error:null}):{success:!1,error:"Credenciais invlidas. Use: demo@clubmanager.com / demo123456"};try{const{error:b}=await le.auth.signInWithPassword({email:g,password:y});return{success:!b,error:(b==null?void 0:b.message)||null}}catch(b){return console.error("Erro de conexo com Supabase:",b),{success:!1,error:"Erro de conexo. Verifique a configurao do Supabase."}}},f=async()=>h("demo@clubmanager.com","demo123456"),p=async()=>{if(!jo){n(null);return}await le.auth.signOut()};return a.jsxs(Qv.Provider,{value:{user:t,login:h,loginAsDemo:f,logout:p,isLoading:c},children:[!jo&&a.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-black px-4 py-2 text-sm z-50",children:[" ",a.jsx("strong",{children:"Modo Desenvolvimento:"})," Supabase no configurado. Use: demo@clubmanager.com / demo123456"]}),c?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"mt-4 text-white font-semibold",children:"Carregando Sesso..."})]})}):e]})},Uh=e=>({id:e.id,name:e.name,categoryId:e.category_id||void 0,currentStock:e.current_stock,minStock:e.min_stock,unit:e.unit,lastUpdated:new Date(e.last_updated||e.created_at),supplier:e.supplier||void 0,cost:e.cost||0,availableForSale:e.available_for_sale||!1,image_url:e.image_url||void 0}),oC=e=>({id:e.id,name:e.name,description:e.description||void 0,color:e.color||"#6B7280",icon:e.icon||void 0,isActive:e.is_active||!0,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at||e.created_at)}),qh=e=>({id:e.id,name:e.name,email:e.email,phone:e.phone||"",avatar:e.avatar_url||`https://api.dicebear.com/8.x/initials/svg?seed=${e.name}`,status:e.status,joinDate:new Date(e.join_date),membershipType:e.membership_type||"basic"}),Fh=e=>{const t=e.item_type==="direct",n=e.inventory_items;return{id:e.id,name:t&&(n!=null&&n.name)?n.name:e.name,description:e.description||"",price:e.price,category:e.category,image_url:t&&(n!=null&&n.image_url)?n.image_url:e.image_url||void 0,available:e.available,preparation_time:e.preparation_time||void 0,item_type:e.item_type||"prepared",direct_inventory_item_id:e.direct_inventory_item_id||void 0}},Ay=e=>({id:e.id,tableNumber:e.table_number||void 0,items:e.order_items.map(t=>({id:t.id.toString(),menuItemId:t.menu_item_id,quantity:t.quantity,price:t.price,notes:t.notes||void 0})),status:e.status,total:e.total,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at||e.created_at),employeeId:e.employee_id||"",notes:e.notes||void 0}),Zv=v.createContext(void 0),mt=()=>{const e=v.useContext(Zv);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e},lC=({children:e})=>{const[t,n]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState([]),[y,b]=v.useState([]);v.useEffect(()=>{(async()=>{const[q,ne,E,F]=await Promise.all([le.from("menu_items").select(`
          *,
          inventory_items!left(name, image_url)
        `).order("name"),le.from("inventory_items").select("*").order("name"),le.from("inventory_categories").select("*").eq("is_active",!0).order("name"),le.from("members").select("*").order("name")]);q.data&&n(q.data.map(Fh)),ne.data&&u(ne.data.map(Uh)),E.data&&f(E.data.map(oC)),F.data&&g(F.data.map(qh))})()},[]),v.useEffect(()=>{const R=async E=>{var Z,ue;const{data:F,error:P}=await le.from("orders").select("*, order_items(*)").order("created_at",{ascending:!1});if(P)console.error("Error fetching orders after realtime event:",P);else if(F){const ye=F.map(Ay);l(ye),E.eventType!=="INSERT"&&L(`Pedido #${(ue=(Z=E.new)==null?void 0:Z.id)==null?void 0:ue.slice(0,4)} atualizado para ${E.new.status}`)}},q=le.channel("realtime-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},R).subscribe();return(async()=>{const{data:E,error:F}=await le.from("orders").select("*, order_items(*)").order("created_at",{ascending:!1});F?console.error("Error fetching initial orders:",F):E&&l(E.map(Ay))})(),()=>{le.removeChannel(q)}},[]);const w=async R=>{console.log("=== addMenuItem INICIADO ==="),console.log("Dados recebidos:",R);const q={name:R.name,description:R.description||null,price:R.price,category:R.category,available:R.available,preparation_time:R.preparation_time||null,item_type:R.item_type||"prepared",direct_inventory_item_id:R.direct_inventory_item_id||null,image_url:R.image_url||null};console.log("Dados formatados para Supabase:",q);const{data:ne,error:E}=await le.from("menu_items").insert(q).select().single();if(console.log("Resposta do Supabase:"),console.log("- Data:",ne),console.log("- Error:",E),E)throw console.error("=== ERRO NO SUPABASE ==="),console.error("Cdigo do erro:",E.code),console.error("Mensagem do erro:",E.message),console.error("Detalhes do erro:",E.details),console.error("Hint do erro:",E.hint),E;ne&&(console.log("Item inserido com sucesso, atualizando estado..."),n(F=>[Fh(ne),...F].sort((P,Z)=>P.name.localeCompare(Z.name))),L(`Novo prato "${ne.name}" adicionado ao cardpio!`),console.log("Estado atualizado com sucesso!")),console.log("=== addMenuItem FINALIZADO ===")},_=async R=>{const q={name:R.name,description:R.description,price:R.price,category:R.category,available:R.available,preparation_time:R.preparation_time,item_type:R.item_type||"prepared",direct_inventory_item_id:R.direct_inventory_item_id||null,image_url:R.image_url||null},{data:ne,error:E}=await le.from("menu_items").update(q).eq("id",R.id).select().single();if(E){console.error(E);return}ne&&(n(F=>F.map(P=>P.id===ne.id?Fh(ne):P).sort((P,Z)=>P.name.localeCompare(Z.name))),L(`Prato "${ne.name}" atualizado!`))},T=async R=>{const{error:q}=await le.from("menu_items").delete().eq("id",R);if(q){console.error(q);return}n(ne=>ne.filter(E=>E.id!==R)),L("Prato removido do cardpio!")},N=async R=>{const{items:q,tableNumber:ne,employeeId:E,notes:F,status:P}=R,Z=q.reduce((ke,Ge)=>ke+Ge.price*Ge.quantity,0),ue={table_number:ne,employee_id:E,notes:F,status:P,total:Z},{data:ye,error:fe}=await le.from("orders").insert(ue).select().single();if(fe||!ye){console.error("Error creating order:",fe);return}const oe=q.map(ke=>({order_id:ye.id,menu_item_id:ke.menuItemId,quantity:ke.quantity,price:ke.price,notes:ke.notes})),{error:me}=await le.from("order_items").insert(oe);me?console.error("Error creating order items:",me):L(`Novo pedido #${ye.id.slice(0,4)} criado!`)},D=async(R,q)=>{try{if(console.log("updateOrderStatus chamado:",{orderId:R,status:q}),R.startsWith("balcao-")){const ne=R.replace("balcao-","");console.log("Atualizando pedido de balco:",ne);let E;switch(q){case"pending":E="paid";break;case"preparing":E="preparing";break;case"ready":E="ready";break;default:E=q}const{error:F}=await le.from("balcao_orders").update({status:E,preparation_started_at:q==="preparing"?new Date().toISOString():void 0,preparation_completed_at:q==="ready"?new Date().toISOString():void 0}).eq("id",ne);if(F)throw F;console.log("Pedido de balco atualizado com sucesso")}else{const ne=R.split("-"),E=ne.slice(0,5).join("-"),F=ne.slice(5).join("-");console.log("Decomposio do ID:",{parts:ne,realComandaId:E,timeKey:F});const{data:P,error:Z}=await le.from("comanda_items").select("*").eq("comanda_id",E).in("status",["pending","preparing","ready"]);if(Z)throw Z;const ue=(P==null?void 0:P.filter(ye=>{const fe=new Date(ye.added_at),oe=`${fe.getFullYear()}-${fe.getMonth()}-${fe.getDate()}-${fe.getHours()}-${fe.getMinutes()}`;return F===oe}))||[];if(console.log("Itens encontrados para atualizar:",ue.length),ue.length>0){const ye=ue.map(oe=>oe.id);console.log("Atualizando itens:",ye,"para status:",q);const{error:fe}=await le.from("comanda_items").update({status:q}).in("id",ye);if(fe)throw fe;console.log("Atualizao realizada com sucesso")}else console.log("Nenhum item encontrado para atualizar")}await Y(),await B()}catch(ne){console.error("Erro ao atualizar status do pedido:",ne)}},S=async R=>{const q={name:R.name,category_id:R.categoryId,current_stock:R.currentStock,min_stock:R.minStock,unit:R.unit,cost:R.cost,supplier:R.supplier,available_for_sale:R.availableForSale||!1,image_url:R.image_url||null},{data:ne,error:E}=await le.from("inventory_items").insert(q).select().single();if(E){console.error(E);return}ne&&u(F=>[Uh(ne),...F].sort((P,Z)=>P.name.localeCompare(Z.name)))},A=async R=>{const q={name:R.name,category_id:R.categoryId,current_stock:R.currentStock,min_stock:R.minStock,unit:R.unit,cost:R.cost,supplier:R.supplier,available_for_sale:R.availableForSale||!1,image_url:R.image_url||null,last_updated:new Date().toISOString()},{data:ne,error:E}=await le.from("inventory_items").update(q).eq("id",R.id).select().single();if(E){console.error(E);return}ne&&u(F=>F.map(P=>P.id===ne.id?Uh(ne):P).sort((P,Z)=>P.name.localeCompare(Z.name)))},k=async R=>{const{error:q}=await le.from("inventory_items").delete().eq("id",R);if(q){console.error(q);return}u(ne=>ne.filter(E=>E.id!==R))},j=async R=>{const q={name:R.name,email:R.email,phone:R.phone,avatar_url:R.avatar,status:R.status,membership_type:R.membershipType},{data:ne,error:E}=await le.from("members").insert(q).select().single();if(E){console.error(E);return}ne&&g(F=>[qh(ne),...F].sort((P,Z)=>P.name.localeCompare(Z.name)))},M=async R=>{const q={name:R.name,email:R.email,phone:R.phone,avatar_url:R.avatar,status:R.status,membership_type:R.membershipType},{data:ne,error:E}=await le.from("members").update(q).eq("id",R.id).select().single();if(E){console.error(E);return}ne&&g(F=>F.map(P=>P.id===ne.id?qh(ne):P).sort((P,Z)=>P.name.localeCompare(Z.name)))},L=R=>{b(q=>[R,...q].slice(0,10))},$=()=>b([]),[I,V]=v.useState([]),[J,Q]=v.useState([]),B=async()=>{try{const{data:R,error:q}=await le.from("comanda_items").select(`
          *,
          comanda:comandas(
            id,
            table_id,
            customer_name,
            opened_at,
            table:bar_tables(number)
          ),
          menu_item:menu_items(
            *,
            inventory_items!left(name, image_url)
          )
        `).in("status",["pending","preparing","ready"]).order("added_at",{ascending:!0});if(q)throw q;const{data:ne,error:E}=await le.from("balcao_order_items").select(`
          *,
          balcao_order:balcao_orders!inner(
            id,
            order_number,
            customer_name,
            status,
            created_at
          ),
          menu_item:menu_items(
            *,
            inventory_items!left(name, image_url)
          )
        `).in("balcao_order.status",["paid","preparing","ready"]).order("created_at",{ascending:!0});if(E)throw E;const F=new Map;R==null||R.forEach(P=>{var me,ke,Ge,ct,bt,Lt,ds;const Z=(me=P.comanda)==null?void 0:me.id;if(!Z)return;const ue=new Date(P.added_at),ye=`${ue.getFullYear()}-${ue.getMonth()}-${ue.getDate()}-${ue.getHours()}-${ue.getMinutes()}`,fe=`comanda-${Z}-${ye}`;F.has(fe)||F.set(fe,{id:fe,tableNumber:(Ge=(ke=P.comanda)==null?void 0:ke.table)==null?void 0:Ge.number,items:[],status:P.status,total:0,createdAt:new Date(P.added_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Mesa ${(bt=(ct=P.comanda)==null?void 0:ct.table)==null?void 0:bt.number} - ${((Lt=P.comanda)==null?void 0:Lt.customer_name)||"Cliente"}`});const oe=F.get(fe);oe.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.item_type==="direct"&&((ds=P.menu_item.inventory_items)!=null&&ds.name)?P.menu_item.inventory_items.name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time,item_type:P.menu_item.item_type}:void 0}),oe.total+=P.price*P.quantity}),ne==null||ne.forEach(P=>{var fe,oe;const Z=(fe=P.balcao_order)==null?void 0:fe.id;if(!Z)return;const ue=`balcao-${Z}`;F.has(ue)||F.set(ue,{id:ue,tableNumber:"Balco",items:[],status:P.balcao_order.status==="paid"?"pending":P.balcao_order.status==="preparing"?"preparing":"ready",total:0,createdAt:new Date(P.balcao_order.created_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Pedido Balco #${P.balcao_order.order_number}${P.balcao_order.customer_name?` - ${P.balcao_order.customer_name}`:""}`});const ye=F.get(ue);ye.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.unit_price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.item_type==="direct"&&((oe=P.menu_item.inventory_items)!=null&&oe.name)?P.menu_item.inventory_items.name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time,item_type:P.menu_item.item_type}:void 0}),ye.total+=P.unit_price*P.quantity}),Q(Array.from(F.values()))}catch(R){console.error("Erro ao buscar pedidos do bar:",R)}},Y=async()=>{try{const{data:R,error:q}=await le.from("comanda_items").select(`
          *,
          comanda:comandas(
            id,
            table_id,
            customer_name,
            opened_at,
            table:bar_tables(number)
          ),
          menu_item:menu_items!inner(*)
        `).in("status",["pending","preparing"]).neq("menu_item.item_type","direct").order("added_at",{ascending:!0});if(q)throw q;const{data:ne,error:E}=await le.from("balcao_order_items").select(`
          *,
          balcao_order:balcao_orders!inner(
            id,
            order_number,
            customer_name,
            status,
            created_at
          ),
          menu_item:menu_items!inner(*)
        `).in("balcao_order.status",["paid","preparing"]).neq("menu_item.item_type","direct").order("created_at",{ascending:!0});if(E)throw E;const F=new Map;R==null||R.forEach(P=>{var me,ke,Ge,ct,bt,Lt;const Z=(me=P.comanda)==null?void 0:me.id;if(!Z)return;const ue=new Date(P.added_at),ye=`${ue.getFullYear()}-${ue.getMonth()}-${ue.getDate()}-${ue.getHours()}-${ue.getMinutes()}`,fe=`comanda-${Z}-${ye}`;F.has(fe)||F.set(fe,{id:fe,tableNumber:(Ge=(ke=P.comanda)==null?void 0:ke.table)==null?void 0:Ge.number,items:[],status:P.status,total:0,createdAt:new Date(P.added_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Mesa ${(bt=(ct=P.comanda)==null?void 0:ct.table)==null?void 0:bt.number} - ${((Lt=P.comanda)==null?void 0:Lt.customer_name)||"Cliente"}`});const oe=F.get(fe);oe.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time}:void 0}),oe.total+=P.price*P.quantity}),ne==null||ne.forEach(P=>{var fe;const Z=(fe=P.balcao_order)==null?void 0:fe.id;if(!Z)return;const ue=`balcao-${Z}`;F.has(ue)||F.set(ue,{id:ue,tableNumber:"Balco",items:[],status:P.balcao_order.status==="paid"?"pending":"preparing",total:0,createdAt:new Date(P.balcao_order.created_at),updatedAt:new Date(P.created_at),employeeId:"",notes:`Pedido Balco #${P.balcao_order.order_number}${P.balcao_order.customer_name?` - ${P.balcao_order.customer_name}`:""}`});const ye=F.get(ue);ye.items.push({id:P.id,menuItemId:P.menu_item_id,quantity:P.quantity,price:P.unit_price,notes:P.notes,menuItem:P.menu_item?{id:P.menu_item.id,name:P.menu_item.name,category:P.menu_item.category,preparationTime:P.menu_item.preparation_time}:void 0}),ye.total+=P.unit_price*P.quantity}),V(Array.from(F.values()))}catch(R){console.error("Erro ao buscar pedidos da cozinha:",R)}};v.useEffect(()=>{Y(),B();const R=le.channel("kitchen-orders-realtime").on("postgres_changes",{event:"*",schema:"public",table:"comanda_items"},q=>{console.log(" SUBSCRIPTION ATIVADA - comanda_items:",q),console.log("Event Type:",q.eventType),console.log("New data:",q.new),console.log("Old data:",q.old),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar..."),Y(),B()},100),q.eventType==="INSERT"?console.log(" Novo item inserido na comanda"):q.eventType==="UPDATE"?console.log(" Item da comanda atualizado"):q.eventType==="DELETE"&&console.log(" Item da comanda removido")}).on("postgres_changes",{event:"*",schema:"public",table:"comandas"},q=>{console.log(" SUBSCRIPTION ATIVADA - comandas:",q),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar (comandas)..."),Y(),B()},100)}).on("postgres_changes",{event:"*",schema:"public",table:"balcao_orders"},q=>{var ne,E;console.log(" SUBSCRIPTION ATIVADA - balcao_orders:",q),console.log("Event Type:",q.eventType),console.log("New data:",q.new),console.log("Old data:",q.old),q.eventType==="UPDATE"&&((ne=q.old)==null?void 0:ne.status)==="pending_payment"&&((E=q.new)==null?void 0:E.status)==="paid"&&(console.log(" PEDIDO PAGO DETECTADO! Forando atualizao imediata..."),Y(),B()),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar (balco)..."),Y(),B()},1e3)}).on("postgres_changes",{event:"*",schema:"public",table:"balcao_order_items"},q=>{console.log(" SUBSCRIPTION ATIVADA - balcao_order_items:",q),console.log("Event Type:",q.eventType),setTimeout(()=>{console.log(" Recarregando pedidos da cozinha e bar (itens balco)..."),Y(),B()},500)}).subscribe(q=>{console.log(" Status da subscription kitchen-orders:",q),q==="SUBSCRIBED"?console.log(" Subscription ativa e funcionando!"):q==="CHANNEL_ERROR"&&console.error(" Erro na subscription!")});return()=>{console.log(" Desconectando subscription kitchen-orders"),R.unsubscribe()}},[]);const K=I.filter(R=>R.items.length>0),z=J.filter(R=>R.items.length>0);return a.jsx(Zv.Provider,{value:{menuItems:t,addMenuItem:w,updateMenuItem:_,removeMenuItem:T,orders:i,addOrder:N,updateOrderStatus:D,kitchenOrders:K,barOrders:z,refreshKitchenOrders:Y,refreshBarOrders:B,inventory:c,inventoryCategories:h,addInventoryItem:S,updateInventoryItem:A,removeInventoryItem:k,members:p,addMember:j,updateMember:M,notifications:y,addNotification:L,clearNotifications:$},children:e})},uf=v.createContext({});function hf(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const mf=typeof window<"u",Jv=mf?v.useLayoutEffect:v.useEffect,nd=v.createContext(null);function ff(e,t){e.indexOf(t)===-1&&e.push(t)}function pf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Aa=(e,t,n)=>n>t?t:n<e?e:n;let gf=()=>{};const ka={},ew=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function tw(e){return typeof e=="object"&&e!==null}const sw=e=>/^0[^.\s]+$/u.test(e);function xf(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ds=e=>e,cC=(e,t)=>n=>t(e(n)),Jo=(...e)=>e.reduce(cC),$o=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class yf{constructor(){this.subscriptions=[]}add(t){return ff(this.subscriptions,t),()=>pf(this.subscriptions,t)}notify(t,n,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,i);else for(let c=0;c<l;c++){const u=this.subscriptions[c];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const na=e=>e*1e3,ra=e=>e/1e3;function aw(e,t){return t?e*(1e3/t):0}const nw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,dC=1e-7,uC=12;function hC(e,t,n,i,l){let c,u,h=0;do u=t+(n-t)/2,c=nw(u,i,l)-e,c>0?n=u:t=u;while(Math.abs(c)>dC&&++h<uC);return u}function el(e,t,n,i){if(e===t&&n===i)return Ds;const l=c=>hC(c,0,1,e,n);return c=>c===0||c===1?c:nw(l(c),t,i)}const rw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iw=e=>t=>1-e(1-t),ow=el(.33,1.53,.69,.99),bf=iw(ow),lw=rw(bf),cw=e=>(e*=2)<1?.5*bf(e):.5*(2-Math.pow(2,-10*(e-1))),vf=e=>1-Math.sin(Math.acos(e)),dw=iw(vf),uw=rw(vf),mC=el(.42,0,1,1),fC=el(0,0,.58,1),hw=el(.42,0,.58,1),pC=e=>Array.isArray(e)&&typeof e[0]!="number",mw=e=>Array.isArray(e)&&typeof e[0]=="number",gC={linear:Ds,easeIn:mC,easeInOut:hw,easeOut:fC,circIn:vf,circInOut:uw,circOut:dw,backIn:bf,backInOut:lw,backOut:ow,anticipate:cw},xC=e=>typeof e=="string",ky=e=>{if(mw(e)){gf(e.length===4);const[t,n,i,l]=e;return el(t,n,i,l)}else if(xC(e))return gC[e];return e},Nc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yC(e,t){let n=new Set,i=new Set,l=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),e()),g(h)}const p={schedule:(g,y=!1,b=!1)=>{const _=b&&l?n:i;return y&&u.add(g),_.has(g)||_.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,l){c=!0;return}l=!0,[n,i]=[i,n],n.forEach(f),n.clear(),l=!1,c&&(c=!1,p.process(g))}};return p}const bC=40;function fw(e,t){let n=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=Nc.reduce((A,k)=>(A[k]=yC(c),A),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:y,preRender:b,render:w,postRender:_}=u,T=()=>{const A=ka.useManualTiming?l.timestamp:performance.now();n=!1,ka.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(A-l.timestamp,bC),1)),l.timestamp=A,l.isProcessing=!0,h.process(l),f.process(l),p.process(l),g.process(l),y.process(l),b.process(l),w.process(l),_.process(l),l.isProcessing=!1,n&&t&&(i=!1,e(T))},N=()=>{n=!0,i=!0,l.isProcessing||e(T)};return{schedule:Nc.reduce((A,k)=>{const j=u[k];return A[k]=(M,L=!1,$=!1)=>(n||N(),j.schedule(M,L,$)),A},{}),cancel:A=>{for(let k=0;k<Nc.length;k++)u[Nc[k]].cancel(A)},state:l,steps:u}}const{schedule:rt,cancel:un,state:Ut,steps:Hh}=fw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ds,!0);let kc;function vC(){kc=void 0}const ls={now:()=>(kc===void 0&&ls.set(Ut.isProcessing||ka.useManualTiming?Ut.timestamp:performance.now()),kc),set:e=>{kc=e,queueMicrotask(vC)}},pw=e=>t=>typeof t=="string"&&t.startsWith(e),wf=pw("--"),wC=pw("var(--"),jf=e=>wC(e)?jC.test(e.split("/*")[0].trim()):!1,jC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uo={...xi,transform:e=>Aa(0,1,e)},Sc={...xi,default:1},Mo=e=>Math.round(e*1e5)/1e5,_f=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _C(e){return e==null}const NC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nf=(e,t)=>n=>!!(typeof n=="string"&&NC.test(n)&&n.startsWith(e)||t&&!_C(n)&&Object.prototype.hasOwnProperty.call(n,t)),gw=(e,t,n)=>i=>{if(typeof i!="string")return i;const[l,c,u,h]=i.match(_f);return{[e]:parseFloat(l),[t]:parseFloat(c),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},SC=e=>Aa(0,255,e),Ih={...xi,transform:e=>Math.round(SC(e))},qn={test:Nf("rgb","red"),parse:gw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Ih.transform(e)+", "+Ih.transform(t)+", "+Ih.transform(n)+", "+Mo(Uo.transform(i))+")"};function TC(e){let t="",n="",i="",l="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),l=e.substring(4,5),t+=t,n+=n,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const jm={test:Nf("#"),parse:TC,transform:qn.transform},tl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ln=tl("deg"),ia=tl("%"),Ee=tl("px"),CC=tl("vh"),EC=tl("vw"),My={...ia,parse:e=>ia.parse(e)/100,transform:e=>ia.transform(e*100)},ti={test:Nf("hsl","hue"),parse:gw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ia.transform(Mo(t))+", "+ia.transform(Mo(n))+", "+Mo(Uo.transform(i))+")"},Nt={test:e=>qn.test(e)||jm.test(e)||ti.test(e),parse:e=>qn.test(e)?qn.parse(e):ti.test(e)?ti.parse(e):jm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qn.transform(e):ti.transform(e),getAnimatableNone:e=>{const t=Nt.parse(e);return t.alpha=0,Nt.transform(t)}},AC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_f))==null?void 0:t.length)||0)+(((n=e.match(AC))==null?void 0:n.length)||0)>0}const xw="number",yw="color",MC="var",OC="var(",Oy="${}",DC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qo(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},l=[];let c=0;const h=t.replace(DC,f=>(Nt.test(f)?(i.color.push(c),l.push(yw),n.push(Nt.parse(f))):f.startsWith(OC)?(i.var.push(c),l.push(MC),n.push(f)):(i.number.push(c),l.push(xw),n.push(parseFloat(f))),++c,Oy)).split(Oy);return{values:n,split:h,indexes:i,types:l}}function bw(e){return qo(e).values}function vw(e){const{split:t,types:n}=qo(e),i=t.length;return l=>{let c="";for(let u=0;u<i;u++)if(c+=t[u],l[u]!==void 0){const h=n[u];h===xw?c+=Mo(l[u]):h===yw?c+=Nt.transform(l[u]):c+=l[u]}return c}}const RC=e=>typeof e=="number"?0:Nt.test(e)?Nt.getAnimatableNone(e):e;function PC(e){const t=bw(e);return vw(e)(t.map(RC))}const hn={test:kC,parse:bw,createTransformer:vw,getAnimatableNone:PC};function Gh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zC({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let l=0,c=0,u=0;if(!t)l=c=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,f=2*n-h;l=Gh(f,h,e+1/3),c=Gh(f,h,e),u=Gh(f,h,e-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function $c(e,t){return n=>n>0?t:e}const lt=(e,t,n)=>e+(t-e)*n,Yh=(e,t,n)=>{const i=e*e,l=n*(t*t-i)+i;return l<0?0:Math.sqrt(l)},LC=[jm,qn,ti],BC=e=>LC.find(t=>t.test(e));function Dy(e){const t=BC(e);if(!t)return!1;let n=t.parse(e);return t===ti&&(n=zC(n)),n}const Ry=(e,t)=>{const n=Dy(e),i=Dy(t);if(!n||!i)return $c(e,t);const l={...n};return c=>(l.red=Yh(n.red,i.red,c),l.green=Yh(n.green,i.green,c),l.blue=Yh(n.blue,i.blue,c),l.alpha=lt(n.alpha,i.alpha,c),qn.transform(l))},_m=new Set(["none","hidden"]);function VC(e,t){return _m.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function $C(e,t){return n=>lt(e,t,n)}function Sf(e){return typeof e=="number"?$C:typeof e=="string"?jf(e)?$c:Nt.test(e)?Ry:FC:Array.isArray(e)?ww:typeof e=="object"?Nt.test(e)?Ry:UC:$c}function ww(e,t){const n=[...e],i=n.length,l=e.map((c,u)=>Sf(c)(c,t[u]));return c=>{for(let u=0;u<i;u++)n[u]=l[u](c);return n}}function UC(e,t){const n={...e,...t},i={};for(const l in n)e[l]!==void 0&&t[l]!==void 0&&(i[l]=Sf(e[l])(e[l],t[l]));return l=>{for(const c in i)n[c]=i[c](l);return n}}function qC(e,t){const n=[],i={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],u=e.indexes[c][i[c]],h=e.values[u]??0;n[l]=h,i[c]++}return n}const FC=(e,t)=>{const n=hn.createTransformer(t),i=qo(e),l=qo(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?_m.has(e)&&!l.values.length||_m.has(t)&&!i.values.length?VC(e,t):Jo(ww(qC(i,l),l.values),n):$c(e,t)};function jw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?lt(e,t,n):Sf(e)(e,t)}const HC=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>rt.update(t,n),stop:()=>un(t),now:()=>Ut.isProcessing?Ut.timestamp:ls.now()}},_w=(e,t,n=10)=>{let i="";const l=Math.max(Math.round(t/n),2);for(let c=0;c<l;c++)i+=Math.round(e(c/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Uc=2e4;function Tf(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Uc;)t+=n,i=e.next(t);return t>=Uc?1/0:t}function IC(e,t=100,n){const i=n({...e,keyframes:[0,t]}),l=Math.min(Tf(i),Uc);return{type:"keyframes",ease:c=>i.next(l*c).value/t,duration:ra(l)}}const GC=5;function Nw(e,t,n){const i=Math.max(t-GC,0);return aw(n-e(i),t-i)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xh=.001;function YC({duration:e=ht.duration,bounce:t=ht.bounce,velocity:n=ht.velocity,mass:i=ht.mass}){let l,c,u=1-t;u=Aa(ht.minDamping,ht.maxDamping,u),e=Aa(ht.minDuration,ht.maxDuration,ra(e)),u<1?(l=p=>{const g=p*u,y=g*e,b=g-n,w=Nm(p,u),_=Math.exp(-y);return Xh-b/w*_},c=p=>{const y=p*u*e,b=y*n+n,w=Math.pow(u,2)*Math.pow(p,2)*e,_=Math.exp(-y),T=Nm(Math.pow(p,2),u);return(-l(p)+Xh>0?-1:1)*((b-w)*_)/T}):(l=p=>{const g=Math.exp(-p*e),y=(p-n)*e+1;return-Xh+g*y},c=p=>{const g=Math.exp(-p*e),y=(n-p)*(e*e);return g*y});const h=5/e,f=KC(l,c,h);if(e=na(e),isNaN(f))return{stiffness:ht.stiffness,damping:ht.damping,duration:e};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:e}}}const XC=12;function KC(e,t,n){let i=n;for(let l=1;l<XC;l++)i=i-e(i)/t(i);return i}function Nm(e,t){return e*Math.sqrt(1-t*t)}const WC=["duration","bounce"],QC=["stiffness","damping","mass"];function Py(e,t){return t.some(n=>e[n]!==void 0)}function ZC(e){let t={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...e};if(!Py(e,QC)&&Py(e,WC))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),l=i*i,c=2*Aa(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:ht.mass,stiffness:l,damping:c}}else{const n=YC(e);t={...t,...n,mass:ht.mass},t.isResolvedFromDuration=!0}return t}function qc(e=ht.visualDuration,t=ht.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:l}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:c},{stiffness:f,damping:p,mass:g,duration:y,velocity:b,isResolvedFromDuration:w}=ZC({...n,velocity:-ra(n.velocity||0)}),_=b||0,T=p/(2*Math.sqrt(f*g)),N=u-c,D=ra(Math.sqrt(f/g)),S=Math.abs(N)<5;i||(i=S?ht.restSpeed.granular:ht.restSpeed.default),l||(l=S?ht.restDelta.granular:ht.restDelta.default);let A;if(T<1){const j=Nm(D,T);A=M=>{const L=Math.exp(-T*D*M);return u-L*((_+T*D*N)/j*Math.sin(j*M)+N*Math.cos(j*M))}}else if(T===1)A=j=>u-Math.exp(-D*j)*(N+(_+D*N)*j);else{const j=D*Math.sqrt(T*T-1);A=M=>{const L=Math.exp(-T*D*M),$=Math.min(j*M,300);return u-L*((_+T*D*N)*Math.sinh($)+j*N*Math.cosh($))/j}}const k={calculatedDuration:w&&y||null,next:j=>{const M=A(j);if(w)h.done=j>=y;else{let L=j===0?_:0;T<1&&(L=j===0?na(_):Nw(A,j,M));const $=Math.abs(L)<=i,I=Math.abs(u-M)<=l;h.done=$&&I}return h.value=h.done?u:M,h},toString:()=>{const j=Math.min(Tf(k),Uc),M=_w(L=>k.next(j*L).value,j,30);return j+"ms "+M},toTransition:()=>{}};return k}qc.applyToOptions=e=>{const t=IC(e,100,qc);return e.ease=t.ease,e.duration=na(t.duration),e.type="keyframes",e};function Sm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const y=e[0],b={done:!1,value:y},w=$=>h!==void 0&&$<h||f!==void 0&&$>f,_=$=>h===void 0?f:f===void 0||Math.abs(h-$)<Math.abs(f-$)?h:f;let T=n*t;const N=y+T,D=u===void 0?N:u(N);D!==N&&(T=D-y);const S=$=>-T*Math.exp(-$/i),A=$=>D+S($),k=$=>{const I=S($),V=A($);b.done=Math.abs(I)<=p,b.value=b.done?D:V};let j,M;const L=$=>{w(b.value)&&(j=$,M=qc({keyframes:[b.value,_(b.value)],velocity:Nw(A,$,b.value),damping:l,stiffness:c,restDelta:p,restSpeed:g}))};return L(0),{calculatedDuration:null,next:$=>{let I=!1;return!M&&j===void 0&&(I=!0,k($),L($)),j!==void 0&&$>=j?M.next($-j):(!I&&k($),b)}}}function JC(e,t,n){const i=[],l=n||ka.mix||jw,c=e.length-1;for(let u=0;u<c;u++){let h=l(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Ds:t;h=Jo(f,h)}i.push(h)}return i}function e4(e,t,{clamp:n=!0,ease:i,mixer:l}={}){const c=e.length;if(gf(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=JC(t,i,l),f=h.length,p=g=>{if(u&&g<e[0])return t[0];let y=0;if(f>1)for(;y<e.length-2&&!(g<e[y+1]);y++);const b=$o(e[y],e[y+1],g);return h[y](b)};return n?g=>p(Aa(e[0],e[c-1],g)):p}function t4(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const l=$o(0,t,i);e.push(lt(n,1,l))}}function s4(e){const t=[0];return t4(t,e.length-1),t}function a4(e,t){return e.map(n=>n*t)}function n4(e,t){return e.map(()=>t||hw).splice(0,e.length-1)}function Oo({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const l=pC(i)?i.map(ky):ky(i),c={done:!1,value:t[0]},u=a4(n&&n.length===t.length?n:s4(t),e),h=e4(u,t,{ease:Array.isArray(l)?l:n4(t,l)});return{calculatedDuration:e,next:f=>(c.value=h(f),c.done=f>=e,c)}}const r4=e=>e!==null;function Cf(e,{repeat:t,repeatType:n="loop"},i,l=1){const c=e.filter(r4),h=l<0||t&&n!=="loop"&&t%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const i4={decay:Sm,inertia:Sm,tween:Oo,keyframes:Oo,spring:qc};function Sw(e){typeof e.type=="string"&&(e.type=i4[e.type])}class Ef{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const o4=e=>e/100;class Af extends Ef{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,l;const{motionValue:n}=this.options;n&&n.updatedAt!==ls.now()&&this.tick(ls.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(i=this.options).onStop)==null||l.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sw(t);const{type:n=Oo,repeat:i=0,repeatDelay:l=0,repeatType:c,velocity:u=0}=t;let{keyframes:h}=t;const f=n||Oo;f!==Oo&&typeof h[0]!="number"&&(this.mixKeyframes=Jo(o4,jw(h[0],h[1])),h=[0,100]);const p=f({...t,keyframes:h});c==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Tf(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:l,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:b,repeatDelay:w,type:_,onUpdate:T,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?D<0:D>l;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let A=this.currentTime,k=i;if(y){const $=Math.min(this.currentTime,l)/h;let I=Math.floor($),V=$%1;!V&&$>=1&&(V=1),V===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(b==="reverse"?(V=1-V,w&&(V-=w/h)):b==="mirror"&&(k=u)),A=Aa(0,1,V)*h}const j=S?{done:!1,value:g[0]}:k.next(A);c&&(j.value=c(j.value));let{done:M}=j;!S&&f!==null&&(M=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return L&&_!==Sm&&(j.value=Cf(g,this.options,N,this.speed)),T&&T(j.value),L&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return ra(this.calculatedDuration)}get time(){return ra(this.currentTime)}set time(t){var n;t=na(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ls.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ra(this.currentTime))}play(){var l,c;if(this.isStopped)return;const{driver:t=HC,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(c=(l=this.options).onPlay)==null||c.call(l);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ls.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function l4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fn=e=>e*180/Math.PI,Tm=e=>{const t=Fn(Math.atan2(e[1],e[0]));return Cm(t)},c4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Tm,rotateZ:Tm,skewX:e=>Fn(Math.atan(e[1])),skewY:e=>Fn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cm=e=>(e=e%360,e<0&&(e+=360),e),zy=Tm,Ly=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),By=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),d4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ly,scaleY:By,scale:e=>(Ly(e)+By(e))/2,rotateX:e=>Cm(Fn(Math.atan2(e[6],e[5]))),rotateY:e=>Cm(Fn(Math.atan2(-e[2],e[0]))),rotateZ:zy,rotate:zy,skewX:e=>Fn(Math.atan(e[4])),skewY:e=>Fn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Em(e){return e.includes("scale")?1:0}function Am(e,t){if(!e||e==="none")return Em(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(n)i=d4,l=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=c4,l=h}if(!l)return Em(t);const c=i[t],u=l[1].split(",").map(h4);return typeof c=="function"?c(u):u[c]}const u4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Am(n,t)};function h4(e){return parseFloat(e.trim())}const yi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bi=new Set(yi),Vy=e=>e===xi||e===Ee,m4=new Set(["x","y","z"]),f4=yi.filter(e=>!m4.has(e));function p4(e){const t=[];return f4.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const In={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Am(t,"x"),y:(e,{transform:t})=>Am(t,"y")};In.translateX=In.x;In.translateY=In.y;const Gn=new Set;let km=!1,Mm=!1,Om=!1;function Tw(){if(Mm){const e=Array.from(Gn).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const l=p4(i);l.length&&(n.set(i,l),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=n.get(i);l&&l.forEach(([c,u])=>{var h;(h=i.getValue(c))==null||h.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mm=!1,km=!1,Gn.forEach(e=>e.complete(Om)),Gn.clear()}function Cw(){Gn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mm=!0)})}function g4(){Om=!0,Cw(),Tw(),Om=!1}class kf{constructor(t,n,i,l,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=l,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Gn.add(this),km||(km=!0,rt.read(Cw),rt.resolveKeyframes(Tw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:l}=this;if(t[0]===null){const c=l==null?void 0:l.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(i&&n){const h=i.readValue(n,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),l&&c===void 0&&l.set(t[0])}l4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Gn.delete(this)}cancel(){this.state==="scheduled"&&(Gn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x4=e=>e.startsWith("--");function y4(e,t,n){x4(t)?e.style.setProperty(t,n):e.style[t]=n}const b4=xf(()=>window.ScrollTimeline!==void 0),v4={};function w4(e,t){const n=xf(e);return()=>v4[t]??n()}const Ew=w4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Co=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,$y={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function Aw(e,t){if(e)return typeof e=="function"?Ew()?_w(e,t):"ease-out":mw(e)?Co(e):Array.isArray(e)?e.map(n=>Aw(n,t)||$y.easeOut):$y[e]}function j4(e,t,n,{delay:i=0,duration:l=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[t]:n};f&&(g.offset=f);const y=Aw(h,l);Array.isArray(y)&&(g.easing=y);const b={delay:i,duration:l,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(g,b)}function kw(e){return typeof e=="function"&&"applyToOptions"in e}function _4({type:e,...t}){return kw(e)&&Ew()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class N4 extends Ef{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:l,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,gf(typeof t.type!="string");const p=_4(t);this.animation=j4(n,i,l,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Cf(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):y4(n,i,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return ra(Number(t))}get time(){return ra(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=na(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&b4()?(this.animation.timeline=t,Ds):n(this)}}const Mw={anticipate:cw,backInOut:lw,circInOut:uw};function S4(e){return e in Mw}function T4(e){typeof e.ease=="string"&&S4(e.ease)&&(e.ease=Mw[e.ease])}const Uy=10;class C4 extends N4{constructor(t){T4(t),Sw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:l,element:c,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new Af({...u,autoplay:!1}),f=na(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-Uy).value,h.sample(f).value,Uy),h.stop()}}const qy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hn.test(e)||e==="0")&&!e.startsWith("url("));function E4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function A4(e,t,n,i){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],u=qy(l,t),h=qy(c,t);return!u||!h?!1:E4(e)||(n==="spring"||kw(n))&&i}function Dm(e){e.duration=0,e.type}const k4=new Set(["opacity","clipPath","filter","transform"]),M4=xf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O4(e){var g;const{motionValue:t,name:n,repeatDelay:i,repeatType:l,damping:c,type:u}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return M4()&&n&&k4.has(n)&&(n!=="transform"||!p)&&!f&&!i&&l!=="mirror"&&c!==0&&u!=="inertia"}const D4=40;class R4 extends Ef{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:g,...y}){var _;super(),this.stop=()=>{var T,N;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=ls.now();const b={autoplay:t,delay:n,type:i,repeat:l,repeatDelay:c,repeatType:u,name:f,motionValue:p,element:g,...y},w=(g==null?void 0:g.KeyframeResolver)||kf;this.keyframeResolver=new w(h,(T,N,D)=>this.onKeyframesResolved(T,N,b,!D),f,p,g),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(t,n,i,l){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:g}=i;this.resolvedAt=ls.now(),A4(t,c,u,h)||((ka.instantAnimations||!f)&&(g==null||g(Cf(t,i,n))),t[0]=t[t.length-1],Dm(i),i.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>D4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},w=!p&&O4(b)?new C4({...b,element:b.motionValue.owner.current}):new Af(b);w.finished.then(()=>this.notifyFinished()).catch(Ds),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),g4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const P4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z4(e){const t=P4.exec(e);if(!t)return[,];const[,n,i,l]=t;return[`--${n??i}`,l]}function Ow(e,t,n=1){const[i,l]=z4(e);if(!i)return;const c=window.getComputedStyle(t).getPropertyValue(i);if(c){const u=c.trim();return ew(u)?parseFloat(u):u}return jf(l)?Ow(l,t,n+1):l}function Mf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Dw=new Set(["width","height","top","left","right","bottom",...yi]),L4={test:e=>e==="auto",parse:e=>e},Rw=e=>t=>t.test(e),Pw=[xi,Ee,ia,ln,EC,CC,L4],Fy=e=>Pw.find(Rw(e));function B4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sw(e):!0}const V4=new Set(["brightness","contrast","saturate","opacity"]);function $4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(_f)||[];if(!i)return e;const l=n.replace(i,"");let c=V4.has(t)?1:0;return i!==n&&(c*=100),t+"("+c+l+")"}const U4=/\b([a-z-]*)\(.*?\)/gu,Rm={...hn,getAnimatableNone:e=>{const t=e.match(U4);return t?t.map($4).join(" "):e}},Hy={...xi,transform:Math.round},q4={rotate:ln,rotateX:ln,rotateY:ln,rotateZ:ln,scale:Sc,scaleX:Sc,scaleY:Sc,scaleZ:Sc,skew:ln,skewX:ln,skewY:ln,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Uo,originX:My,originY:My,originZ:Ee},Of={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...q4,zIndex:Hy,fillOpacity:Uo,strokeOpacity:Uo,numOctaves:Hy},F4={...Of,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Rm,WebkitFilter:Rm},zw=e=>F4[e];function Lw(e,t){let n=zw(e);return n!==Rm&&(n=hn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const H4=new Set(["auto","none","0"]);function I4(e,t,n){let i=0,l;for(;i<e.length&&!l;){const c=e[i];typeof c=="string"&&!H4.has(c)&&qo(c).values.length&&(l=e[i]),i++}if(l&&n)for(const c of t)e[c]=Lw(n,l)}class G4 extends kf{constructor(t,n,i,l,c){super(t,n,i,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),jf(p))){const g=Ow(p,n.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Dw.has(i)||t.length!==2)return;const[l,c]=t,u=Fy(l),h=Fy(c);if(u!==h)if(Vy(u)&&Vy(h))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else In[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let l=0;l<t.length;l++)(t[l]===null||B4(t[l]))&&i.push(l);i.length&&I4(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=In[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){var h;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const l=t.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=In[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function Y4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const l=(n==null?void 0:n[e])??i.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const Bw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Vw(e){return tw(e)&&"offsetHeight"in e}const Iy=30,X4=e=>!isNaN(parseFloat(e));class K4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var c;const l=ls.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ls.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=X4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yf);const i=this.events[t].add(n);return t==="change"?()=>{i(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Iy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Iy);return aw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ci(e,t){return new K4(e,t)}const{schedule:Df}=fw(queueMicrotask,!1),Vs={x:!1,y:!1};function $w(){return Vs.x||Vs.y}function W4(e){return e==="x"||e==="y"?Vs[e]?null:(Vs[e]=!0,()=>{Vs[e]=!1}):Vs.x||Vs.y?null:(Vs.x=Vs.y=!0,()=>{Vs.x=Vs.y=!1})}function Uw(e,t){const n=Y4(e),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[n,l,()=>i.abort()]}function Gy(e){return!(e.pointerType==="touch"||$w())}function Q4(e,t,n={}){const[i,l,c]=Uw(e,n),u=h=>{if(!Gy(h))return;const{target:f}=h,p=t(f,h);if(typeof p!="function"||!f)return;const g=y=>{Gy(y)&&(p(y),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,l)};return i.forEach(h=>{h.addEventListener("pointerenter",u,l)}),c}const qw=(e,t)=>t?e===t?!0:qw(e,t.parentElement):!1,Rf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Z4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J4(e){return Z4.has(e.tagName)||e.tabIndex!==-1}const Mc=new WeakSet;function Yy(e){return t=>{t.key==="Enter"&&e(t)}}function Kh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eE=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Yy(()=>{if(Mc.has(n))return;Kh(n,"down");const l=Yy(()=>{Kh(n,"up")}),c=()=>Kh(n,"cancel");n.addEventListener("keyup",l,t),n.addEventListener("blur",c,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Xy(e){return Rf(e)&&!$w()}function tE(e,t,n={}){const[i,l,c]=Uw(e,n),u=h=>{const f=h.currentTarget;if(!Xy(h))return;Mc.add(f);const p=t(f,h),g=(w,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),Mc.has(f)&&Mc.delete(f),Xy(w)&&typeof p=="function"&&p(w,{success:_})},y=w=>{g(w,f===window||f===document||n.useGlobalTarget||qw(f,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",y,l),window.addEventListener("pointercancel",b,l)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,l),Vw(h)&&(h.addEventListener("focus",p=>eE(p,l)),!J4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Fw(e){return tw(e)&&"ownerSVGElement"in e}function sE(e){return Fw(e)&&e.tagName==="svg"}const Yt=e=>!!(e&&e.getVelocity),aE=[...Pw,Nt,hn],nE=e=>aE.find(Rw(e)),Pf=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class rE extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,l=Vw(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=l-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iE({children:e,isPresent:t,anchorX:n,root:i}){const l=v.useId(),c=v.useRef(null),u=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=v.useContext(Pf);return v.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:y,right:b}=u.current;if(t||!c.current||!f||!p)return;const w=n==="left"?`left: ${y}`:`right: ${b}`;c.current.dataset.motionPopId=l;const _=document.createElement("style");h&&(_.nonce=h);const T=i??document.head;return T.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{T.contains(_)&&T.removeChild(_)}},[t]),a.jsx(rE,{isPresent:t,childRef:c,sizeRef:u,children:v.cloneElement(e,{ref:c})})}const oE=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:l,presenceAffectsLayout:c,mode:u,anchorX:h,root:f})=>{const p=hf(lE),g=v.useId();let y=!0,b=v.useMemo(()=>(y=!1,{id:g,initial:t,isPresent:n,custom:l,onExitComplete:w=>{p.set(w,!0);for(const _ of p.values())if(!_)return;i&&i()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,i]);return c&&y&&(b={...b}),v.useMemo(()=>{p.forEach((w,_)=>p.set(_,!1))},[n]),v.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),u==="popLayout"&&(e=a.jsx(iE,{isPresent:n,anchorX:h,root:f,children:e})),a.jsx(nd.Provider,{value:b,children:e})};function lE(){return new Map}function Hw(e=!0){const t=v.useContext(nd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:l}=t,c=v.useId();v.useEffect(()=>{if(e)return l(c)},[e]);const u=v.useCallback(()=>e&&i&&i(c),[c,i,e]);return!n&&i?[!1,u]:[!0]}const Tc=e=>e.key||"";function Ky(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Zn=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[p,g]=Hw(u),y=v.useMemo(()=>Ky(e),[e]),b=u&&!p?[]:y.map(Tc),w=v.useRef(!0),_=v.useRef(y),T=hf(()=>new Map),[N,D]=v.useState(y),[S,A]=v.useState(y);Jv(()=>{w.current=!1,_.current=y;for(let M=0;M<S.length;M++){const L=Tc(S[M]);b.includes(L)?T.delete(L):T.get(L)!==!0&&T.set(L,!1)}},[S,b.length,b.join("-")]);const k=[];if(y!==N){let M=[...y];for(let L=0;L<S.length;L++){const $=S[L],I=Tc($);b.includes(I)||(M.splice(L,0,$),k.push($))}return c==="wait"&&k.length&&(M=k),A(Ky(M)),D(y),null}const{forceRender:j}=v.useContext(uf);return a.jsx(a.Fragment,{children:S.map(M=>{const L=Tc(M),$=u&&!p?!1:y===S||b.includes(L),I=()=>{if(T.has(L))T.set(L,!0);else return;let V=!0;T.forEach(J=>{J||(V=!1)}),V&&(j==null||j(),A(_.current),u&&(g==null||g()),i&&i())};return a.jsx(oE,{isPresent:$,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:l,mode:c,root:f,onExitComplete:$?void 0:I,anchorX:h,children:M},L)})})},Iw=v.createContext({strict:!1}),Wy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},di={};for(const e in Wy)di[e]={isEnabled:t=>Wy[e].some(n=>!!t[n])};function cE(e){for(const t in e)di[t]={...di[t],...e[t]}}const dE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dE.has(e)}let Gw=e=>!Fc(e);function uE(e){typeof e=="function"&&(Gw=t=>t.startsWith("on")?!Fc(t):e(t))}try{uE(require("@emotion/is-prop-valid").default)}catch{}function hE(e,t,n){const i={};for(const l in e)l==="values"&&typeof e.values=="object"||(Gw(l)||n===!0&&Fc(l)||!t&&!Fc(l)||e.draggable&&l.startsWith("onDrag"))&&(i[l]=e[l]);return i}const rd=v.createContext({});function id(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fo(e){return typeof e=="string"||Array.isArray(e)}const zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lf=["initial",...zf];function od(e){return id(e.animate)||Lf.some(t=>Fo(e[t]))}function Yw(e){return!!(od(e)||e.variants)}function mE(e,t){if(od(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Fo(n)?n:void 0,animate:Fo(i)?i:void 0}}return e.inherit!==!1?t:{}}function fE(e){const{initial:t,animate:n}=mE(e,v.useContext(rd));return v.useMemo(()=>({initial:t,animate:n}),[Qy(t),Qy(n)])}function Qy(e){return Array.isArray(e)?e.join(" "):e}const Ho={};function pE(e){for(const t in e)Ho[t]=e[t],wf(t)&&(Ho[t].isCSSVariable=!0)}function Xw(e,{layout:t,layoutId:n}){return bi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ho[e]||e==="opacity")}const gE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xE=yi.length;function yE(e,t,n){let i="",l=!0;for(let c=0;c<xE;c++){const u=yi[c],h=e[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Bw(h,Of[u]);if(!f){l=!1;const g=gE[u]||u;i+=`${g}(${p}) `}n&&(t[u]=p)}}return i=i.trim(),n?i=n(t,l?"":i):l&&(i="none"),i}function Bf(e,t,n){const{style:i,vars:l,transformOrigin:c}=e;let u=!1,h=!1;for(const f in t){const p=t[f];if(bi.has(f)){u=!0;continue}else if(wf(f)){l[f]=p;continue}else{const g=Bw(p,Of[f]);f.startsWith("origin")?(h=!0,c[f]=g):i[f]=g}}if(t.transform||(u||n?i.transform=yE(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=c;i.transformOrigin=`${f} ${p} ${g}`}}const Vf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kw(e,t,n){for(const i in t)!Yt(t[i])&&!Xw(i,n)&&(e[i]=t[i])}function bE({transformTemplate:e},t){return v.useMemo(()=>{const n=Vf();return Bf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function vE(e,t){const n=e.style||{},i={};return Kw(i,n,e),Object.assign(i,bE(e,t)),i}function wE(e,t){const n={},i=vE(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const jE={offset:"stroke-dashoffset",array:"stroke-dasharray"},_E={offset:"strokeDashoffset",array:"strokeDasharray"};function NE(e,t,n=1,i=0,l=!0){e.pathLength=1;const c=l?jE:_E;e[c.offset]=Ee.transform(-i);const u=Ee.transform(t),h=Ee.transform(n);e[c.array]=`${u} ${h}`}function Ww(e,{attrX:t,attrY:n,attrScale:i,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},f,p,g){if(Bf(e,h,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:b}=e;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),l!==void 0&&NE(y,l,c,u,!1)}const Qw=()=>({...Vf(),attrs:{}}),Zw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function SE(e,t,n,i){const l=v.useMemo(()=>{const c=Qw();return Ww(c,t,Zw(i),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};Kw(c,e.style,e),l.style={...c,...l.style}}return l}const TE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $f(e){return typeof e!="string"||e.includes("-")?!1:!!(TE.indexOf(e)>-1||/[A-Z]/u.test(e))}function CE(e,t,n,{latestValues:i},l,c=!1){const h=($f(e)?SE:wE)(t,i,l,e),f=hE(t,typeof e=="string",c),p=e!==v.Fragment?{...f,...h,ref:n}:{},{children:g}=t,y=v.useMemo(()=>Yt(g)?g.get():g,[g]);return v.createElement(e,{...p,children:y})}function Zy(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Uf(e,t,n,i){if(typeof t=="function"){const[l,c]=Zy(i);t=t(n!==void 0?n:e.custom,l,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,c]=Zy(i);t=t(n!==void 0?n:e.custom,l,c)}return t}function Oc(e){return Yt(e)?e.get():e}function EE({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,l){return{latestValues:AE(n,i,l,e),renderState:t()}}function AE(e,t,n,i){const l={},c=i(e,{});for(const b in c)l[b]=Oc(c[b]);let{initial:u,animate:h}=e;const f=od(e),p=Yw(e);t&&p&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?h:u;if(y&&typeof y!="boolean"&&!id(y)){const b=Array.isArray(y)?y:[y];for(let w=0;w<b.length;w++){const _=Uf(e,b[w]);if(_){const{transitionEnd:T,transition:N,...D}=_;for(const S in D){let A=D[S];if(Array.isArray(A)){const k=g?A.length-1:0;A=A[k]}A!==null&&(l[S]=A)}for(const S in T)l[S]=T[S]}}}return l}const Jw=e=>(t,n)=>{const i=v.useContext(rd),l=v.useContext(nd),c=()=>EE(e,t,i,l);return n?c():hf(c)};function qf(e,t,n){var c;const{style:i}=e,l={};for(const u in i)(Yt(i[u])||t.style&&Yt(t.style[u])||Xw(u,e)||((c=n==null?void 0:n.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(l[u]=i[u]);return l}const kE=Jw({scrapeMotionValuesFromProps:qf,createRenderState:Vf});function ej(e,t,n){const i=qf(e,t,n);for(const l in e)if(Yt(e[l])||Yt(t[l])){const c=yi.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[c]=e[l]}return i}const ME=Jw({scrapeMotionValuesFromProps:ej,createRenderState:Qw}),OE=Symbol.for("motionComponentSymbol");function si(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function DE(e,t,n){return v.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):si(n)&&(n.current=i))},[t])}const Ff=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RE="framerAppearId",tj="data-"+Ff(RE),sj=v.createContext({});function PE(e,t,n,i,l){var T,N;const{visualElement:c}=v.useContext(rd),u=v.useContext(Iw),h=v.useContext(nd),f=v.useContext(Pf).reducedMotion,p=v.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,y=v.useContext(sj);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&zE(p.current,n,l,y);const b=v.useRef(!1);v.useInsertionEffect(()=>{g&&b.current&&g.update(n,h)});const w=n[tj],_=v.useRef(!!w&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,w))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,w)));return Jv(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),_.current&&g.animationState&&g.animationState.animateChanges())}),v.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,w)}),_.current=!1),g.enteringChildren=void 0)}),g}function zE(e,t,n,i){const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:aj(e.parent)),e.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&si(h),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:p})}function aj(e){if(e)return e.options.allowProjection!==!1?e.projection:aj(e.parent)}function Wh(e,{forwardMotionProps:t=!1}={},n,i){n&&cE(n);const l=$f(e)?ME:kE;function c(h,f){let p;const g={...v.useContext(Pf),...h,layoutId:LE(h)},{isStatic:y}=g,b=fE(h),w=l(h,y);if(!y&&mf){BE();const _=VE(g);p=_.MeasureLayout,b.visualElement=PE(e,w,g,i,_.ProjectionNode)}return a.jsxs(rd.Provider,{value:b,children:[p&&b.visualElement?a.jsx(p,{visualElement:b.visualElement,...g}):null,CE(e,h,DE(w,b.visualElement,f),w,y,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=v.forwardRef(c);return u[OE]=e,u}function LE({layoutId:e}){const t=v.useContext(uf).id;return t&&e!==void 0?t+"-"+e:e}function BE(e,t){v.useContext(Iw).strict}function VE(e){const{drag:t,layout:n}=di;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function $E(e,t){if(typeof Proxy>"u")return Wh;const n=new Map,i=(c,u)=>Wh(c,u,e,t),l=(c,u)=>i(c,u);return new Proxy(l,{get:(c,u)=>u==="create"?i:(n.has(u)||n.set(u,Wh(u,void 0,e,t)),n.get(u))})}function nj({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function UE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Qh(e){return e===void 0||e===1}function Pm({scale:e,scaleX:t,scaleY:n}){return!Qh(e)||!Qh(t)||!Qh(n)}function Vn(e){return Pm(e)||rj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rj(e){return Jy(e.x)||Jy(e.y)}function Jy(e){return e&&e!=="0%"}function Hc(e,t,n){const i=e-n,l=t*i;return n+l}function eb(e,t,n,i,l){return l!==void 0&&(e=Hc(e,l,i)),Hc(e,n,i)+t}function zm(e,t=0,n=1,i,l){e.min=eb(e.min,t,n,i,l),e.max=eb(e.max,t,n,i,l)}function ij(e,{x:t,y:n}){zm(e.x,t.translate,t.scale,t.originPoint),zm(e.y,n.translate,n.scale,n.originPoint)}const tb=.999999999999,sb=1.0000000000001;function FE(e,t,n,i=!1){const l=n.length;if(!l)return;t.x=t.y=1;let c,u;for(let h=0;h<l;h++){c=n[h],u=c.projectionDelta;const{visualElement:f}=c.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ni(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,ij(e,u)),i&&Vn(c.latestValues)&&ni(e,c.latestValues))}t.x<sb&&t.x>tb&&(t.x=1),t.y<sb&&t.y>tb&&(t.y=1)}function ai(e,t){e.min=e.min+t,e.max=e.max+t}function ab(e,t,n,i,l=.5){const c=lt(e.min,e.max,l);zm(e,t,n,c,i)}function ni(e,t){ab(e.x,t.x,t.scaleX,t.scale,t.originX),ab(e.y,t.y,t.scaleY,t.scale,t.originY)}function oj(e,t){return nj(qE(e.getBoundingClientRect(),t))}function HE(e,t,n){const i=oj(e,n),{scroll:l}=t;return l&&(ai(i.x,l.offset.x),ai(i.y,l.offset.y)),i}const nb=()=>({translate:0,scale:1,origin:0,originPoint:0}),ri=()=>({x:nb(),y:nb()}),rb=()=>({min:0,max:0}),gt=()=>({x:rb(),y:rb()}),Lm={current:null},lj={current:!1};function IE(){if(lj.current=!0,!!mf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lm.current=e.matches;e.addEventListener("change",t),t()}else Lm.current=!1}const GE=new WeakMap;function YE(e,t,n){for(const i in t){const l=t[i],c=n[i];if(Yt(l))e.addValue(i,l);else if(Yt(c))e.addValue(i,ci(l,{owner:e}));else if(c!==l)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(l):u.hasAnimated||u.set(l)}else{const u=e.getStaticValue(i);e.addValue(i,ci(u!==void 0?u:l,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ib=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class XE{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ls.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,rt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=od(n),this.isVariantNode=Yw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in y){const w=y[b];f[b]!==void 0&&Yt(w)&&w.set(f[b])}}mount(t){var n;this.current=t,GE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,l)=>this.bindToMotionValue(l,i)),lj.current||IE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=bi.has(t);i&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in di){const n=di[t];if(!n)continue;const{isEnabled:i,Feature:l}=n;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ib.length;i++){const l=ib[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c="on"+l,u=t[c];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=YE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=ci(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ew(i)||sw(i))?i=parseFloat(i):!nE(i)&&hn.test(n)&&(i=Lw(t,n)),this.setBaseTarget(t,Yt(i)?i.get():i)),Yt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var c;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=Uf(this.props,n,(c=this.presenceContext)==null?void 0:c.custom);u&&(i=u[t])}if(n&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Yt(l)?l:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Df.render(this.render)}}class cj extends XE{constructor(){super(...arguments),this.KeyframeResolver=G4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dj(e,{style:t,vars:n},i,l){const c=e.style;let u;for(u in t)c[u]=t[u];l==null||l.applyProjectionStyles(c,i);for(u in n)c.setProperty(u,n[u])}function KE(e){return window.getComputedStyle(e)}class WE extends cj{constructor(){super(...arguments),this.type="html",this.renderInstance=dj}readValueFromInstance(t,n){var i;if(bi.has(n))return(i=this.projection)!=null&&i.isProjecting?Em(n):u4(t,n);{const l=KE(t),c=(wf(n)?l.getPropertyValue(n):l[n])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oj(t,n)}build(t,n,i){Bf(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return qf(t,n,i)}}const uj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QE(e,t,n,i){dj(e,t,void 0,i);for(const l in t.attrs)e.setAttribute(uj.has(l)?l:Ff(l),t.attrs[l])}class ZE extends cj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(bi.has(n)){const i=zw(n);return i&&i.default||0}return n=uj.has(n)?n:Ff(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return ej(t,n,i)}build(t,n,i){Ww(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,l){QE(t,n,i,l)}mount(t){this.isSVGTag=Zw(t.tagName),super.mount(t)}}const JE=(e,t)=>$f(e)?new ZE(t):new WE(t,{allowProjection:e!==v.Fragment});function ii(e,t,n){const i=e.getProps();return Uf(i,t,n!==void 0?n:i.custom,e)}const Bm=e=>Array.isArray(e);function e6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ci(n))}function t6(e){return Bm(e)?e[e.length-1]||0:e}function s6(e,t){const n=ii(e,t);let{transitionEnd:i={},transition:l={},...c}=n||{};c={...c,...i};for(const u in c){const h=t6(c[u]);e6(e,u,h)}}function a6(e){return!!(Yt(e)&&e.add)}function Vm(e,t){const n=e.getValue("willChange");if(a6(n))return n.add(t);if(!n&&ka.WillChange){const i=new ka.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function hj(e){return e.props[tj]}const n6=e=>e!==null;function r6(e,{repeat:t,repeatType:n="loop"},i){const l=e.filter(n6),c=t&&n!=="loop"&&t%2===1?0:l.length-1;return l[c]}const i6={type:"spring",stiffness:500,damping:25,restSpeed:10},o6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),l6={type:"keyframes",duration:.8},c6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d6=(e,{keyframes:t})=>t.length>2?l6:bi.has(e)?e.startsWith("scale")?o6(t[1]):i6:c6;function u6({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:l,repeat:c,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Hf=(e,t,n,i={},l,c)=>u=>{const h=Mf(i,e)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-na(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:c?void 0:l};u6(h)||Object.assign(g,d6(e,g)),g.duration&&(g.duration=na(g.duration)),g.repeatDelay&&(g.repeatDelay=na(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Dm(g),g.delay===0&&(y=!0)),(ka.instantAnimations||ka.skipAnimations)&&(y=!0,Dm(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!c&&t.get()!==void 0){const b=r6(g.keyframes,h);if(b!==void 0){rt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new Af(g):new R4(g)};function h6({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function mj(e,t,{delay:n=0,transitionOverride:i,type:l}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(c=i);const f=[],p=l&&e.animationState&&e.animationState.getState()[l];for(const g in h){const y=e.getValue(g,e.latestValues[g]??null),b=h[g];if(b===void 0||p&&h6(p,g))continue;const w={delay:n,...Mf(c||{},g)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===_&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=hj(e);if(D){const S=window.MotionHandoffAnimation(D,g,rt);S!==null&&(w.startTime=S,T=!0)}}Vm(e,g),y.start(Hf(g,y,b,e.shouldReduceMotion&&Dw.has(g)?{type:!1}:w,e,T));const N=y.animation;N&&f.push(N)}return u&&Promise.all(f).then(()=>{rt.update(()=>{u&&s6(e,u)})}),f}function fj(e,t,n,i=0,l=1){const c=Array.from(e).sort((p,g)=>p.sortNodePosition(g)).indexOf(t),u=e.size,h=(u-1)*i;return typeof n=="function"?n(c,u):l===1?c*i:h-c*i}function $m(e,t,n={}){var f;const i=ii(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const c=i?()=>Promise.all(mj(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=l;return m6(e,t,p,g,y,b,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[c,u]:[u,c];return p().then(()=>g())}else return Promise.all([c(),u(n.delay)])}function m6(e,t,n=0,i=0,l=0,c=1,u){const h=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),h.push($m(f,t,{...u,delay:n+(typeof i=="function"?0:i)+fj(e.variantChildren,f,i,l,c)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(h)}function f6(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(c=>$m(e,c,n));i=Promise.all(l)}else if(typeof t=="string")i=$m(e,t,n);else{const l=typeof t=="function"?ii(e,t,n.custom):t;i=Promise.all(mj(e,l,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function pj(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const p6=Lf.length;function gj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<p6;n++){const i=Lf[n],l=e.props[i];(Fo(l)||l===!1)&&(t[i]=l)}return t}const g6=[...zf].reverse(),x6=zf.length;function y6(e){return t=>Promise.all(t.map(({animation:n,options:i})=>f6(e,n,i)))}function b6(e){let t=y6(e),n=ob(),i=!0;const l=f=>(p,g)=>{var b;const y=ii(e,g,f==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(y){const{transition:w,transitionEnd:_,...T}=y;p={...p,...T,..._}}return p};function c(f){t=f(e)}function u(f){const{props:p}=e,g=gj(e.parent)||{},y=[],b=new Set;let w={},_=1/0;for(let N=0;N<x6;N++){const D=g6[N],S=n[D],A=p[D]!==void 0?p[D]:g[D],k=Fo(A),j=D===f?S.isActive:null;j===!1&&(_=N);let M=A===g[D]&&A!==p[D]&&k;if(M&&i&&e.manuallyAnimateOnMount&&(M=!1),S.protectedKeys={...w},!S.isActive&&j===null||!A&&!S.prevProp||id(A)||typeof A=="boolean")continue;const L=v6(S.prevProp,A);let $=L||D===f&&S.isActive&&!M&&k||N>_&&k,I=!1;const V=Array.isArray(A)?A:[A];let J=V.reduce(l(D),{});j===!1&&(J={});const{prevResolvedValues:Q={}}=S,B={...Q,...J},Y=R=>{$=!0,b.has(R)&&(I=!0,b.delete(R)),S.needsAnimating[R]=!0;const q=e.getValue(R);q&&(q.liveStyle=!1)};for(const R in B){const q=J[R],ne=Q[R];if(w.hasOwnProperty(R))continue;let E=!1;Bm(q)&&Bm(ne)?E=!pj(q,ne):E=q!==ne,E?q!=null?Y(R):b.add(R):q!==void 0&&b.has(R)?Y(R):S.protectedKeys[R]=!0}S.prevProp=A,S.prevResolvedValues=J,S.isActive&&(w={...w,...J}),i&&e.blockInitialAnimation&&($=!1);const K=M&&L;$&&(!K||I)&&y.push(...V.map(R=>{const q={type:D};if(typeof R=="string"&&i&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,E=ii(ne,R);if(ne.enteringChildren&&E){const{delayChildren:F}=E.transition||{};q.delay=fj(ne.enteringChildren,e,F)}}return{animation:R,options:q}}))}if(b.size){const N={};if(typeof p.initial!="boolean"){const D=ii(e,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(N.transition=D.transition)}b.forEach(D=>{const S=e.getBaseTarget(D),A=e.getValue(D);A&&(A.liveStyle=!0),N[D]=S??null}),y.push({animation:N})}let T=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(T=!1),i=!1,T?t(y):Promise.resolve()}function h(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(f,p)}),n[f].isActive=p;const g=u(f);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>n,reset:()=>{n=ob(),i=!0}}}function v6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pj(t,e):!1}function Ln(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ob(){return{animate:Ln(!0),whileInView:Ln(),whileHover:Ln(),whileTap:Ln(),whileDrag:Ln(),whileFocus:Ln(),exit:Ln()}}class pn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class w6 extends pn{constructor(t){super(t),t.animationState||(t.animationState=b6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();id(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let j6=0;class _6 extends pn{constructor(){super(...arguments),this.id=j6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);n&&!t&&l.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const N6={animation:{Feature:w6},exit:{Feature:_6}};function Io(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function sl(e){return{point:{x:e.pageX,y:e.pageY}}}const S6=e=>t=>Rf(t)&&e(t,sl(t));function Do(e,t,n,i){return Io(e,t,S6(n),i)}const xj=1e-4,T6=1-xj,C6=1+xj,yj=.01,E6=0-yj,A6=0+yj;function Jt(e){return e.max-e.min}function k6(e,t,n){return Math.abs(e-t)<=n}function lb(e,t,n,i=.5){e.origin=i,e.originPoint=lt(t.min,t.max,e.origin),e.scale=Jt(n)/Jt(t),e.translate=lt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=T6&&e.scale<=C6||isNaN(e.scale))&&(e.scale=1),(e.translate>=E6&&e.translate<=A6||isNaN(e.translate))&&(e.translate=0)}function Ro(e,t,n,i){lb(e.x,t.x,n.x,i?i.originX:void 0),lb(e.y,t.y,n.y,i?i.originY:void 0)}function cb(e,t,n){e.min=n.min+t.min,e.max=e.min+Jt(t)}function M6(e,t,n){cb(e.x,t.x,n.x),cb(e.y,t.y,n.y)}function db(e,t,n){e.min=t.min-n.min,e.max=e.min+Jt(t)}function Po(e,t,n){db(e.x,t.x,n.x),db(e.y,t.y,n.y)}function Os(e){return[e("x"),e("y")]}const bj=({current:e})=>e?e.ownerDocument.defaultView:null,ub=(e,t)=>Math.abs(e-t);function O6(e,t){const n=ub(e.x,t.x),i=ub(e.y,t.y);return Math.sqrt(n**2+i**2)}class vj{constructor(t,n,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Jh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,_=O6(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!_)return;const{point:T}=b,{timestamp:N}=Ut;this.history.push({...T,timestamp:N});const{onStart:D,onMove:S}=this.handlers;w||(D&&D(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Zh(w,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Jh(b.type==="pointercancel"?this.lastMoveEventInfo:Zh(w,this.transformPagePoint),this.history);this.startEvent&&_&&_(b,D),T&&T(b,D)},!Rf(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=l||window;const h=sl(t),f=Zh(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=Ut;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=n;y&&y(t,Jh(f,this.history)),this.removeListeners=Jo(Do(this.contextWindow,"pointermove",this.handlePointerMove),Do(this.contextWindow,"pointerup",this.handlePointerUp),Do(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Zh(e,t){return t?{point:t(e.point)}:e}function hb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jh({point:e},t){return{point:e,delta:hb(e,wj(t)),offset:hb(e,D6(t)),velocity:R6(t,.1)}}function D6(e){return e[0]}function wj(e){return e[e.length-1]}function R6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const l=wj(e);for(;n>=0&&(i=e[n],!(l.timestamp-i.timestamp>na(t)));)n--;if(!i)return{x:0,y:0};const c=ra(l.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(l.x-i.x)/c,y:(l.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function P6(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?lt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?lt(n,e,i.max):Math.min(e,n)),e}function mb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function z6(e,{top:t,left:n,bottom:i,right:l}){return{x:mb(e.x,n,l),y:mb(e.y,t,i)}}function fb(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function L6(e,t){return{x:fb(e.x,t.x),y:fb(e.y,t.y)}}function B6(e,t){let n=.5;const i=Jt(e),l=Jt(t);return l>i?n=$o(t.min,t.max-i,e.min):i>l&&(n=$o(e.min,e.max-l,t.min)),Aa(0,1,n)}function V6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Um=.35;function $6(e=Um){return e===!1?e=0:e===!0&&(e=Um),{x:pb(e,"left","right"),y:pb(e,"top","bottom")}}function pb(e,t,n){return{min:gb(e,t),max:gb(e,n)}}function gb(e,t){return typeof e=="number"?e:e[t]||0}const U6=new WeakMap;class q6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sl(y).point)},u=(y,b)=>{const{drag:w,dragPropagation:_,onDragStart:T}=this.getProps();if(w&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W4(w),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Os(D=>{let S=this.getAxisMotionValue(D).get()||0;if(ia.test(S)){const{projection:A}=this.visualElement;if(A&&A.layout){const k=A.layout.layoutBox[D];k&&(S=Jt(k)*(parseFloat(S)/100))}}this.originPoint[D]=S}),T&&rt.postRender(()=>T(y,b)),Vm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:_,onDirectionLock:T,onDrag:N}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:D}=b;if(_&&this.currentDirection===null){this.currentDirection=F6(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",b.point,D),this.updateAxis("y",b.point,D),this.visualElement.render(),N&&N(y,b)},f=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Os(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)==null?void 0:b.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new vj(t,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:bj(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,l=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!i)return;const{velocity:u}=l;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&rt.postRender(()=>h(i,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:l}=this.getProps();if(!i||!Cc(t,l,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=P6(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,l=this.constraints;t&&si(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=z6(i.layoutBox,t):this.constraints=!1,this.elastic=$6(n),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Os(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=V6(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!si(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=HE(i,l.root,this.visualElement.getTransformPagePoint());let u=L6(l.layout.layoutBox,c);if(n){const h=n(UE(u));this.hasMutatedConstraints=!!h,h&&(u=nj(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:l,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Os(g=>{if(!Cc(g,n,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const b=l?200:1e6,w=l?40:1e7,_={type:"inertia",velocity:i?t[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(g,_)});return Promise.all(p).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Vm(this.visualElement,t),i.start(Hf(t,i,0,n,this.visualElement,!1))}stopAnimation(){Os(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Os(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[n];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Os(n=>{const{drag:i}=this.getProps();if(!Cc(n,i,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(n);if(l&&l.layout){const{min:u,max:h}=l.layout.layoutBox[n];c.set(t[n]-lt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!si(n)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Os(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();l[u]=B6({min:f,max:f},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Os(u=>{if(!Cc(u,t,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(lt(f,p,l[u]))})}addListeners(){if(!this.visualElement.current)return;U6.set(this.visualElement,this);const t=this.visualElement.current,n=Do(t,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();si(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,c=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),rt.read(i);const u=Io(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Os(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),c(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:u=Um,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:l,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function Cc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function F6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class H6 extends pn{constructor(t){super(t),this.removeGroupControls=Ds,this.removeListeners=Ds,this.controls=new q6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const xb=e=>(t,n)=>{e&&rt.postRender(()=>e(t,n))};class I6 extends pn{constructor(){super(...arguments),this.removePointerDownListener=Ds}onPointerDown(t){this.session=new vj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:xb(t),onStart:xb(n),onMove:i,onEnd:(c,u)=>{delete this.session,l&&rt.postRender(()=>l(c,u))}}}mount(){this.removePointerDownListener=Do(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _o={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const n=yb(e,t.target.x),i=yb(e,t.target.y);return`${n}% ${i}%`}},G6={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,l=hn.parse(e);if(l.length>5)return i;const c=hn.createTransformer(e),u=typeof l[0]!="number"?1:0,h=n.x.scale*t.x,f=n.y.scale*t.y;l[0+u]/=h,l[1+u]/=f;const p=lt(h,f,.5);return typeof l[2+u]=="number"&&(l[2+u]/=p),typeof l[3+u]=="number"&&(l[3+u]/=p),c(l)}};let em=!1;class Y6 extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:l}=this.props,{projection:c}=t;pE(X6),c&&(n.group&&n.group.add(c),i&&i.register&&l&&i.register(c),em&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:l,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,em=!0,l||t.layoutDependency!==n||n===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||rt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Df.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:l}=t;em=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jj(e){const[t,n]=Hw(),i=v.useContext(uf);return a.jsx(Y6,{...e,layoutGroup:i,switchLayoutGroup:v.useContext(sj),isPresent:t,safeToRemove:n})}const X6={borderRadius:{..._o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_o,borderTopRightRadius:_o,borderBottomLeftRadius:_o,borderBottomRightRadius:_o,boxShadow:G6};function K6(e,t,n){const i=Yt(e)?e:ci(e);return i.start(Hf("",i,t,n)),i.animation}const W6=(e,t)=>e.depth-t.depth;class Q6{constructor(){this.children=[],this.isDirty=!1}add(t){ff(this.children,t),this.isDirty=!0}remove(t){pf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W6),this.isDirty=!1,this.children.forEach(t)}}function Z6(e,t){const n=ls.now(),i=({timestamp:l})=>{const c=l-n;c>=t&&(un(i),e(c-t))};return rt.setup(i,!0),()=>un(i)}const _j=["TopLeft","TopRight","BottomLeft","BottomRight"],J6=_j.length,bb=e=>typeof e=="string"?parseFloat(e):e,vb=e=>typeof e=="number"||Ee.test(e);function e3(e,t,n,i,l,c){l?(e.opacity=lt(0,n.opacity??1,t3(i)),e.opacityExit=lt(t.opacity??1,0,s3(i))):c&&(e.opacity=lt(t.opacity??1,n.opacity??1,i));for(let u=0;u<J6;u++){const h=`border${_j[u]}Radius`;let f=wb(t,h),p=wb(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||vb(f)===vb(p)?(e[h]=Math.max(lt(bb(f),bb(p),i),0),(ia.test(p)||ia.test(f))&&(e[h]+="%")):e[h]=p}(t.rotate||n.rotate)&&(e.rotate=lt(t.rotate||0,n.rotate||0,i))}function wb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const t3=Nj(0,.5,dw),s3=Nj(.5,.95,Ds);function Nj(e,t,n){return i=>i<e?0:i>t?1:n($o(e,t,i))}function jb(e,t){e.min=t.min,e.max=t.max}function Ms(e,t){jb(e.x,t.x),jb(e.y,t.y)}function _b(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Nb(e,t,n,i,l){return e-=t,e=Hc(e,1/n,i),l!==void 0&&(e=Hc(e,1/l,i)),e}function a3(e,t=0,n=1,i=.5,l,c=e,u=e){if(ia.test(t)&&(t=parseFloat(t),t=lt(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=lt(c.min,c.max,i);e===c&&(h-=t),e.min=Nb(e.min,t,n,h,l),e.max=Nb(e.max,t,n,h,l)}function Sb(e,t,[n,i,l],c,u){a3(e,t[n],t[i],t[l],t.scale,c,u)}const n3=["x","scaleX","originX"],r3=["y","scaleY","originY"];function Tb(e,t,n,i){Sb(e.x,t,n3,n?n.x:void 0,i?i.x:void 0),Sb(e.y,t,r3,n?n.y:void 0,i?i.y:void 0)}function Cb(e){return e.translate===0&&e.scale===1}function Sj(e){return Cb(e.x)&&Cb(e.y)}function Eb(e,t){return e.min===t.min&&e.max===t.max}function i3(e,t){return Eb(e.x,t.x)&&Eb(e.y,t.y)}function Ab(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Tj(e,t){return Ab(e.x,t.x)&&Ab(e.y,t.y)}function kb(e){return Jt(e.x)/Jt(e.y)}function Mb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class o3{constructor(){this.members=[]}add(t){ff(this.members,t),t.scheduleRender()}remove(t){if(pf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let i;for(let l=n;l>=0;l--){const c=this.members[l];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function l3(e,t,n){let i="";const l=e.x.translate/t.x,c=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((l||c||u)&&(i=`translate3d(${l}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:b,skewX:w,skewY:_}=n;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),b&&(i+=`rotateY(${b}deg) `),w&&(i+=`skewX(${w}deg) `),_&&(i+=`skewY(${_}deg) `)}const h=e.x.scale*t.x,f=e.y.scale*t.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const tm=["","X","Y","Z"],c3=1e3;let d3=0;function sm(e,t,n,i){const{latestValues:l}=t;l[e]&&(n[e]=l[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Cj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hj(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(l||c))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Cj(i)}function Ej({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(u={},h=t==null?void 0:t()){this.id=d3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(m3),this.nodes.forEach(x3),this.nodes.forEach(y3),this.nodes.forEach(f3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q6)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new yf),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Fw(u)&&!sE(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),e){let g,y=0;const b=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{y=window.innerWidth}),e(u,()=>{const w=window.innerWidth;w!==y&&(y=w,this.root.updateBlockedByResize=!0,g&&g(),g=Z6(b,250),Dc.hasAnimatedSinceResize&&(Dc.hasAnimatedSinceResize=!1,this.nodes.forEach(Rb)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||_3,{onLayoutAnimationStart:T,onLayoutAnimationComplete:N}=p.getProps(),D=!this.targetLayout||!Tj(this.targetLayout,w),S=!y&&b;if(this.options.layoutRoot||this.resumeFrom||S||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Mf(_,"layout"),onPlay:T,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(g,S)}else y||Rb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Cj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ob);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Db);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(g3),this.nodes.forEach(u3),this.nodes.forEach(h3)):this.nodes.forEach(Db),this.clearAllSnapshots();const h=ls.now();Ut.delta=Aa(0,1e3/60,h-Ut.timestamp),Ut.timestamp=h,Ut.isProcessing=!0,Hh.update.process(Ut),Hh.preRender.process(Ut),Hh.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Df.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p3),this.sharedNodes.forEach(v3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!l)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Sj(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Vn(this.latestValues)||g)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),N3(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return gt();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(S3))){const{scroll:g}=this.root;g&&(ai(h.x,g.offset.x),ai(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=gt();if(Ms(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Ms(h,u),ai(h.x,y.offset.x),ai(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const f=gt();Ms(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ni(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vn(g.latestValues)&&ni(f,g.latestValues)}return Vn(this.latestValues)&&ni(f,this.latestValues),f}removeTransform(u){const h=gt();Ms(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Vn(p.latestValues))continue;Pm(p.latestValues)&&p.updateSnapshot();const g=gt(),y=p.measurePageBox();Ms(g,y),Tb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Vn(this.latestValues)&&Tb(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Po(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ms(this.target,this.layout.layoutBox),ij(this.target,this.targetDelta)):Ms(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Po(this.relativeTargetOrigin,this.target,w.target),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pm(this.parent.latestValues)||rj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Ms(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;FE(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_b(this.prevProjectionDelta.x,this.projectionDelta.x),_b(this.prevProjectionDelta.y,this.projectionDelta.y)),Ro(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!Mb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ri(),this.projectionDelta=ri(),this.projectionDeltaWithTransform=ri()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},y=ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=gt(),w=f?f.source:void 0,_=this.layout?this.layout.source:void 0,T=w!==_,N=this.getStack(),D=!N||N.members.length<=1,S=!!(T&&!D&&this.options.crossfade===!0&&!this.path.some(j3));this.animationProgress=0;let A;this.mixTargetDelta=k=>{const j=k/1e3;Pb(y.x,u.x,j),Pb(y.y,u.y,j),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Po(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),w3(this.relativeTarget,this.relativeTargetOrigin,b,j),A&&i3(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=gt()),Ms(A,this.relativeTarget)),T&&(this.animationValues=g,e3(g,p,this.latestValues,j,S,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{Dc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ci(0)),this.currentAnimation=K6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&Aj(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||gt();const y=Jt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const b=Jt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}Ms(h,f),ni(h,g),Ro(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new o3),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&sm("z",u,p,this.animationValues);for(let g=0;g<tm.length;g++)sm(`rotate${tm[g]}`,u,p,this.animationValues),sm(`skew${tm[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Oc(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Oc(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Vn(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=l3(this.projectionDeltaWithTransform,this.treeScale,g);f&&(y=f(g,y)),u.transform=y;const{x:b,y:w}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in Ho){if(g[_]===void 0)continue;const{correct:T,applyTo:N,isCSSVariable:D}=Ho[_],S=y==="none"?g[_]:T(g[_],p);if(N){const A=N.length;for(let k=0;k<A;k++)u[N[k]]=S}else D?this.options.visualElement.renderState.vars[_]=S:u[_]=S}this.options.layoutId&&(u.pointerEvents=p===this?Oc(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Ob),this.root.sharedNodes.clear()}}}function u3(e){e.updateLayout()}function h3(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=e.layout,{animationType:c}=e.options,u=t.source!==e.layout.source;c==="size"?Os(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],w=Jt(b);b.min=i[y].min,b.max=b.min+w}):Aj(c,t.layoutBox,i)&&Os(y=>{const b=u?t.measuredBox[y]:t.layoutBox[y],w=Jt(i[y]);b.max=b.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+w)});const h=ri();Ro(h,i,t.layoutBox);const f=ri();u?Ro(f,e.applyTransform(l,!0),t.measuredBox):Ro(f,i,t.layoutBox);const p=!Sj(h);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:w}=y;if(b&&w){const _=gt();Po(_,t.layoutBox,b.layoutBox);const T=gt();Po(T,i,w.layoutBox),Tj(_,T)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=_,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function m3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function f3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function p3(e){e.clearSnapshot()}function Ob(e){e.clearMeasurements()}function Db(e){e.isLayoutDirty=!1}function g3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Rb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function x3(e){e.resolveTargetDelta()}function y3(e){e.calcProjection()}function b3(e){e.resetSkewAndRotation()}function v3(e){e.removeLeadSnapshot()}function Pb(e,t,n){e.translate=lt(t.translate,0,n),e.scale=lt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zb(e,t,n,i){e.min=lt(t.min,n.min,i),e.max=lt(t.max,n.max,i)}function w3(e,t,n,i){zb(e.x,t.x,n.x,i),zb(e.y,t.y,n.y,i)}function j3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _3={duration:.45,ease:[.4,0,.1,1]},Lb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Bb=Lb("applewebkit/")&&!Lb("chrome/")?Math.round:Ds;function Vb(e){e.min=Bb(e.min),e.max=Bb(e.max)}function N3(e){Vb(e.x),Vb(e.y)}function Aj(e,t,n){return e==="position"||e==="preserve-aspect"&&!k6(kb(t),kb(n),.2)}function S3(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const T3=Ej({attachResizeListener:(e,t)=>Io(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),am={current:void 0},kj=Ej({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!am.current){const e=new T3({});e.mount(window),e.setOptions({layoutScroll:!0}),am.current=e}return am.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),C3={pan:{Feature:I6},drag:{Feature:H6,ProjectionNode:kj,MeasureLayout:jj}};function $b(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,c=i[l];c&&rt.postRender(()=>c(t,sl(t)))}class E3 extends pn{mount(){const{current:t}=this.node;t&&(this.unmount=Q4(t,(n,i)=>($b(this.node,i,"Start"),l=>$b(this.node,l,"End"))))}unmount(){}}class A3 extends pn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jo(Io(this.node.current,"focus",()=>this.onFocus()),Io(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ub(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),c=i[l];c&&rt.postRender(()=>c(t,sl(t)))}class k3 extends pn{mount(){const{current:t}=this.node;t&&(this.unmount=tE(t,(n,i)=>(Ub(this.node,i,"Start"),(l,{success:c})=>Ub(this.node,l,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qm=new WeakMap,nm=new WeakMap,M3=e=>{const t=qm.get(e.target);t&&t(e)},O3=e=>{e.forEach(M3)};function D3({root:e,...t}){const n=e||document;nm.has(n)||nm.set(n,{});const i=nm.get(n),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(O3,{root:e,...t})),i[l]}function R3(e,t,n){const i=D3(t);return qm.set(e,n),i.observe(e),()=>{qm.delete(e),i.unobserve(e)}}const P3={some:0,all:1};class z3 extends pn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:l="some",once:c}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:P3[l]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),b=p?g:y;b&&b(f)};return R3(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(L3(t,n))&&this.startObserver()}unmount(){}}function L3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const B3={inView:{Feature:z3},tap:{Feature:k3},focus:{Feature:A3},hover:{Feature:E3}},V3={layout:{ProjectionNode:kj,MeasureLayout:jj}},$3={...N6,...B3,...C3,...V3},we=$E($3,JE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),qb=e=>{const t=q3(e);return t.charAt(0).toUpperCase()+t.slice(1)},Mj=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),F3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:u,...h},f)=>v.createElement("svg",{ref:f,...H3,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:Mj("lucide",l),...!c&&!F3(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,g])=>v.createElement(p,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=v.forwardRef(({className:i,...l},c)=>v.createElement(I3,{ref:c,iconNode:t,className:Mj(`lucide-${U3(qb(e))}`,`lucide-${e}`,i),...l}));return n.displayName=qb(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],If=_e("arrow-left",G3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Ic=_e("arrow-right-left",Y3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fb=_e("arrow-right",X3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],W3=_e("arrow-up-down",K3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Z3=_e("arrow-up",Q3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],eA=_e("banknote",J3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],sA=_e("bell-ring",tA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gf=_e("bell",aA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],rA=_e("building-2",nA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],oA=_e("building",iA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],al=_e("calendar",lA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Oj=_e("chart-column",cA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Fm=_e("chef-hat",dA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hA=_e("circle-alert",uA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hb=_e("circle-check-big",mA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ib=_e("circle-x",fA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zt=_e("clock",pA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],xA=_e("coffee",gA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bA=_e("copy",yA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ld=_e("credit-card",vA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],es=_e("dollar-sign",wA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dj=_e("download",jA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],NA=_e("eye-off",_A);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nl=_e("eye",SA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CA=_e("file-text",TA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rj=_e("funnel",EA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kA=_e("layout-dashboard",AA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],OA=_e("lock",MA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RA=_e("log-out",DA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pj=_e("mail",PA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cd=_e("map-pin",zA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M5 12h14",key:"1ays0h"}]],ui=_e("minus",LA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],VA=_e("move",BA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xn=_e("package",$A);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Gc=_e("phone",UA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vs=_e("plus",qA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],HA=_e("receipt",FA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zj=_e("rotate-ccw",IA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yc=_e("save",GA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ma=_e("search",YA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],KA=_e("send",XA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lj=_e("settings",WA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ZA=_e("share-2",QA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Hm=_e("shopping-bag",JA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Go=_e("shopping-cart",ek);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Bj=_e("smartphone",tk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rl=_e("square-pen",sk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Im=_e("star",ak);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Gb=_e("timer",nk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dd=_e("trash-2",rk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Yb=_e("trending-down",ik);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Yo=_e("trending-up",ok);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=_e("triangle-alert",lk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vj=_e("user-check",ck);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],uk=_e("user-plus",dk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kn=_e("user",hk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wn=_e("users",mk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Gm=_e("wine",fk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],at=_e("x",pk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xc=_e("zap",gk),xk=()=>{const[e,t]=v.useState(""),[n,i]=v.useState(""),[l,c]=v.useState(!1),[u,h]=v.useState(""),{login:f,loginAsDemo:p,isLoading:g}=Xt(),y=async w=>{if(w.preventDefault(),h(""),!e||!n){h("Por favor, preencha todos os campos");return}await f(e,n)||h("Erro ao fazer login. Tente novamente.")},b=()=>{p()};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Wn,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ClubManager Pro"}),a.jsx("p",{className:"text-gray-600",children:"Sistema de Gesto de Clubes"})]}),a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:b,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-lg font-semibold text-lg hover:from-green-600 hover:to-green-700 transition-all duration-300 flex items-center justify-center space-x-2 mb-6 shadow-lg",children:[a.jsx(Xc,{className:"w-5 h-5"}),a.jsx("span",{children:" Entrar como Demo"})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou faa login tradicional"})})]}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pj,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"email",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Digite seu email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(OA,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:l?"text":"password",value:n,onChange:w=>i(w.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Digite sua senha"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?a.jsx(NA,{size:20}):a.jsx(nl,{size:20})})]})]}),u&&a.jsx(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded-lg border border-red-200",children:u}),a.jsx(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Entrando..."})]}):"Entrar"})]}),a.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-100",children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-center",children:" Acesso Demo Rpido"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Mdulo Bar:"})," Pedidos, comandas e vendas"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Mdulo Cozinha:"})," Gesto de cardpio e pedidos"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Dashboard:"})," Mtricas e relatrios"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Estoque:"})," Controle de inventrio"]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" ",a.jsx("strong",{children:"Dica:"})," Use o boto verde acima para acesso instantneo!"]})})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"ClubManager Pro v1.0 - Sistema Demonstrao"})})]})})},yk=()=>{const{user:e,logout:t}=Xt(),n=[{name:"Dashboard",icon:kA,path:"/"},{name:"Bar",icon:Gm,path:"/bar"},{name:"Atendimento Bar",icon:xA,path:"/bar/attendance"},{name:"Gesto de Caixa",icon:es,path:"/cash"},{name:"Clientes",icon:Wn,path:"/bar-customers"},{name:"Funcionrios",icon:Vj,path:"/bar-employees"},{name:"Cozinha",icon:Fm,path:"/kitchen"},{name:"Estoque",icon:Xn,path:"/inventory"},{name:"Membros",icon:Wn,path:"/members"},{name:"Configuraes",icon:Lj,path:"/settings"}],i=(e==null?void 0:e.email)==="demo@clubmanager.com";return a.jsxs(we.aside,{initial:{x:-280},animate:{x:0},transition:{duration:.3},className:"bg-slate-900 text-white w-64 min-h-screen p-4 flex flex-col",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-blue-400",children:"ClubManager"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Sistema de Gesto"}),i&&a.jsxs("div",{className:"mt-2 flex items-center space-x-1 text-xs text-green-400",children:[a.jsx(Xc,{size:12}),a.jsx("span",{children:"Modo Demo"})]})]}),e&&a.jsxs("div",{className:`mb-6 p-3 rounded-lg ${i?"bg-green-800 border border-green-600":"bg-slate-800"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:e.avatar||`https://api.dicebear.com/8.x/initials/svg?seed=${e.name}`,alt:e.name,className:"w-10 h-10 rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.name}),a.jsx("p",{className:"text-slate-400 text-xs capitalize",children:e.role}),e.department&&a.jsx("p",{className:"text-slate-300 text-xs",children:e.department})]})]}),i&&a.jsx("div",{className:"mt-2 text-xs text-green-300",children:" Explorando funcionalidades"})]}),a.jsx("nav",{className:"flex-1",children:a.jsx("ul",{className:"space-y-2",children:n.map(l=>a.jsx("li",{children:a.jsxs(kv,{to:l.path,className:({isActive:c})=>`flex items-center space-x-3 p-3 rounded-lg transition-colors ${c?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(l.icon,{size:20}),a.jsx("span",{children:l.name})]})},l.name))})}),i&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-900 rounded-lg border border-blue-700",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-200 mb-2",children:" Teste Agora:"}),a.jsxs("ul",{className:"text-xs text-blue-300 space-y-1",children:[a.jsx("li",{children:" Criar pedidos no Bar"}),a.jsx("li",{children:" Sistema de Atendimento"}),a.jsx("li",{children:" Gerenciar cozinha"}),a.jsx("li",{children:" Ver mtricas em tempo real"}),a.jsx("li",{children:" Controlar estoque"})]})]}),a.jsxs("button",{onClick:t,className:"flex items-center space-x-3 p-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors mt-4",children:[a.jsx(RA,{size:20}),a.jsx("span",{children:i?"Sair do Demo":"Sair"})]})]})},bk=()=>{const{notifications:e,clearNotifications:t}=mt(),[n,i]=Ue.useState(!1);return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ma,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(Gf,{size:20}),e.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:e.length})]}),a.jsx(Zn,{children:n&&a.jsxs(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:"Notificaes"}),e.length>0&&a.jsx("button",{onClick:t,className:"text-sm text-blue-600 hover:text-blue-800",children:"Limpar todas"})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.length===0?a.jsx("p",{className:"p-4 text-gray-500 text-center",children:"Nenhuma notificao"}):e.map((l,c)=>a.jsx("div",{className:"p-3 border-b border-gray-100 last:border-b-0",children:a.jsx("p",{className:"text-sm text-gray-700",children:l})},c))})]})})]})]})]})})},vk=()=>a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(yk,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(bk,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsx(j2,{})})]})]}),$j=6048e5,wk=864e5,Xb=Symbol.for("constructDateFrom");function oa(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Xb in e?e[Xb](t):e instanceof Date?new e.constructor(t):new Date(t)}function cs(e,t){return oa(t||e,e)}function jk(e,t,n){const i=cs(e,n==null?void 0:n.in);if(isNaN(t))return oa(e,NaN);const l=i.getDate(),c=oa(e,i.getTime());c.setMonth(i.getMonth()+t+1,0);const u=c.getDate();return l>=u?c:(i.setFullYear(c.getFullYear(),c.getMonth(),l),i)}let _k={};function ud(){return _k}function Xo(e,t){var h,f,p,g;const n=ud(),i=(t==null?void 0:t.weekStartsOn)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,l=cs(e,t==null?void 0:t.in),c=l.getDay(),u=(c<i?7:0)+c-i;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function Kc(e,t){return Xo(e,{...t,weekStartsOn:1})}function Uj(e,t){const n=cs(e,t==null?void 0:t.in),i=n.getFullYear(),l=oa(n,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const c=Kc(l),u=oa(n,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const h=Kc(u);return n.getTime()>=c.getTime()?i+1:n.getTime()>=h.getTime()?i:i-1}function Kb(e){const t=cs(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Nk(e,...t){const n=oa.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Wb(e,t){const n=cs(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Sk(e,t,n){const[i,l]=Nk(n==null?void 0:n.in,e,t),c=Wb(i),u=Wb(l),h=+c-Kb(c),f=+u-Kb(u);return Math.round((h-f)/wk)}function Tk(e,t){const n=Uj(e,t),i=oa(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Kc(i)}function Ck(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ek(e){return!(!Ck(e)&&typeof e!="number"||isNaN(+cs(e)))}function Ak(e,t){const n=cs(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const kk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mk=(e,t,n)=>{let i;const l=kk[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function oi(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ok={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pk={date:oi({formats:Ok,defaultWidth:"full"}),time:oi({formats:Dk,defaultWidth:"full"}),dateTime:oi({formats:Rk,defaultWidth:"full"})},zk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lk=(e,t,n,i)=>zk[e];function ta(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):u;l=e.formattingValues[h]||e.formattingValues[u]}else{const u=e.defaultWidth,h=n!=null&&n.width?String(n.width):e.defaultWidth;l=e.values[h]||e.values[u]}const c=e.argumentCallback?e.argumentCallback(t):t;return l[c]}}const Bk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$k={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Uk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hk=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ik={ordinalNumber:Hk,era:ta({values:Bk,defaultWidth:"wide"}),quarter:ta({values:Vk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ta({values:$k,defaultWidth:"wide"}),day:ta({values:Uk,defaultWidth:"wide"}),dayPeriod:ta({values:qk,defaultWidth:"wide",formattingValues:Fk,defaultFormattingWidth:"wide"})};function sa(e){return(t,n={})=>{const i=n.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(l);if(!c)return null;const u=c[0],h=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(h)?Yk(h,y=>y.test(u)):Gk(h,y=>y.test(u));let p;p=e.valueCallback?e.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=t.slice(u.length);return{value:p,rest:g}}}function Gk(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Yk(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function qj(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const l=i[0],c=t.match(e.parsePattern);if(!c)return null;let u=e.valueCallback?e.valueCallback(c[0]):c[0];u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(l.length);return{value:u,rest:h}}}const Xk=/^(\d+)(th|st|nd|rd)?/i,Kk=/\d+/i,Wk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qk={any:[/^b/i,/^(a|c)/i]},Zk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jk={any:[/1/i,/2/i,/3/i,/4/i]},eM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iM={ordinalNumber:qj({matchPattern:Xk,parsePattern:Kk,valueCallback:e=>parseInt(e,10)}),era:sa({matchPatterns:Wk,defaultMatchWidth:"wide",parsePatterns:Qk,defaultParseWidth:"any"}),quarter:sa({matchPatterns:Zk,defaultMatchWidth:"wide",parsePatterns:Jk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sa({matchPatterns:eM,defaultMatchWidth:"wide",parsePatterns:tM,defaultParseWidth:"any"}),day:sa({matchPatterns:sM,defaultMatchWidth:"wide",parsePatterns:aM,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:nM,defaultMatchWidth:"any",parsePatterns:rM,defaultParseWidth:"any"})},oM={code:"en-US",formatDistance:Mk,formatLong:Pk,formatRelative:Lk,localize:Ik,match:iM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lM(e,t){const n=cs(e,t==null?void 0:t.in);return Sk(n,Ak(n))+1}function cM(e,t){const n=cs(e,t==null?void 0:t.in),i=+Kc(n)-+Tk(n);return Math.round(i/$j)+1}function Fj(e,t){var g,y,b,w;const n=cs(e,t==null?void 0:t.in),i=n.getFullYear(),l=ud(),c=(t==null?void 0:t.firstWeekContainsDate)??((y=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??l.firstWeekContainsDate??((w=(b=l.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=oa((t==null?void 0:t.in)||e,0);u.setFullYear(i+1,0,c),u.setHours(0,0,0,0);const h=Xo(u,t),f=oa((t==null?void 0:t.in)||e,0);f.setFullYear(i,0,c),f.setHours(0,0,0,0);const p=Xo(f,t);return+n>=+h?i+1:+n>=+p?i:i-1}function dM(e,t){var h,f,p,g;const n=ud(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=Fj(e,t),c=oa((t==null?void 0:t.in)||e,0);return c.setFullYear(l,0,i),c.setHours(0,0,0,0),Xo(c,t)}function uM(e,t){const n=cs(e,t==null?void 0:t.in),i=+Xo(n,t)-+dM(n,t);return Math.round(i/$j)+1}function Ke(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const nn={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Ke(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ke(n+1,2)},d(e,t){return Ke(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ke(e.getHours()%12||12,t.length)},H(e,t){return Ke(e.getHours(),t.length)},m(e,t){return Ke(e.getMinutes(),t.length)},s(e,t){return Ke(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,n-3));return Ke(l,t.length)}},Kr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qb={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return nn.y(e,t)},Y:function(e,t,n,i){const l=Fj(e,i),c=l>0?l:1-l;if(t==="YY"){const u=c%100;return Ke(u,2)}return t==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ke(c,t.length)},R:function(e,t){const n=Uj(e);return Ke(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ke(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ke(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ke(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return nn.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ke(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const l=uM(e,i);return t==="wo"?n.ordinalNumber(l,{unit:"week"}):Ke(l,t.length)},I:function(e,t,n){const i=cM(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Ke(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):nn.d(e,t)},D:function(e,t,n){const i=lM(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ke(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const l=e.getDay(),c=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Ke(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const l=e.getDay(),c=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Ke(c,t.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return Ke(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let l;switch(i===12?l=Kr.noon:i===0?l=Kr.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let l;switch(i>=17?l=Kr.evening:i>=12?l=Kr.afternoon:i>=4?l=Kr.morning:l=Kr.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return nn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):nn.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ke(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ke(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):nn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):nn.s(e,t)},S:function(e,t){return nn.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Jb(i);case"XXXX":case"XX":return $n(i);case"XXXXX":case"XXX":default:return $n(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return Jb(i);case"xxxx":case"xx":return $n(i);case"xxxxx":case"xxx":default:return $n(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Zb(i,":");case"OOOO":default:return"GMT"+$n(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Zb(i,":");case"zzzz":default:return"GMT"+$n(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Ke(i,t.length)},T:function(e,t,n){return Ke(+e,t.length)}};function Zb(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),c=i%60;return c===0?n+String(l):n+String(l)+t+Ke(c,2)}function Jb(e,t){return e%60===0?(e>0?"-":"+")+Ke(Math.abs(e)/60,2):$n(e,t)}function $n(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),l=Ke(Math.trunc(i/60),2),c=Ke(i%60,2);return n+l+t+c}const ev=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Hj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],l=n[2];if(!l)return ev(e,t);let c;switch(i){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",ev(i,t)).replace("{{time}}",Hj(l,t))},mM={p:Hj,P:hM},fM=/^D+$/,pM=/^Y+$/,gM=["D","DD","YY","YYYY"];function xM(e){return fM.test(e)}function yM(e){return pM.test(e)}function bM(e,t,n){const i=vM(e,t,n);if(console.warn(i),gM.includes(e))throw new RangeError(i)}function vM(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_M=/^'([^]*?)'?$/,NM=/''/g,SM=/[a-zA-Z]/;function qt(e,t,n){var g,y,b,w,_,T,N,D;const i=ud(),l=(n==null?void 0:n.locale)??i.locale??oM,c=(n==null?void 0:n.firstWeekContainsDate)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(b=i.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((T=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:T.weekStartsOn)??i.weekStartsOn??((D=(N=i.locale)==null?void 0:N.options)==null?void 0:D.weekStartsOn)??0,h=cs(e,n==null?void 0:n.in);if(!Ek(h))throw new RangeError("Invalid time value");let f=t.match(jM).map(S=>{const A=S[0];if(A==="p"||A==="P"){const k=mM[A];return k(S,l.formatLong)}return S}).join("").match(wM).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const A=S[0];if(A==="'")return{isToken:!1,value:TM(S)};if(Qb[A])return{isToken:!0,value:S};if(A.match(SM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:S}});l.localize.preprocessor&&(f=l.localize.preprocessor(h,f));const p={firstWeekContainsDate:c,weekStartsOn:u,locale:l};return f.map(S=>{if(!S.isToken)return S.value;const A=S.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yM(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&xM(A))&&bM(A,t,String(e));const k=Qb[A[0]];return k(h,A,l.localize,p)}).join("")}function TM(e){const t=e.match(_M);return t?t[1].replace(NM,"'"):e}function CM(e,t){return+cs(e)>+cs(t)}function EM(e,t,n){return jk(e,-1,n)}const AM={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},kM=(e,t,n)=>{let i;const l=AM[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+i:"h "+i:i},MM={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},OM={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},DM={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RM={date:oi({formats:MM,defaultWidth:"full"}),time:oi({formats:OM,defaultWidth:"full"}),dateTime:oi({formats:DM,defaultWidth:"full"})},PM={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},zM=(e,t,n,i)=>{const l=PM[e];return typeof l=="function"?l(t):l},LM={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},BM={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},VM={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},$M={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},UM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},qM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},FM=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"":n+""},HM={ordinalNumber:FM,era:ta({values:LM,defaultWidth:"wide"}),quarter:ta({values:BM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ta({values:VM,defaultWidth:"wide"}),day:ta({values:$M,defaultWidth:"wide"}),dayPeriod:ta({values:UM,defaultWidth:"wide",formattingValues:qM,defaultFormattingWidth:"wide"})},IM=/^(\d+)[o]?/i,GM=/\d+/i,YM={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},XM={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},KM={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},WM={any:[/1/i,/2/i,/3/i,/4/i]},QM={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},ZM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},JM={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},e5={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},t5={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},s5={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},a5={ordinalNumber:qj({matchPattern:IM,parsePattern:GM,valueCallback:e=>parseInt(e,10)}),era:sa({matchPatterns:YM,defaultMatchWidth:"wide",parsePatterns:XM,defaultParseWidth:"any"}),quarter:sa({matchPatterns:KM,defaultMatchWidth:"wide",parsePatterns:WM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sa({matchPatterns:QM,defaultMatchWidth:"wide",parsePatterns:ZM,defaultParseWidth:"any"}),day:sa({matchPatterns:JM,defaultMatchWidth:"wide",parsePatterns:e5,defaultParseWidth:"any"}),dayPeriod:sa({matchPatterns:t5,defaultMatchWidth:"any",parsePatterns:s5,defaultParseWidth:"any"})},ts={code:"pt-BR",formatDistance:kM,formatLong:RM,formatRelative:zM,localize:HM,match:a5,options:{weekStartsOn:0,firstWeekContainsDate:1}},n5=()=>{const e=pi(),{orders:t,inventory:n,notifications:i}=mt(),{user:l}=Xt(),c=t.filter(y=>y.status==="delivered"&&qt(y.updatedAt,"yyyy-MM-dd")===qt(new Date,"yyyy-MM-dd")),u=c.reduce((y,b)=>y+b.total,0),h=t.filter(y=>y.status==="pending").length,f=n.filter(y=>y.currentStock<=y.minStock).length,p=(l==null?void 0:l.email)==="demo@clubmanager.com",g=[{title:"Faturamento Hoje",value:`R$ ${u.toFixed(2)}`,icon:es,color:"text-green-600",bgColor:"bg-green-100"},{title:"Pedidos Pendentes",value:h,icon:zt,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Vendas Hoje",value:c.length,icon:Go,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Estoque Baixo",value:f,icon:Hs,color:"text-red-600",bgColor:"bg-red-100"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Dashboard Executivo",p&&a.jsx("span",{className:"ml-3 text-lg text-green-600 font-normal",children:" Modo Demo Ativo"})]}),a.jsx("p",{className:"text-gray-600",children:"Viso geral das operaes do clube"})]}),p&&a.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[a.jsx(Xc,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Teste todas as funcionalidades!"})]})]})}),p&&a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 rounded-full",children:a.jsx(Xc,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Bem-vindo ao ClubManager Demo!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Explore todos os mdulos e funcionalidades do sistema. Voc pode criar pedidos, gerenciar a cozinha, controlar estoque e muito mais!"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(cn,{to:"/bar",className:"flex items-center justify-between p-3 bg-white rounded-lg border border-blue-200 hover:border-blue-400 transition-colors group",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gm,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-medium text-gray-800",children:"Testar Mdulo Bar"})]}),a.jsx(Fb,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),a.jsxs(cn,{to:"/kitchen",className:"flex items-center justify-between p-3 bg-white rounded-lg border border-green-200 hover:border-green-400 transition-colors group",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fm,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-medium text-gray-800",children:"Testar Mdulo Cozinha"})]}),a.jsx(Fb,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((y,b)=>{const w=y.title==="Estoque Baixo";return a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:b*.1},className:`bg-white rounded-lg shadow-md p-6 ${w?"cursor-pointer hover:shadow-lg transition-shadow":""}`,onClick:w?()=>e("/inventory/estoque-baixo"):void 0,whileHover:w?{scale:1.02}:{},whileTap:w?{scale:.98}:{},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:y.title}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:y.value})]}),a.jsx("div",{className:`p-3 rounded-full ${y.bgColor}`,children:a.jsx(y.icon,{className:`w-6 h-6 ${y.color}`})})]})},y.title)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pedidos Recentes"}),a.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(y=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-800",children:["Mesa ",y.tableNumber||"N/A"]}),a.jsx("p",{className:"text-sm text-gray-600",children:qt(y.createdAt,"HH:mm",{locale:ts})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-gray-800",children:["R$ ",y.total.toFixed(2)]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y.status==="pending"?"bg-yellow-100 text-yellow-800":y.status==="preparing"?"bg-blue-100 text-blue-800":y.status==="ready"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.status==="pending"?"Pendente":y.status==="preparing"?"Preparando":y.status==="ready"?"Pronto":"Entregue"})]})]},y.id)),t.length===0&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-500 mb-2",children:"Nenhum pedido ainda"}),p&&a.jsx(cn,{to:"/bar",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Criar primeiro pedido "})]})]})]}),a.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Alertas de Estoque"}),a.jsxs("div",{className:"space-y-3",children:[n.filter(y=>y.currentStock<=y.minStock).slice(0,5).map(y=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:y.name}),a.jsx("p",{className:"text-sm text-gray-600",children:y.category})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-red-600",children:[y.currentStock," ",y.unit]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Mn: ",y.minStock]})]})]},y.id)),n.filter(y=>y.currentStock<=y.minStock).length===0&&a.jsx("p",{className:"text-gray-500 text-center py-4",children:"Todos os itens com estoque adequado"})]})]})]}),a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mdulos Disponveis"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(cn,{to:"/bar",className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Gm,{className:"w-5 h-5 text-blue-600"}),a.jsx("h4",{className:"font-medium text-gray-800 group-hover:text-blue-600 transition-colors",children:"Mdulo Bar"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Gesto completa de pedidos, comandas e vendas do bar"})]}),a.jsxs(cn,{to:"/cash",className:"p-4 border border-gray-200 rounded-lg hover:border-green-300 transition-colors cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(es,{className:"w-5 h-5 text-green-600"}),a.jsx("h4",{className:"font-medium text-gray-800 group-hover:text-green-600 transition-colors",children:"Gesto de Caixa"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Controle financeiro, fechamento de caixa e relatrios"})]}),a.jsxs(cn,{to:"/kitchen",className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Fm,{className:"w-5 h-5 text-orange-600"}),a.jsx("h4",{className:"font-medium text-gray-800 group-hover:text-orange-600 transition-colors",children:"Mdulo Cozinha"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Controle de cardpio, pedidos e gesto da cozinha"})]}),a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Xn,{className:"w-5 h-5 text-gray-400"}),a.jsx("h4",{className:"font-medium text-gray-500",children:"Mdulos Futuros"})]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Quadras, Piscina, Eventos, RH e mais"})]})]})]})]})},Ij=({onCustomerSelected:e,onClose:t})=>{const[n,i]=v.useState({phone:"",name:"",email:""}),[l,c]=v.useState(null),[u,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(null),b=async S=>{if(!(S.length<10)){p(!0),y(null);try{const{data:A,error:k}=await le.rpc("get_bar_customer_by_phone",{customer_phone:S});if(k)throw k;if(A&&A.length>0){const j=A[0];c(j),i({phone:j.phone,name:j.name,email:j.email||""})}else c(null),i(j=>({...j,name:"",email:""}))}catch(A){console.error("Erro ao buscar cliente:",A),y("Erro ao buscar cliente")}finally{p(!1)}}},w=S=>{const A=S.replace(/\D/g,"");return A.length<=11?A.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):S},_=S=>{const A=S.target.value,k=w(A);i(M=>({...M,phone:k}));const j=A.replace(/\D/g,"");j.length===11?b(j):c(null)},T=async()=>{h(!0),y(null);try{const S=n.phone.replace(/\D/g,""),{data:A,error:k}=await le.from("bar_customers").insert({phone:S,name:n.name,email:n.email||null,status:"active",is_vip:!1,loyalty_points:0,credit_limit:0,current_balance:0}).select().single();if(k)throw k;e(A)}catch(S){console.error("Erro ao criar cliente:",S),y("Erro ao criar cliente")}finally{h(!1)}},N=()=>{l&&e(l)},D=S=>{if(S.preventDefault(),!n.phone||!n.name){y("Telefone e nome so obrigatrios");return}l?N():T()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"Cliente Encontrado":"Cadastro de Cliente"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),g&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:g}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:n.phone,onChange:_,placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:15,required:!0}),f&&a.jsx("div",{className:"absolute right-3 top-2.5",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),a.jsx("input",{type:"text",value:n.name,onChange:S=>i(A=>({...A,name:S.target.value})),placeholder:"Nome completo",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:!!l})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (opcional)"}),a.jsx("input",{type:"email",value:n.email,onChange:S=>i(A=>({...A,email:S.target.value})),placeholder:"email@exemplo.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!!l})]}),l&&a.jsx("div",{className:"p-3 bg-green-100 border border-green-400 rounded",children:a.jsxs("p",{className:"text-green-700 text-sm",children:[a.jsx("strong",{children:"Cliente encontrado!"}),a.jsx("br",{}),"ltima visita: ",l.last_visit?new Date(l.last_visit).toLocaleDateString("pt-BR"):"Primeira visita",a.jsx("br",{}),"Pontos de fidelidade: ",l.loyalty_points,l.is_vip&&a.jsx("span",{className:"ml-2 text-yellow-600",children:" VIP"})]})}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:u||!n.phone||!n.name,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processando..."]}):l?"Selecionar Cliente":"Cadastrar Cliente"})]})]})]})})},r5=({isOpen:e,onClose:t,menuItems:n})=>{const{addOrder:i}=mt(),{user:l}=Xt(),[c,u]=v.useState([]),[h,f]=v.useState(""),[p,g]=v.useState(""),[y,b]=v.useState(!1),[w,_]=v.useState(null),[T,N]=v.useState(!1),D=L=>{if(c.find(I=>I.menuItemId===L.id))u(I=>I.map(V=>V.menuItemId===L.id?{...V,quantity:V.quantity+1}:V));else{const I={id:`item-${Date.now()}`,menuItemId:L.id,quantity:1,price:L.price};u(V=>[...V,I])}},S=L=>{u($=>$.filter(I=>I.menuItemId!==L))},A=(L,$)=>{if($<=0){S(L);return}u(I=>I.map(V=>V.menuItemId===L?{...V,quantity:$}:V))},k=c.reduce((L,$)=>L+$.price*$.quantity,0),j=L=>{_(L),N(!1)},M=async L=>{if(L.preventDefault(),!(c.length===0||y)){if(!w){alert("Por favor, selecione um cliente antes de finalizar o pedido.");return}b(!0);try{await i({tableNumber:h||void 0,items:c.map(({id:$,...I})=>I),status:"pending",employeeId:l.id,customerId:w.id,notes:p||void 0}),u([]),f(""),g(""),_(null),t()}catch($){console.error("Falha ao criar o pedido:",$)}finally{b(!1)}}};return a.jsx(Zn,{children:e&&a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[a.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Novo Pedido"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(at,{size:24})})]}),a.jsxs("div",{className:"flex h-[70vh]",children:[a.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Cardpio"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(L=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:L.name}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",L.price.toFixed(2)]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:L.description}),a.jsx("button",{onClick:()=>D(L),disabled:!L.available||y,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:L.available?"Adicionar":"Indisponvel"})]},L.id))})]}),a.jsxs("div",{className:"w-1/3 bg-gray-50 p-6 border-l border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pedido"}),a.jsxs("form",{onSubmit:M,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),w?a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-800",children:w.name}),a.jsx("p",{className:"text-sm text-green-600",children:w.phone}),w.is_vip&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-1",children:" VIP"})]}),a.jsx("button",{type:"button",onClick:()=>_(null),className:"text-green-600 hover:text-green-800",disabled:y,children:a.jsx(at,{size:16})})]})}):a.jsxs("button",{type:"button",onClick:()=>N(!0),className:"w-full flex items-center justify-center px-3 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors",disabled:y,children:[a.jsx(Kn,{size:20,className:"mr-2"}),"Selecionar Cliente"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da Mesa"}),a.jsx("input",{type:"text",value:h,onChange:L=>f(L.target.value),placeholder:"Ex: 5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y})]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:c.map(L=>{const $=n.find(I=>I.id===L.menuItemId);return a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:$==null?void 0:$.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",L.price.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>A(L.menuItemId,L.quantity-1),className:"text-gray-400 hover:text-gray-600",disabled:y,children:a.jsx(ui,{size:16})}),a.jsx("span",{className:"w-8 text-center",children:L.quantity}),a.jsx("button",{type:"button",onClick:()=>A(L.menuItemId,L.quantity+1),className:"text-gray-400 hover:text-gray-600",disabled:y,children:a.jsx(vs,{size:16})})]})]},L.id)})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),a.jsx("textarea",{value:p,onChange:L=>g(L.target.value),placeholder:"Observaes especiais...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:y})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total:"}),a.jsxs("span",{className:"text-xl font-bold text-green-600",children:["R$ ",k.toFixed(2)]})]}),a.jsx("button",{type:"submit",disabled:c.length===0||y||!w,className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 disabled:bg-green-400 disabled:cursor-not-allowed transition-colors",children:y?"Confirmando...":"Confirmar Pedido"})]})]})]})]})]}),T&&a.jsx(Ij,{onCustomerSelected:j,onClose:()=>N(!1)})]})})},i5=({order:e,menuItems:t,hasMultipleOrders:n=!1,orderNumber:i})=>{const{updateOrderStatus:l}=mt(),c=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"preparing":return"bg-blue-100 text-blue-800 border-blue-200";case"ready":return"bg-green-100 text-green-800 border-green-200";case"delivered":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},u=y=>{switch(y){case"pending":return"Pendente";case"preparing":return"Preparando";case"ready":return"Pronto";case"delivered":return"Entregue";case"cancelled":return"Cancelado";default:return y}},f=(y=>{switch(y){case"pending":return"preparing";case"preparing":return"ready";case"ready":return"delivered";default:return null}})(e.status),p=y=>y.id.startsWith("balcao-"),g=y=>y.id.startsWith("comanda-");return a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow ${n?"ring-2 ring-orange-300 ring-offset-2":""} ${p(e)?"border-green-400 bg-green-50 shadow-lg":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cd,{size:16,className:"text-gray-400"}),a.jsxs("span",{className:"font-medium text-gray-800",children:["Mesa ",e.tableNumber||"N/A"]}),i&&a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",i]}),p(e)&&a.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:" PAGO"}),g(e)&&a.jsx("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"AGUARDA PAGTO"})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${c(e.status)}`,children:u(e.status)})]}),a.jsx("div",{className:"space-y-2 mb-4",children:e.items.map(y=>{const b=t.find(w=>w.id===y.menuItemId);return a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:[y.quantity,"x ",b==null?void 0:b.name]}),a.jsxs("span",{className:"text-gray-800",children:["R$ ",(y.price*y.quantity).toFixed(2)]})]},y.id)})}),e.notes&&a.jsx("div",{className:"mb-4 p-2 bg-yellow-50 rounded border border-yellow-200",children:a.jsx("p",{className:"text-xs text-yellow-800",children:e.notes})}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(zt,{size:12}),a.jsx("span",{children:qt(e.createdAt,"HH:mm",{locale:ts})})]}),a.jsxs("span",{className:"font-medium text-gray-800",children:["R$ ",e.total.toFixed(2)]})]}),f&&a.jsxs("button",{onClick:()=>l(e.id,f),className:`w-full py-2 rounded-lg text-sm font-medium transition-colors ${p(e)?e.status==="pending"?"bg-green-600 text-white hover:bg-green-700":e.status==="preparing"?"bg-green-700 text-white hover:bg-green-800":"bg-green-800 text-white hover:bg-green-900":g(e)?e.status==="pending"?"bg-yellow-600 text-white hover:bg-yellow-700":e.status==="preparing"?"bg-yellow-700 text-white hover:bg-yellow-800":"bg-yellow-800 text-white hover:bg-yellow-900":e.status==="pending"?"bg-blue-600 text-white hover:bg-blue-700":e.status==="preparing"?"bg-blue-700 text-white hover:bg-blue-800":"bg-blue-800 text-white hover:bg-blue-900"}`,children:[f==="preparing"&&"Iniciar Preparo",f==="ready"&&"Marcar como Pronto",f==="delivered"&&"Marcar como Entregue"]})]})},o5=()=>{const{orders:e,barOrders:t,menuItems:n}=mt(),[i,l]=v.useState(!1),[c,u]=v.useState("all"),[h,f]=v.useState(""),[p,g]=v.useState("all"),y=n,w=(()=>{const S=new Map;return t.forEach(A=>{const k=A.tableNumber||"Balco";S.has(k)||S.set(k,[]),S.get(k).push(A)}),S})(),_=S=>(w.get(S)||[]).length>1,T=S=>S.id.slice(-4).toUpperCase(),N=t.filter(S=>{var M,L;const A=c==="all"||S.status===c,k=p==="all"||(S.tableNumber||"Balco")===p,j=((M=S.tableNumber)==null?void 0:M.toLowerCase().includes(h.toLowerCase()))||S.id.toLowerCase().includes(h.toLowerCase())||((L=S.notes)==null?void 0:L.toLowerCase().includes(h.toLowerCase()));return A&&k&&j}),D=t.filter(S=>S.status==="delivered").reduce((S,A)=>S+A.total,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Bar"}),a.jsx("p",{className:"text-gray-600",children:"Gesto completa de pedidos e vendas"})]}),a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Novo Pedido"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Receita Total"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",D.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pedidos Hoje"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pedidos Pendentes"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:t.filter(S=>S.status==="pending").length})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Pedidos"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[Array.from(w.entries()).filter(([S,A])=>A.length>1).length>0&&a.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[Array.from(w.entries()).filter(([S,A])=>A.length>1).length," mesa(s) com mltiplos pedidos"]}),p!=="all"&&a.jsxs("button",{onClick:()=>g("all"),className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[a.jsxs("span",{children:["Filtro: ",p]}),a.jsx("span",{className:"text-blue-600",children:""})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ma,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:h,onChange:S=>f(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Status"}),a.jsx("option",{value:"pending",children:"Pendente"}),a.jsx("option",{value:"preparing",children:"Preparando"}),a.jsx("option",{value:"ready",children:"Pronto"}),a.jsx("option",{value:"delivered",children:"Entregue"})]})]})]}),Array.from(w.entries()).filter(([S,A])=>A.length>1).length>0&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(w.entries()).filter(([S,A])=>A.length>1).map(([S,A])=>a.jsxs("button",{onClick:()=>g(S),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors hover:shadow-md transform hover:scale-105 ${p===S?"bg-orange-400 text-white":"bg-orange-200 text-orange-800 hover:bg-orange-300"}`,title:`Filtrar pedidos da ${S}`,children:["Mesa ",S,": ",A.length," pedidos"]},S))})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(S=>a.jsx(i5,{order:S,menuItems:n,hasMultipleOrders:_(S.tableNumber||"Balco"),orderNumber:T(S)},S.id))}),N.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado"})})]}),i&&a.jsx(r5,{isOpen:i,onClose:()=>l(!1),menuItems:y})]})},l5=()=>{const[e,t]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(""),[u,h]=v.useState("all"),[f,p]=v.useState(!1),[g,y]=v.useState(null),[b,w]=v.useState(!1),_=async()=>{i(!0);try{const{data:j,error:M}=await le.from("bar_customers").select("*").order("created_at",{ascending:!1});if(M)throw M;t(j||[])}catch(j){console.error("Erro ao carregar clientes:",j)}finally{i(!1)}};v.useEffect(()=>{_()},[]);const T=e.filter(j=>{const M=j.name.toLowerCase().includes(l.toLowerCase())||j.phone.includes(l)||j.email&&j.email.toLowerCase().includes(l.toLowerCase()),L=u==="all"||j.status===u;return M&&L}),N={total:e.length,active:e.filter(j=>j.status==="active").length,vip:e.filter(j=>j.is_vip).length,totalLoyaltyPoints:e.reduce((j,M)=>j+M.loyalty_points,0)},D=j=>{t(M=>[j,...M]),p(!1)},S=j=>{y(j),w(!0)},A=j=>{const M=j.replace(/\D/g,"");return M.length===11?`(${M.slice(0,2)}) ${M.slice(2,7)}-${M.slice(7)}`:j},k=j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Clientes do Bar"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie os clientes e suas informaes"})]}),a.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Novo Cliente"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Clientes"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:a.jsx(Gc,{className:"h-6 w-6 text-blue-600"})})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes Ativos"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.active})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(al,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes VIP"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.vip})]}),a.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:a.jsx(Im,{className:"h-6 w-6 text-yellow-600"})})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pontos Totais"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N.totalLoyaltyPoints.toLocaleString()})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:a.jsx(es,{className:"h-6 w-6 text-purple-600"})})]})})]}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone ou email...",value:l,onChange:j=>c(j.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("div",{className:"flex space-x-4",children:a.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Status"}),a.jsx("option",{value:"active",children:"Ativo"}),a.jsx("option",{value:"inactive",children:"Inativo"}),a.jsx("option",{value:"blocked",children:"Bloqueado"})]})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando clientes..."})]}):T.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Gc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Nenhum cliente encontrado"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltima Visita"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(j=>a.jsxs(we.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:j.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),j.is_vip&&a.jsx(Im,{className:"ml-2 h-4 w-4 text-yellow-500 fill-current"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:j.cpf||"CPF no informado"})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:A(j.phone)}),a.jsx("div",{className:"text-sm text-gray-500",children:j.email||"Email no informado"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.status==="active"?"bg-green-100 text-green-800":j.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:j.status==="active"?"Ativo":j.status==="inactive"?"Inativo":"Bloqueado"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[j.loyalty_points.toLocaleString()," pts"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.last_visit?new Date(j.last_visit).toLocaleDateString("pt-BR"):"Nunca"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>S(j),className:"text-blue-600 hover:text-blue-900",children:a.jsx(nl,{size:16})}),a.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:a.jsx(rl,{size:16})}),a.jsx("button",{className:"text-red-600 hover:text-red-900",children:a.jsx(dd,{size:16})})]})})]},j.id))})]})})}),f&&a.jsx(Ij,{onCustomerSelected:D,onClose:()=>p(!1)}),b&&g&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Detalhes do Cliente"}),a.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:A(g.phone)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.email||"No informado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CPF"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.cpf||"No informado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("p",{className:"mt-1",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.status==="active"?"bg-green-100 text-green-800":g.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:g.status==="active"?"Ativo":g.status==="inactive"?"Inativo":"Bloqueado"}),g.is_vip&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:" VIP"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pontos de Fidelidade"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[g.loyalty_points.toLocaleString()," pontos"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Limite de Crdito"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k(g.credit_limit)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Saldo Atual"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k(g.current_balance)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ltima Visita"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.last_visit?new Date(g.last_visit).toLocaleDateString("pt-BR"):"Nunca"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cadastrado em"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(g.created_at).toLocaleDateString("pt-BR")})]})]}),g.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observaes"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.notes})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Fechar"})})]})})]})},c5=()=>{const[e,t]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),u=v.useCallback(async()=>{try{i(!0),c(null);const{data:_,error:T}=await le.from("bar_employees").select("*").order("created_at",{ascending:!1});if(T)throw console.error("Erro na consulta bar_employees:",T),new Error(`Erro ao consultar banco de dados: ${T.message}`);const N=(_||[]).map(D=>{const S=D.notes||"",A=S.match(/Nome: ([^,]+)/),k=S.match(/CPF: ([^,]+)/),j=S.match(/Email: ([^,]+)/),M=S.match(/Telefone: ([^,]+)/);return{id:D.id,employee_id:D.employee_id||"",bar_role:D.bar_role,shift_preference:D.shift_preference,specialties:D.specialties||[],commission_rate:D.commission_rate||0,status:D.is_active?"active":"inactive",start_date:D.start_date,end_date:D.end_date,notes:D.notes,created_at:D.created_at,updated_at:D.updated_at,employee:{id:D.id,name:A?A[1]:"Nome no informado",cpf:k?k[1]:void 0,email:j?j[1]:void 0,phone:M?M[1]:void 0,hire_date:D.start_date,status:D.is_active?"active":"inactive"}}});console.log("Funcionrios carregados:",N.length),t(N)}catch(_){console.error("Erro ao buscar funcionrios:",_),c(_ instanceof Error?_.message:"Erro ao buscar funcionrios")}finally{i(!1)}},[]),h=v.useCallback(async _=>{try{c(null);const{data:T,error:N}=await le.from("bar_employees").insert([{employee_id:null,bar_role:_.bar_role,shift_preference:_.shift_preference||"qualquer",specialties:_.specialties||[],commission_rate:_.commission_rate||0,is_active:!0,start_date:new Date().toISOString().split("T")[0],notes:`Nome: ${_.name}${_.cpf?`, CPF: ${_.cpf}`:""}${_.email?`, Email: ${_.email}`:""}${_.phone?`, Telefone: ${_.phone}`:""}${_.notes?`, Observaes: ${_.notes}`:""}`}]).select().single();if(N)throw N;return await u(),T.id}catch(T){console.error("Erro ao criar funcionrio:",T);const N=T instanceof Error?T.message:"Erro ao criar funcionrio";throw c(N),new Error(N)}},[u]),f=v.useCallback(async(_,T)=>{try{c(null);const{data:N,error:D}=await le.from("bar_employees").select("notes").eq("id",_).single();if(D)throw D;let S=(N==null?void 0:N.notes)||"";T.name!==void 0&&(S=S.replace(/Nome: [^,]+/,`Nome: ${T.name}`),S.includes("Nome:")||(S=`Nome: ${T.name}, ${S}`)),T.cpf!==void 0&&(S=S.replace(/CPF: [^,]+/,`CPF: ${T.cpf}`),!S.includes("CPF:")&&T.cpf&&(S+=`, CPF: ${T.cpf}`)),T.email!==void 0&&(S=S.replace(/Email: [^,]+/,`Email: ${T.email}`),!S.includes("Email:")&&T.email&&(S+=`, Email: ${T.email}`)),T.phone!==void 0&&(S=S.replace(/Telefone: [^,]+/,`Telefone: ${T.phone}`),!S.includes("Telefone:")&&T.phone&&(S+=`, Telefone: ${T.phone}`));const A={updated_at:new Date().toISOString()};T.bar_role!==void 0&&(A.bar_role=T.bar_role),T.shift_preference!==void 0&&(A.shift_preference=T.shift_preference),T.specialties!==void 0&&(A.specialties=T.specialties),T.commission_rate!==void 0&&(A.commission_rate=T.commission_rate),T.is_active!==void 0&&(A.is_active=T.is_active),T.notes!==void 0&&(S+=T.notes?`, Observaes: ${T.notes}`:""),A.notes=S;const{error:k}=await le.from("bar_employees").update(A).eq("id",_);if(k)throw k;await u()}catch(N){console.error("Erro ao atualizar funcionrio:",N);const D=N instanceof Error?N.message:"Erro ao atualizar funcionrio";throw c(D),new Error(D)}},[u]),p=v.useCallback(async _=>{try{await f(_,{is_active:!1})}catch(T){throw console.error("Erro ao desativar funcionrio:",T),T}},[f]),g=v.useCallback(async _=>{try{await f(_,{is_active:!0})}catch(T){throw console.error("Erro ao reativar funcionrio:",T),T}},[f]),y=v.useCallback(async _=>{try{const{data:T,error:N}=await le.from("bar_employees").select("*").eq("id",_).single();if(N)throw N;if(!T)return null;const D=T.notes||"",S=D.match(/Nome: ([^,]+)/),A=D.match(/CPF: ([^,]+)/),k=D.match(/Email: ([^,]+)/),j=D.match(/Telefone: ([^,]+)/);return{id:T.id,employee_id:T.employee_id||"",bar_role:T.bar_role,shift_preference:T.shift_preference,specialties:T.specialties||[],commission_rate:T.commission_rate||0,status:T.is_active?"active":"inactive",start_date:T.start_date||"",end_date:T.end_date||void 0,notes:T.notes||void 0,created_at:T.created_at||"",updated_at:T.updated_at||"",employee:{id:T.id,name:S?S[1]:"Nome no informado",cpf:A?A[1]:void 0,email:k?k[1]:void 0,phone:j?j[1]:void 0,hire_date:T.start_date||void 0,status:T.is_active?"active":"inactive"}}}catch(T){return console.error("Erro ao buscar funcionrio:",T),null}},[]),b=v.useCallback((_="",T="all",N="all")=>e.filter(D=>{var M,L,$;const S=D.employee;if(!S)return!1;const A=S.name.toLowerCase().includes(_.toLowerCase())||((M=S.phone)==null?void 0:M.includes(_))||((L=S.email)==null?void 0:L.toLowerCase().includes(_.toLowerCase()))||(($=S.cpf)==null?void 0:$.includes(_)),k=T==="all"||D.bar_role===T,j=N==="all"||D.status===N;return A&&k&&j}),[e]),w=v.useCallback(()=>({total:e.length,active:e.filter(_=>_.status==="active").length,inactive:e.filter(_=>_.status==="inactive").length,byRole:{atendente:e.filter(_=>_.bar_role==="atendente").length,garcom:e.filter(_=>_.bar_role==="garcom").length,cozinheiro:e.filter(_=>_.bar_role==="cozinheiro").length,barman:e.filter(_=>_.bar_role==="barman").length,gerente:e.filter(_=>_.bar_role==="gerente").length}}),[e]);return v.useEffect(()=>{u()},[u]),{employees:e,loading:n,error:l,createEmployee:h,updateEmployee:f,deactivateEmployee:p,reactivateEmployee:g,getEmployeeById:y,filterEmployees:b,getStats:w,refetch:u}},d5=()=>{var ye,fe;const{loading:e,error:t,createEmployee:n,updateEmployee:i,deactivateEmployee:l,reactivateEmployee:c,filterEmployees:u,getStats:h}=c5(),[f,p]=v.useState(""),[g,y]=v.useState("all"),[b,w]=v.useState("all"),[_,T]=v.useState(null),[N,D]=v.useState(!1),[S,A]=v.useState(!1),[k,j]=v.useState(!1),[M,L]=v.useState(!1),[$,I]=v.useState({name:"",cpf:"",email:"",phone:"",bar_role:"atendente",shift_preference:"qualquer",specialties:[],commission_rate:0,notes:""}),[V,J]=v.useState({}),Q=u(f,g,b),B=h(),Y=async()=>{if(!$.name.trim()){alert("Por favor, informe o nome do funcionrio");return}L(!0);try{await n($),A(!1),ne(),alert("Funcionrio cadastrado com sucesso!")}catch(oe){console.error("Erro ao criar funcionrio:",oe),alert("Erro ao cadastrar funcionrio. Tente novamente.")}finally{L(!1)}},K=oe=>{var me,ke,Ge,ct;T(oe),J({name:((me=oe.employee)==null?void 0:me.name)||"",cpf:((ke=oe.employee)==null?void 0:ke.cpf)||"",email:((Ge=oe.employee)==null?void 0:Ge.email)||"",phone:((ct=oe.employee)==null?void 0:ct.phone)||"",bar_role:oe.bar_role,shift_preference:oe.shift_preference,specialties:oe.specialties||[],commission_rate:oe.commission_rate,notes:oe.notes||""}),j(!0)},z=async()=>{if(_){L(!0);try{await i(_.id,V),j(!1),T(null),J({}),alert("Funcionrio atualizado com sucesso!")}catch(oe){console.error("Erro ao atualizar funcionrio:",oe),alert("Erro ao atualizar funcionrio. Tente novamente.")}finally{L(!1)}}},R=async oe=>{var ke;if(confirm(`Tem certeza que deseja desativar o funcionrio ${(ke=oe.employee)==null?void 0:ke.name}?`))try{await l(oe.id),alert("Funcionrio desativado com sucesso!")}catch(Ge){console.error("Erro ao desativar funcionrio:",Ge),alert("Erro ao desativar funcionrio. Tente novamente.")}},q=async oe=>{var ke;if(confirm(`Tem certeza que deseja reativar o funcionrio ${(ke=oe.employee)==null?void 0:ke.name}?`))try{await c(oe.id),alert("Funcionrio reativado com sucesso!")}catch(Ge){console.error("Erro ao reativar funcionrio:",Ge),alert("Erro ao reativar funcionrio. Tente novamente.")}},ne=()=>{I({name:"",cpf:"",email:"",phone:"",bar_role:"atendente",shift_preference:"qualquer",specialties:[],commission_rate:0,notes:""})},E=oe=>{T(oe),D(!0)},F=oe=>{if(!oe)return"No informado";const me=oe.replace(/\D/g,"");return me.length===11?`(${me.slice(0,2)}) ${me.slice(2,7)}-${me.slice(7)}`:oe},P=oe=>{switch(oe){case"atendente":return"";case"garcom":return"";case"cozinheiro":return"";case"barman":return"";case"gerente":return"";default:return""}},Z=oe=>{switch(oe){case"atendente":return"bg-blue-100 text-blue-800";case"garcom":return"bg-green-100 text-green-800";case"cozinheiro":return"bg-orange-100 text-orange-800";case"barman":return"bg-purple-100 text-purple-800";case"gerente":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ue=oe=>{switch(oe){case"atendente":return"Atendente";case"garcom":return"Garom";case"cozinheiro":return"Cozinheiro";case"barman":return"Barman";case"gerente":return"Gerente";default:return oe}};return a.jsxs("div",{className:"p-6 space-y-6",children:[t&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"text-red-600",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("p",{className:"text-red-800",children:t})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Funcionrios do Bar"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie a equipe do bar e suas funes"})]}),a.jsxs("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Novo Funcionrio"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:B.total}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:B.active}),a.jsx("div",{className:"text-sm text-gray-600",children:"Ativos"})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[" ",B.byRole.atendente]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Atendentes"})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xl font-bold text-green-600",children:[" ",B.byRole.garcom]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Garons"})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[" ",B.byRole.cozinheiro]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Cozinheiros"})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[" ",B.byRole.barman]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Barmans"})]})})]}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone ou email...",value:f,onChange:oe=>p(oe.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("select",{value:g,onChange:oe=>y(oe.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todas as Funes"}),a.jsx("option",{value:"atendente",children:"Atendente"}),a.jsx("option",{value:"garcom",children:"Garom"}),a.jsx("option",{value:"cozinheiro",children:"Cozinheiro"}),a.jsx("option",{value:"barman",children:"Barman"}),a.jsx("option",{value:"gerente",children:"Gerente"})]}),a.jsxs("select",{value:b,onChange:oe=>w(oe.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Status"}),a.jsx("option",{value:"active",children:"Ativo"}),a.jsx("option",{value:"inactive",children:"Inativo"})]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Carregando funcionrios..."})]}):Q.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Kn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Nenhum funcionrio encontrado"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funcionrio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funo no Bar"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Contratao"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.map(oe=>{const me=oe.employee;return me?a.jsxs(we.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:me.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:me.name}),a.jsx("div",{className:"text-sm text-gray-500",children:me.cpf||"CPF no informado"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z(oe.bar_role)}`,children:[a.jsx("span",{className:"mr-1",children:P(oe.bar_role)}),ue(oe.bar_role)]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:F(me.phone||null)}),a.jsx("div",{className:"text-sm text-gray-500",children:me.email||"Email no informado"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${oe.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:oe.status==="active"?"Ativo":"Inativo"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:me.hire_date?new Date(me.hire_date).toLocaleDateString("pt-BR"):"No informado"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>E(oe),className:"text-blue-600 hover:text-blue-900",children:a.jsx(nl,{size:16})}),a.jsx("button",{onClick:()=>K(oe),className:"text-gray-600 hover:text-gray-900",title:"Editar funcionrio",children:a.jsx(rl,{size:16})}),oe.status==="active"?a.jsx("button",{onClick:()=>R(oe),className:"text-red-600 hover:text-red-900",title:"Desativar funcionrio",children:a.jsx(dd,{size:16})}):a.jsx("button",{onClick:()=>q(oe),className:"text-green-600 hover:text-green-900",title:"Reativar funcionrio",children:a.jsx(Kn,{size:16})})]})})]},oe.id):null})})]})})}),N&&_&&_.employee&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Detalhes do Funcionrio"}),a.jsx("button",{onClick:()=>D(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_.employee.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Funo no Bar"}),a.jsx("p",{className:"mt-1",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z(_.bar_role)}`,children:[a.jsx("span",{className:"mr-1",children:P(_.bar_role)}),ue(_.bar_role)]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:F(((ye=_.employee)==null?void 0:ye.phone)||null)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_.employee.email||"No informado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CPF"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_.employee.cpf||"No informado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("p",{className:"mt-1",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.status==="active"?"Ativo":"Inativo"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Contratao"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_.employee.hire_date?new Date(_.employee.hire_date).toLocaleDateString("pt-BR"):"No informado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cadastrado no Bar em"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(_.created_at).toLocaleDateString("pt-BR")})]})]}),_.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observaes"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_.notes})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Fechar"})})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Novo Funcionrio"}),a.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),a.jsx("input",{type:"text",value:$.name,onChange:oe=>I(me=>({...me,name:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),a.jsx("input",{type:"text",value:$.cpf,onChange:oe=>I(me=>({...me,cpf:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:$.email,onChange:oe=>I(me=>({...me,email:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),a.jsx("input",{type:"text",value:$.phone,onChange:oe=>I(me=>({...me,phone:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funo *"}),a.jsxs("select",{value:$.bar_role,onChange:oe=>I(me=>({...me,bar_role:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"atendente",children:"Atendente"}),a.jsx("option",{value:"garcom",children:"Garom"}),a.jsx("option",{value:"cozinheiro",children:"Cozinheiro"}),a.jsx("option",{value:"barman",children:"Barman"}),a.jsx("option",{value:"gerente",children:"Gerente"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turno Preferido"}),a.jsxs("select",{value:$.shift_preference,onChange:oe=>I(me=>({...me,shift_preference:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"qualquer",children:"Qualquer"}),a.jsx("option",{value:"manha",children:"Manh"}),a.jsx("option",{value:"tarde",children:"Tarde"}),a.jsx("option",{value:"noite",children:"Noite"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comisso (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:$.commission_rate,onChange:oe=>I(me=>({...me,commission_rate:parseFloat(oe.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),a.jsx("textarea",{value:$.notes,onChange:oe=>I(me=>({...me,notes:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observaes adicionais (opcional)"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{A(!1),ne()},disabled:M,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{onClick:Y,disabled:M||!$.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:M?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Cadastrando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Yc,{size:16}),a.jsx("span",{children:"Cadastrar"})]})})]})]})}),k&&_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar Funcionrio"}),a.jsx("button",{onClick:()=>{j(!1),T(null),J({})},className:"text-gray-400 hover:text-gray-600",children:a.jsx(at,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),a.jsx("input",{type:"text",value:V.name||"",onChange:oe=>J(me=>({...me,name:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),a.jsx("input",{type:"text",value:V.cpf||"",onChange:oe=>J(me=>({...me,cpf:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:V.email||"",onChange:oe=>J(me=>({...me,email:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),a.jsx("input",{type:"text",value:V.phone||"",onChange:oe=>J(me=>({...me,phone:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(11) 99999-9999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funo *"}),a.jsxs("select",{value:V.bar_role||"atendente",onChange:oe=>J(me=>({...me,bar_role:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"atendente",children:"Atendente"}),a.jsx("option",{value:"garcom",children:"Garom"}),a.jsx("option",{value:"cozinheiro",children:"Cozinheiro"}),a.jsx("option",{value:"barman",children:"Barman"}),a.jsx("option",{value:"gerente",children:"Gerente"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turno Preferido"}),a.jsxs("select",{value:V.shift_preference||"qualquer",onChange:oe=>J(me=>({...me,shift_preference:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"qualquer",children:"Qualquer"}),a.jsx("option",{value:"manha",children:"Manh"}),a.jsx("option",{value:"tarde",children:"Tarde"}),a.jsx("option",{value:"noite",children:"Noite"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comisso (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:V.commission_rate||0,onChange:oe=>J(me=>({...me,commission_rate:parseFloat(oe.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:V.is_active!==void 0?V.is_active?"active":"inactive":"active",onChange:oe=>J(me=>({...me,is_active:oe.target.value==="active"})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"active",children:"Ativo"}),a.jsx("option",{value:"inactive",children:"Inativo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),a.jsx("textarea",{value:V.notes||"",onChange:oe=>J(me=>({...me,notes:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observaes adicionais (opcional)"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{j(!1),T(null),J({})},disabled:M,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{onClick:z,disabled:M||!((fe=V.name)!=null&&fe.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:M?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Salvando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Yc,{size:16}),a.jsx("span",{children:"Salvar"})]})})]})]})})]})};var il=e=>e.type==="checkbox",Hn=e=>e instanceof Date,Zt=e=>e==null;const Gj=e=>typeof e=="object";var yt=e=>!Zt(e)&&!Array.isArray(e)&&Gj(e)&&!Hn(e),Yj=e=>yt(e)&&e.target?il(e.target)?e.target.checked:e.target.value:e,u5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Xj=(e,t)=>e.has(u5(t)),h5=e=>{const t=e.constructor&&e.constructor.prototype;return yt(t)&&t.hasOwnProperty("isPrototypeOf")},Yf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function At(e){let t;const n=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Yf&&(e instanceof Blob||i))&&(n||yt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!h5(e))t=e;else for(const l in e)e.hasOwnProperty(l)&&(t[l]=At(e[l]));else return e;return t}var hd=e=>/^\w*$/.test(e),xt=e=>e===void 0,Xf=e=>Array.isArray(e)?e.filter(Boolean):[],Kf=e=>Xf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(e,t,n)=>{if(!t||!yt(e))return n;const i=(hd(t)?[t]:Kf(t)).reduce((l,c)=>Zt(l)?l:l[c],e);return xt(i)||i===e?xt(e[t])?n:e[t]:i},bs=e=>typeof e=="boolean",st=(e,t,n)=>{let i=-1;const l=hd(t)?[t]:Kf(t),c=l.length,u=c-1;for(;++i<c;){const h=l[i];let f=n;if(i!==u){const p=e[h];f=yt(p)||Array.isArray(p)?p:isNaN(+l[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=f,e=e[h]}};const Wc={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_a={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Kj=Ue.createContext(null);Kj.displayName="HookFormContext";const Wf=()=>Ue.useContext(Kj);var Wj=(e,t,n,i=!0)=>{const l={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(l,c,{get:()=>{const u=c;return t._proxyFormState[u]!==Us.all&&(t._proxyFormState[u]=!i||Us.all),n&&(n[u]=!0),e[u]}});return l};const Qf=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;function m5(e){const t=Wf(),{control:n=t.control,disabled:i,name:l,exact:c}=e||{},[u,h]=Ue.useState(n._formState),f=Ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Qf(()=>n._subscribe({name:l,formState:f.current,exact:c,callback:p=>{!i&&h({...n._formState,...p})}}),[l,i,c]),Ue.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),Ue.useMemo(()=>Wj(u,n,f.current,!1),[u,n])}var aa=e=>typeof e=="string",Qj=(e,t,n,i,l)=>aa(e)?(i&&t.watch.add(e),be(n,e,l)):Array.isArray(e)?e.map(c=>(i&&t.watch.add(c),be(n,c))):(i&&(t.watchAll=!0),n),Ym=e=>Zt(e)||!Gj(e);function Ta(e,t,n=new WeakSet){if(Ym(e)||Ym(t))return e===t;if(Hn(e)&&Hn(t))return e.getTime()===t.getTime();const i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const c of i){const u=e[c];if(!l.includes(c))return!1;if(c!=="ref"){const h=t[c];if(Hn(u)&&Hn(h)||yt(u)&&yt(h)||Array.isArray(u)&&Array.isArray(h)?!Ta(u,h,n):u!==h)return!1}}return!0}function f5(e){const t=Wf(),{control:n=t.control,name:i,defaultValue:l,disabled:c,exact:u,compute:h}=e||{},f=Ue.useRef(l),p=Ue.useRef(h),g=Ue.useRef(void 0);p.current=h;const y=Ue.useMemo(()=>n._getWatch(i,f.current),[n,i]),[b,w]=Ue.useState(p.current?p.current(y):y);return Qf(()=>n._subscribe({name:i,formState:{values:!0},exact:u,callback:_=>{if(!c){const T=Qj(i,n._names,_.values||n._formValues,!1,f.current);if(p.current){const N=p.current(T);Ta(N,g.current)||(w(N),g.current=N)}else w(T)}}}),[n,c,i,u]),Ue.useEffect(()=>n._removeUnmounted()),b}function p5(e){const t=Wf(),{name:n,disabled:i,control:l=t.control,shouldUnregister:c,defaultValue:u}=e,h=Xj(l._names.array,n),f=Ue.useMemo(()=>be(l._formValues,n,be(l._defaultValues,n,u)),[l,n,u]),p=f5({control:l,name:n,defaultValue:f,exact:!0}),g=m5({control:l,name:n,exact:!0}),y=Ue.useRef(e),b=Ue.useRef(l.register(n,{...e.rules,value:p,...bs(e.disabled)?{disabled:e.disabled}:{}}));y.current=e;const w=Ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(g.errors,n)},isDirty:{enumerable:!0,get:()=>!!be(g.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!be(g.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!be(g.validatingFields,n)},error:{enumerable:!0,get:()=>be(g.errors,n)}}),[g,n]),_=Ue.useCallback(S=>b.current.onChange({target:{value:Yj(S),name:n},type:Wc.CHANGE}),[n]),T=Ue.useCallback(()=>b.current.onBlur({target:{value:be(l._formValues,n),name:n},type:Wc.BLUR}),[n,l._formValues]),N=Ue.useCallback(S=>{const A=be(l._fields,n);A&&S&&(A._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:k=>S.setCustomValidity(k),reportValidity:()=>S.reportValidity()})},[l._fields,n]),D=Ue.useMemo(()=>({name:n,value:p,...bs(i)||g.disabled?{disabled:g.disabled||i}:{},onChange:_,onBlur:T,ref:N}),[n,i,g.disabled,_,T,N,p]);return Ue.useEffect(()=>{const S=l._options.shouldUnregister||c;l.register(n,{...y.current.rules,...bs(y.current.disabled)?{disabled:y.current.disabled}:{}});const A=(k,j)=>{const M=be(l._fields,k);M&&M._f&&(M._f.mount=j)};if(A(n,!0),S){const k=At(be(l._options.defaultValues,n));st(l._defaultValues,n,k),xt(be(l._formValues,n))&&st(l._formValues,n,k)}return!h&&l.register(n),()=>{(h?S&&!l._state.action:S)?l.unregister(n):A(n,!1)}},[n,l,h,c]),Ue.useEffect(()=>{l._setDisabledField({disabled:i,name:n})},[i,n,l]),Ue.useMemo(()=>({field:D,formState:g,fieldState:w}),[D,g,w])}const Yn=e=>e.render(p5(e));var g5=(e,t,n,i,l)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:l||!0}}:{},zo=e=>Array.isArray(e)?e:[e],tv=()=>{let e=[];return{get observers(){return e},next:l=>{for(const c of e)c.next&&c.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(c=>c!==l)}}),unsubscribe:()=>{e=[]}}},os=e=>yt(e)&&!Object.keys(e).length,Zf=e=>e.type==="file",qs=e=>typeof e=="function",Qc=e=>{if(!Yf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Zj=e=>e.type==="select-multiple",Jf=e=>e.type==="radio",x5=e=>Jf(e)||il(e),rm=e=>Qc(e)&&e.isConnected;function y5(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=xt(e)?i++:e[t[i++]];return e}function b5(e){for(const t in e)if(e.hasOwnProperty(t)&&!xt(e[t]))return!1;return!0}function jt(e,t){const n=Array.isArray(t)?t:hd(t)?[t]:Kf(t),i=n.length===1?e:y5(e,n),l=n.length-1,c=n[l];return i&&delete i[c],l!==0&&(yt(i)&&os(i)||Array.isArray(i)&&b5(i))&&jt(e,n.slice(0,-1)),e}var Jj=e=>{for(const t in e)if(qs(e[t]))return!0;return!1};function Zc(e,t={}){const n=Array.isArray(e);if(yt(e)||n)for(const i in e)Array.isArray(e[i])||yt(e[i])&&!Jj(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Zc(e[i],t[i])):Zt(e[i])||(t[i]=!0);return t}function e1(e,t,n){const i=Array.isArray(e);if(yt(e)||i)for(const l in e)Array.isArray(e[l])||yt(e[l])&&!Jj(e[l])?xt(t)||Ym(n[l])?n[l]=Array.isArray(e[l])?Zc(e[l],[]):{...Zc(e[l])}:e1(e[l],Zt(t)?{}:t[l],n[l]):n[l]=!Ta(e[l],t[l]);return n}var No=(e,t)=>e1(e,t,Zc(t));const sv={value:!1,isValid:!1},av={value:!0,isValid:!0};var t1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!xt(e[0].attributes.value)?xt(e[0].value)||e[0].value===""?av:{value:e[0].value,isValid:!0}:av:sv}return sv},s1=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>xt(e)?e:t?e===""?NaN:e&&+e:n&&aa(e)?new Date(e):i?i(e):e;const nv={isValid:!1,value:null};var a1=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,nv):nv;function rv(e){const t=e.ref;return Zf(t)?t.files:Jf(t)?a1(e.refs).value:Zj(t)?[...t.selectedOptions].map(({value:n})=>n):il(t)?t1(e.refs).value:s1(xt(t.value)?e.ref.value:t.value,e)}var v5=(e,t,n,i)=>{const l={};for(const c of e){const u=be(t,c);u&&st(l,c,u._f)}return{criteriaMode:n,names:[...e],fields:l,shouldUseNativeValidation:i}},Jc=e=>e instanceof RegExp,So=e=>xt(e)?e:Jc(e)?e.source:yt(e)?Jc(e.value)?e.value.source:e.value:e,iv=e=>({isOnSubmit:!e||e===Us.onSubmit,isOnBlur:e===Us.onBlur,isOnChange:e===Us.onChange,isOnAll:e===Us.all,isOnTouch:e===Us.onTouched});const ov="AsyncFunction";var w5=e=>!!e&&!!e.validate&&!!(qs(e.validate)&&e.validate.constructor.name===ov||yt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ov)),j5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lv=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Lo=(e,t,n,i)=>{for(const l of n||Object.keys(e)){const c=be(e,l);if(c){const{_f:u,...h}=c;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],l)&&!i)return!0;if(u.ref&&t(u.ref,u.name)&&!i)return!0;if(Lo(h,t))break}else if(yt(h)&&Lo(h,t))break}}};function cv(e,t,n){const i=be(e,n);if(i||hd(n))return{error:i,name:n};const l=n.split(".");for(;l.length;){const c=l.join("."),u=be(t,c),h=be(e,c);if(u&&!Array.isArray(u)&&n!==c)return{name:n};if(h&&h.type)return{name:c,error:h};if(h&&h.root&&h.root.type)return{name:`${c}.root`,error:h.root};l.pop()}return{name:n}}var _5=(e,t,n,i)=>{n(e);const{name:l,...c}=e;return os(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(u=>t[u]===(!i||Us.all))},N5=(e,t,n)=>!e||!t||e===t||zo(e).some(i=>i&&(n?i===t:i.startsWith(t)||t.startsWith(i))),S5=(e,t,n,i,l)=>l.isOnAll?!1:!n&&l.isOnTouch?!(t||e):(n?i.isOnBlur:l.isOnBlur)?!e:(n?i.isOnChange:l.isOnChange)?e:!0,T5=(e,t)=>!Xf(be(e,t)).length&&jt(e,t),C5=(e,t,n)=>{const i=zo(be(e,n));return st(i,"root",t[n]),st(e,n,i),e},Rc=e=>aa(e);function dv(e,t,n="validate"){if(Rc(e)||Array.isArray(e)&&e.every(Rc)||bs(e)&&!e)return{type:n,message:Rc(e)?e:"",ref:t}}var Wr=e=>yt(e)&&!Jc(e)?e:{value:e,message:""},uv=async(e,t,n,i,l,c)=>{const{ref:u,refs:h,required:f,maxLength:p,minLength:g,min:y,max:b,pattern:w,validate:_,name:T,valueAsNumber:N,mount:D}=e._f,S=be(n,T);if(!D||t.has(T))return{};const A=h?h[0]:u,k=Q=>{l&&A.reportValidity&&(A.setCustomValidity(bs(Q)?"":Q||""),A.reportValidity())},j={},M=Jf(u),L=il(u),$=M||L,I=(N||Zf(u))&&xt(u.value)&&xt(S)||Qc(u)&&u.value===""||S===""||Array.isArray(S)&&!S.length,V=g5.bind(null,T,i,j),J=(Q,B,Y,K=_a.maxLength,z=_a.minLength)=>{const R=Q?B:Y;j[T]={type:Q?K:z,message:R,ref:u,...V(Q?K:z,R)}};if(c?!Array.isArray(S)||!S.length:f&&(!$&&(I||Zt(S))||bs(S)&&!S||L&&!t1(h).isValid||M&&!a1(h).isValid)){const{value:Q,message:B}=Rc(f)?{value:!!f,message:f}:Wr(f);if(Q&&(j[T]={type:_a.required,message:B,ref:A,...V(_a.required,B)},!i))return k(B),j}if(!I&&(!Zt(y)||!Zt(b))){let Q,B;const Y=Wr(b),K=Wr(y);if(!Zt(S)&&!isNaN(S)){const z=u.valueAsNumber||S&&+S;Zt(Y.value)||(Q=z>Y.value),Zt(K.value)||(B=z<K.value)}else{const z=u.valueAsDate||new Date(S),R=E=>new Date(new Date().toDateString()+" "+E),q=u.type=="time",ne=u.type=="week";aa(Y.value)&&S&&(Q=q?R(S)>R(Y.value):ne?S>Y.value:z>new Date(Y.value)),aa(K.value)&&S&&(B=q?R(S)<R(K.value):ne?S<K.value:z<new Date(K.value))}if((Q||B)&&(J(!!Q,Y.message,K.message,_a.max,_a.min),!i))return k(j[T].message),j}if((p||g)&&!I&&(aa(S)||c&&Array.isArray(S))){const Q=Wr(p),B=Wr(g),Y=!Zt(Q.value)&&S.length>+Q.value,K=!Zt(B.value)&&S.length<+B.value;if((Y||K)&&(J(Y,Q.message,B.message),!i))return k(j[T].message),j}if(w&&!I&&aa(S)){const{value:Q,message:B}=Wr(w);if(Jc(Q)&&!S.match(Q)&&(j[T]={type:_a.pattern,message:B,ref:u,...V(_a.pattern,B)},!i))return k(B),j}if(_){if(qs(_)){const Q=await _(S,n),B=dv(Q,A);if(B&&(j[T]={...B,...V(_a.validate,B.message)},!i))return k(B.message),j}else if(yt(_)){let Q={};for(const B in _){if(!os(Q)&&!i)break;const Y=dv(await _[B](S,n),A,B);Y&&(Q={...Y,...V(B,Y.message)},k(Y.message),i&&(j[T]=Q))}if(!os(Q)&&(j[T]={ref:A,...Q},!i))return j}}return k(!0),j};const E5={mode:Us.onSubmit,reValidateMode:Us.onChange,shouldFocusError:!0};function A5(e={}){let t={...E5,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:qs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},l=yt(t.defaultValues)||yt(t.values)?At(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:At(l),u={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...g};const b={array:tv(),state:tv()},w=t.criteriaMode===Us.all,_=H=>te=>{clearTimeout(p),p=setTimeout(H,te)},T=async H=>{if(!t.disabled&&(g.isValid||y.isValid||H)){const te=t.resolver?os((await L()).errors):await I(i,!0);te!==n.isValid&&b.state.next({isValid:te})}},N=(H,te)=>{!t.disabled&&(g.isValidating||g.validatingFields||y.isValidating||y.validatingFields)&&((H||Array.from(h.mount)).forEach(X=>{X&&(te?st(n.validatingFields,X,te):jt(n.validatingFields,X))}),b.state.next({validatingFields:n.validatingFields,isValidating:!os(n.validatingFields)}))},D=(H,te=[],X,pe,xe=!0,ge=!0)=>{if(pe&&X&&!t.disabled){if(u.action=!0,ge&&Array.isArray(be(i,H))){const je=X(be(i,H),pe.argA,pe.argB);xe&&st(i,H,je)}if(ge&&Array.isArray(be(n.errors,H))){const je=X(be(n.errors,H),pe.argA,pe.argB);xe&&st(n.errors,H,je),T5(n.errors,H)}if((g.touchedFields||y.touchedFields)&&ge&&Array.isArray(be(n.touchedFields,H))){const je=X(be(n.touchedFields,H),pe.argA,pe.argB);xe&&st(n.touchedFields,H,je)}(g.dirtyFields||y.dirtyFields)&&(n.dirtyFields=No(l,c)),b.state.next({name:H,isDirty:J(H,te),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else st(c,H,te)},S=(H,te)=>{st(n.errors,H,te),b.state.next({errors:n.errors})},A=H=>{n.errors=H,b.state.next({errors:n.errors,isValid:!1})},k=(H,te,X,pe)=>{const xe=be(i,H);if(xe){const ge=be(c,H,xt(X)?be(l,H):X);xt(ge)||pe&&pe.defaultChecked||te?st(c,H,te?ge:rv(xe._f)):Y(H,ge),u.mount&&T()}},j=(H,te,X,pe,xe)=>{let ge=!1,je=!1;const Ae={name:H};if(!t.disabled){if(!X||pe){(g.isDirty||y.isDirty)&&(je=n.isDirty,n.isDirty=Ae.isDirty=J(),ge=je!==Ae.isDirty);const ze=Ta(be(l,H),te);je=!!be(n.dirtyFields,H),ze?jt(n.dirtyFields,H):st(n.dirtyFields,H,!0),Ae.dirtyFields=n.dirtyFields,ge=ge||(g.dirtyFields||y.dirtyFields)&&je!==!ze}if(X){const ze=be(n.touchedFields,H);ze||(st(n.touchedFields,H,X),Ae.touchedFields=n.touchedFields,ge=ge||(g.touchedFields||y.touchedFields)&&ze!==X)}ge&&xe&&b.state.next(Ae)}return ge?Ae:{}},M=(H,te,X,pe)=>{const xe=be(n.errors,H),ge=(g.isValid||y.isValid)&&bs(te)&&n.isValid!==te;if(t.delayError&&X?(f=_(()=>S(H,X)),f(t.delayError)):(clearTimeout(p),f=null,X?st(n.errors,H,X):jt(n.errors,H)),(X?!Ta(xe,X):xe)||!os(pe)||ge){const je={...pe,...ge&&bs(te)?{isValid:te}:{},errors:n.errors,name:H};n={...n,...je},b.state.next(je)}},L=async H=>{N(H,!0);const te=await t.resolver(c,t.context,v5(H||h.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return N(H),te},$=async H=>{const{errors:te}=await L(H);if(H)for(const X of H){const pe=be(te,X);pe?st(n.errors,X,pe):jt(n.errors,X)}else n.errors=te;return te},I=async(H,te,X={valid:!0})=>{for(const pe in H){const xe=H[pe];if(xe){const{_f:ge,...je}=xe;if(ge){const Ae=h.array.has(ge.name),ze=xe._f&&w5(xe._f);ze&&g.validatingFields&&N([pe],!0);const re=await uv(xe,h.disabled,c,w,t.shouldUseNativeValidation&&!te,Ae);if(ze&&g.validatingFields&&N([pe]),re[ge.name]&&(X.valid=!1,te))break;!te&&(be(re,ge.name)?Ae?C5(n.errors,re,ge.name):st(n.errors,ge.name,re[ge.name]):jt(n.errors,ge.name))}!os(je)&&await I(je,te,X)}}return X.valid},V=()=>{for(const H of h.unMount){const te=be(i,H);te&&(te._f.refs?te._f.refs.every(X=>!rm(X)):!rm(te._f.ref))&&oe(H)}h.unMount=new Set},J=(H,te)=>!t.disabled&&(H&&te&&st(c,H,te),!Ta(E(),l)),Q=(H,te,X)=>Qj(H,h,{...u.mount?c:xt(te)?l:aa(H)?{[H]:te}:te},X,te),B=H=>Xf(be(u.mount?c:l,H,t.shouldUnregister?be(l,H,[]):[])),Y=(H,te,X={})=>{const pe=be(i,H);let xe=te;if(pe){const ge=pe._f;ge&&(!ge.disabled&&st(c,H,s1(te,ge)),xe=Qc(ge.ref)&&Zt(te)?"":te,Zj(ge.ref)?[...ge.ref.options].forEach(je=>je.selected=xe.includes(je.value)):ge.refs?il(ge.ref)?ge.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(xe)?je.checked=!!xe.find(Ae=>Ae===je.value):je.checked=xe===je.value||!!xe)}):ge.refs.forEach(je=>je.checked=je.value===xe):Zf(ge.ref)?ge.ref.value="":(ge.ref.value=xe,ge.ref.type||b.state.next({name:H,values:At(c)})))}(X.shouldDirty||X.shouldTouch)&&j(H,xe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&ne(H)},K=(H,te,X)=>{for(const pe in te){if(!te.hasOwnProperty(pe))return;const xe=te[pe],ge=H+"."+pe,je=be(i,ge);(h.array.has(H)||yt(xe)||je&&!je._f)&&!Hn(xe)?K(ge,xe,X):Y(ge,xe,X)}},z=(H,te,X={})=>{const pe=be(i,H),xe=h.array.has(H),ge=At(te);st(c,H,ge),xe?(b.array.next({name:H,values:At(c)}),(g.isDirty||g.dirtyFields||y.isDirty||y.dirtyFields)&&X.shouldDirty&&b.state.next({name:H,dirtyFields:No(l,c),isDirty:J(H,ge)})):pe&&!pe._f&&!Zt(ge)?K(H,ge,X):Y(H,ge,X),lv(H,h)&&b.state.next({...n,name:H}),b.state.next({name:u.mount?H:void 0,values:At(c)})},R=async H=>{u.mount=!0;const te=H.target;let X=te.name,pe=!0;const xe=be(i,X),ge=ze=>{pe=Number.isNaN(ze)||Hn(ze)&&isNaN(ze.getTime())||Ta(ze,be(c,X,ze))},je=iv(t.mode),Ae=iv(t.reValidateMode);if(xe){let ze,re;const Oe=te.type?rv(xe._f):Yj(H),qe=H.type===Wc.BLUR||H.type===Wc.FOCUS_OUT,Kt=!j5(xe._f)&&!t.resolver&&!be(n.errors,X)&&!xe._f.deps||S5(qe,be(n.touchedFields,X),n.isSubmitted,Ae,je),Ft=lv(X,h,qe);st(c,X,Oe),qe?(!te||!te.readOnly)&&(xe._f.onBlur&&xe._f.onBlur(H),f&&f(0)):xe._f.onChange&&xe._f.onChange(H);const us=j(X,Oe,qe),ws=!os(us)||Ft;if(!qe&&b.state.next({name:X,type:H.type,values:At(c)}),Kt)return(g.isValid||y.isValid)&&(t.mode==="onBlur"?qe&&T():qe||T()),ws&&b.state.next({name:X,...Ft?{}:us});if(!qe&&Ft&&b.state.next({...n}),t.resolver){const{errors:Ys}=await L([X]);if(ge(Oe),pe){const Xs=cv(n.errors,i,X),xn=cv(Ys,i,Xs.name||X);ze=xn.error,X=xn.name,re=os(Ys)}}else N([X],!0),ze=(await uv(xe,h.disabled,c,w,t.shouldUseNativeValidation))[X],N([X]),ge(Oe),pe&&(ze?re=!1:(g.isValid||y.isValid)&&(re=await I(i,!0)));pe&&(xe._f.deps&&ne(xe._f.deps),M(X,re,ze,us))}},q=(H,te)=>{if(be(n.errors,te)&&H.focus)return H.focus(),1},ne=async(H,te={})=>{let X,pe;const xe=zo(H);if(t.resolver){const ge=await $(xt(H)?H:xe);X=os(ge),pe=H?!xe.some(je=>be(ge,je)):X}else H?(pe=(await Promise.all(xe.map(async ge=>{const je=be(i,ge);return await I(je&&je._f?{[ge]:je}:je)}))).every(Boolean),!(!pe&&!n.isValid)&&T()):pe=X=await I(i);return b.state.next({...!aa(H)||(g.isValid||y.isValid)&&X!==n.isValid?{}:{name:H},...t.resolver||!H?{isValid:X}:{},errors:n.errors}),te.shouldFocus&&!pe&&Lo(i,q,H?xe:h.mount),pe},E=H=>{const te={...u.mount?c:l};return xt(H)?te:aa(H)?be(te,H):H.map(X=>be(te,X))},F=(H,te)=>({invalid:!!be((te||n).errors,H),isDirty:!!be((te||n).dirtyFields,H),error:be((te||n).errors,H),isValidating:!!be(n.validatingFields,H),isTouched:!!be((te||n).touchedFields,H)}),P=H=>{H&&zo(H).forEach(te=>jt(n.errors,te)),b.state.next({errors:H?n.errors:{}})},Z=(H,te,X)=>{const pe=(be(i,H,{_f:{}})._f||{}).ref,xe=be(n.errors,H)||{},{ref:ge,message:je,type:Ae,...ze}=xe;st(n.errors,H,{...ze,...te,ref:pe}),b.state.next({name:H,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&pe&&pe.focus&&pe.focus()},ue=(H,te)=>qs(H)?b.state.subscribe({next:X=>"values"in X&&H(Q(void 0,te),X)}):Q(H,te,!0),ye=H=>b.state.subscribe({next:te=>{N5(H.name,te.name,H.exact)&&_5(te,H.formState||g,St,H.reRenderRoot)&&H.callback({values:{...c},...n,...te,defaultValues:l})}}).unsubscribe,fe=H=>(u.mount=!0,y={...y,...H.formState},ye({...H,formState:y})),oe=(H,te={})=>{for(const X of H?zo(H):h.mount)h.mount.delete(X),h.array.delete(X),te.keepValue||(jt(i,X),jt(c,X)),!te.keepError&&jt(n.errors,X),!te.keepDirty&&jt(n.dirtyFields,X),!te.keepTouched&&jt(n.touchedFields,X),!te.keepIsValidating&&jt(n.validatingFields,X),!t.shouldUnregister&&!te.keepDefaultValue&&jt(l,X);b.state.next({values:At(c)}),b.state.next({...n,...te.keepDirty?{isDirty:J()}:{}}),!te.keepIsValid&&T()},me=({disabled:H,name:te})=>{(bs(H)&&u.mount||H||h.disabled.has(te))&&(H?h.disabled.add(te):h.disabled.delete(te))},ke=(H,te={})=>{let X=be(i,H);const pe=bs(te.disabled)||bs(t.disabled);return st(i,H,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:H}},name:H,mount:!0,...te}}),h.mount.add(H),X?me({disabled:bs(te.disabled)?te.disabled:t.disabled,name:H}):k(H,!0,te.value),{...pe?{disabled:te.disabled||t.disabled}:{},...t.progressive?{required:!!te.required,min:So(te.min),max:So(te.max),minLength:So(te.minLength),maxLength:So(te.maxLength),pattern:So(te.pattern)}:{},name:H,onChange:R,onBlur:R,ref:xe=>{if(xe){ke(H,te),X=be(i,H);const ge=xt(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,je=x5(ge),Ae=X._f.refs||[];if(je?Ae.find(ze=>ze===ge):ge===X._f.ref)return;st(i,H,{_f:{...X._f,...je?{refs:[...Ae.filter(rm),ge,...Array.isArray(be(l,H))?[{}]:[]],ref:{type:ge.type,name:H}}:{ref:ge}}}),k(H,!1,void 0,ge)}else X=be(i,H,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(Xj(h.array,H)&&u.action)&&h.unMount.add(H)}}},Ge=()=>t.shouldFocusError&&Lo(i,q,h.mount),ct=H=>{bs(H)&&(b.state.next({disabled:H}),Lo(i,(te,X)=>{const pe=be(i,X);pe&&(te.disabled=pe._f.disabled||H,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(xe=>{xe.disabled=pe._f.disabled||H}))},0,!1))},bt=(H,te)=>async X=>{let pe;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let xe=At(c);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:je}=await L();n.errors=ge,xe=At(je)}else await I(i);if(h.disabled.size)for(const ge of h.disabled)jt(xe,ge);if(jt(n.errors,"root"),os(n.errors)){b.state.next({errors:{}});try{await H(xe,X)}catch(ge){pe=ge}}else te&&await te({...n.errors},X),Ge(),setTimeout(Ge);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:os(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},Lt=(H,te={})=>{be(i,H)&&(xt(te.defaultValue)?z(H,At(be(l,H))):(z(H,te.defaultValue),st(l,H,At(te.defaultValue))),te.keepTouched||jt(n.touchedFields,H),te.keepDirty||(jt(n.dirtyFields,H),n.isDirty=te.defaultValue?J(H,At(be(l,H))):J()),te.keepError||(jt(n.errors,H),g.isValid&&T()),b.state.next({...n}))},ds=(H,te={})=>{const X=H?At(H):l,pe=At(X),xe=os(H),ge=xe?l:pe;if(te.keepDefaultValues||(l=X),!te.keepValues){if(te.keepDirtyValues){const je=new Set([...h.mount,...Object.keys(No(l,c))]);for(const Ae of Array.from(je))be(n.dirtyFields,Ae)?st(ge,Ae,be(c,Ae)):z(Ae,be(ge,Ae))}else{if(Yf&&xt(H))for(const je of h.mount){const Ae=be(i,je);if(Ae&&Ae._f){const ze=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(Qc(ze)){const re=ze.closest("form");if(re){re.reset();break}}}}if(te.keepFieldsRef)for(const je of h.mount)z(je,be(ge,je));else i={}}c=t.shouldUnregister?te.keepDefaultValues?At(l):{}:At(ge),b.array.next({values:{...ge}}),b.state.next({values:{...ge}})}h={mount:te.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!te.keepIsValid||!!te.keepDirtyValues,u.watch=!!t.shouldUnregister,b.state.next({submitCount:te.keepSubmitCount?n.submitCount:0,isDirty:xe?!1:te.keepDirty?n.isDirty:!!(te.keepDefaultValues&&!Ta(H,l)),isSubmitted:te.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:xe?{}:te.keepDirtyValues?te.keepDefaultValues&&c?No(l,c):n.dirtyFields:te.keepDefaultValues&&H?No(l,H):te.keepDirty?n.dirtyFields:{},touchedFields:te.keepTouched?n.touchedFields:{},errors:te.keepErrors?n.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},Oa=(H,te)=>ds(qs(H)?H(c):H,te),gn=(H,te={})=>{const X=be(i,H),pe=X&&X._f;if(pe){const xe=pe.refs?pe.refs[0]:pe.ref;xe.focus&&(xe.focus(),te.shouldSelect&&qs(xe.select)&&xe.select())}},St=H=>{n={...n,...H}},Rs={control:{register:ke,unregister:oe,getFieldState:F,handleSubmit:bt,setError:Z,_subscribe:ye,_runSchema:L,_focusError:Ge,_getWatch:Q,_getDirty:J,_setValid:T,_setFieldArray:D,_setDisabledField:me,_setErrors:A,_getFieldArray:B,_reset:ds,_resetDefaultValues:()=>qs(t.defaultValues)&&t.defaultValues().then(H=>{Oa(H,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:ct,_subjects:b,_proxyFormState:g,get _fields(){return i},get _formValues(){return c},get _state(){return u},set _state(H){u=H},get _defaultValues(){return l},get _names(){return h},set _names(H){h=H},get _formState(){return n},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:fe,trigger:ne,register:ke,handleSubmit:bt,watch:ue,setValue:z,getValues:E,reset:Oa,resetField:Lt,clearErrors:P,unregister:oe,setError:Z,setFocus:gn,getFieldState:F};return{...Rs,formControl:Rs}}function e0(e={}){const t=Ue.useRef(void 0),n=Ue.useRef(void 0),[i,l]=Ue.useState({isDirty:!1,isValidating:!1,isLoading:qs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:qs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!qs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...h}=A5(e);t.current={...h,formState:i}}const c=t.current.control;return c._options=e,Qf(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>l({...c._formState}),reRenderRoot:!0});return l(h=>({...h,isReady:!0})),c._formState.isReady=!0,u},[c]),Ue.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),Ue.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),Ue.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),Ue.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),Ue.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==i.isDirty&&c._subjects.state.next({isDirty:u})}},[c,i.isDirty]),Ue.useEffect(()=>{e.values&&!Ta(e.values,n.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),n.current=e.values,l(u=>({...u}))):c._resetDefaultValues()},[c,e.values]),Ue.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=Wj(i,c),t.current}const k5=({isOpen:e,onClose:t,item:n})=>{const{addMenuItem:i,updateMenuItem:l}=mt(),{register:c,handleSubmit:u,control:h,reset:f,formState:{errors:p}}=e0(),[g,y]=v.useState(!1);v.useEffect(()=>{f(n?{name:n.name,description:n.description||"",price:n.price,category:n.category,preparationTime:n.preparation_time||0,available:n.available,image_url:n.image_url||""}:{name:"",description:"",price:"",category:"food",preparationTime:"",available:!0,image_url:""})},[n,f]);const b=async _=>{console.log("=== INCIO DO SUBMIT ==="),console.log("Dados recebidos do formulrio:",_),y(!0);try{const T={..._,description:_.description||"",preparationTime:_.preparationTime||void 0};console.log("Dados processados para envio:",T),n?(console.log("Modo: Edio de item existente"),await l({...n,...T})):(console.log("Modo: Criao de novo item"),await i(T)),console.log("Item salvo com sucesso!"),n||f({name:"",description:"",price:"",category:"food",preparationTime:"",available:!0,image_url:""}),t()}catch(T){console.error("=== ERRO DETALHADO ==="),console.error("Tipo do erro:",typeof T),console.error("Erro completo:",T),console.error("Stack trace:",T instanceof Error?T.stack:"N/A"),T&&typeof T=="object"&&"message"in T&&console.error("Mensagem do erro:",T.message),alert(`Erro ao salvar o prato: ${T instanceof Error?T.message:"Erro desconhecido"}`)}finally{y(!1),console.log("=== FIM DO SUBMIT ===")}},w=[{value:"food",label:"Pratos Principais"},{value:"snacks",label:"Petiscos"},{value:"drinks",label:"Bebidas"}];return a.jsx(Zn,{children:e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50 rounded-t-xl",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n?"Editar Prato":"Novo Prato"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n?"Atualize as informaes do prato":"Adicione um novo prato ao cardpio"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-200 p-2 rounded-lg transition-colors duration-200",disabled:g,title:"Fechar modal","aria-label":"Fechar modal",children:a.jsx(at,{size:24})})]}),a.jsxs("form",{onSubmit:u(b),className:"p-6 space-y-6",children:[a.jsx(Qr,{label:"Nome do Prato",error:p.name,children:a.jsx("input",{...c("name",{required:"Nome  obrigatrio"}),className:"form-input",placeholder:"Digite o nome do prato",disabled:g})}),a.jsx(Qr,{label:"Descrio",error:p.description,children:a.jsx("textarea",{...c("description"),className:"form-input min-h-[80px] resize-none",placeholder:"Descreva o prato...",disabled:g})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Qr,{label:"Categoria",error:p.category,children:a.jsx(Yn,{name:"category",control:h,rules:{required:"Categoria  obrigatria"},render:({field:_})=>a.jsx("select",{..._,className:"form-select",disabled:g,children:w.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))})})}),a.jsx(Qr,{label:"Preo (R$)",error:p.price,children:a.jsx("input",{type:"number",step:"0.01",...c("price",{required:"Preo  obrigatrio",valueAsNumber:!0,min:{value:.01,message:"Valor deve ser maior que 0"}}),className:"form-input",placeholder:"Digite o preo",disabled:g})})]}),a.jsxs(Qr,{label:"URL da Imagem (opcional)",error:p.image_url,children:[a.jsx("input",{...c("image_url"),className:"form-input",placeholder:"https://exemplo.com/imagem.jpg",disabled:g}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cole aqui o link da imagem do prato. Recomendamos imagens com proporo 1:1 (quadrada)."})]}),a.jsx(Qr,{label:"Tempo de Preparo (min)",error:p.preparationTime,children:a.jsx("input",{type:"number",...c("preparationTime",{setValueAs:_=>_===""||_===null?void 0:Number(_),min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"Digite o tempo em minutos",disabled:g})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Yn,{name:"available",control:h,render:({field:_})=>a.jsx("input",{type:"checkbox",onChange:_.onChange,onBlur:_.onBlur,name:_.name,ref:_.ref,checked:_.value,className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2",disabled:g,title:"Marcar como disponvel","aria-label":"Marcar prato como disponvel para pedidos"})}),a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prato disponvel para pedidos"})]}),a.jsxs("div",{className:"pt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:g,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center justify-center space-x-2",disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Salvando..."})]}):a.jsx("span",{children:n?"Salvar Alteraes":"Adicionar Prato"})})]})]})]})})})},Qr=({label:e,children:t,error:n})=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:e}),t,n&&a.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})}),a.jsx("span",{children:n.message})]})]}),M5=({menuItems:e})=>{const{removeMenuItem:t}=mt(),[n,i]=v.useState(""),[l,c]=v.useState(!1),[u,h]=v.useState(null),f=e.filter(w=>{const _=w.name.toLowerCase().includes(n.toLowerCase()),T=w.item_type!=="direct";return _&&T}),p=()=>{h(null),c(!0)},g=w=>{h(w),c(!0)},y=()=>{c(!1),h(null)},b=async w=>{window.confirm(`Tem certeza que deseja remover "${w.name}" do cardpio?`)&&await t(w.id)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Gesto de Cardpio"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Gerencie apenas pratos que precisam de preparo na cozinha.",a.jsx("br",{}),a.jsx("span",{className:"text-blue-600 font-medium",children:'Produtos prontos do estoque aparecem automaticamente no balco quando marcados como "Disponvel para venda" no mdulo Estoque.'})]})]}),a.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Novo Prato"})]})})]}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6",children:a.jsx("input",{type:"text",placeholder:"Buscar pratos...",value:n,onChange:w=>i(w.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(w=>a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[w.image_url&&a.jsx("div",{className:"aspect-video w-full bg-gray-100 overflow-hidden",children:a.jsx("img",{src:w.image_url,alt:w.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:_=>{_.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:w.name}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>g(w),className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Editar prato","aria-label":"Editar prato",children:a.jsx(rl,{size:16})}),a.jsx("button",{onClick:()=>b(w),className:"text-gray-400 hover:text-red-600 transition-colors",title:"Excluir prato","aria-label":"Excluir prato",children:a.jsx(dd,{size:16})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:w.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[a.jsx(zt,{size:14}),a.jsxs("span",{children:[w.preparation_time||0,"min"]})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[a.jsx(es,{size:14}),a.jsxs("span",{className:"font-semibold",children:["R$ ",w.price.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.available?"Disponvel":"Indisponvel"}),a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:w.category==="Prato Principal"?"Prato Principal":w.category==="Petiscos"?"Petiscos":"Bebidas"})]})]})]},w.id))}),f.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Nenhum prato encontrado"})}),a.jsx(k5,{isOpen:l,onClose:y,item:u})]})},O5=({orders:e,menuItems:t})=>{const{updateOrderStatus:n}=mt(),[i,l]=v.useState(new Set),[c,u]=v.useState("all"),f=(()=>{const S=new Map;return e.forEach(A=>{const k=A.tableNumber||"Balco";S.has(k)||S.set(k,[]),S.get(k).push(A)}),S})(),p=S=>S.items.reduce((A,k)=>{const j=t.find(L=>L.id===k.menuItemId)||k.menuItem,M=(j==null?void 0:j.preparation_time)||(j==null?void 0:j.preparationTime)||0;return A+M},0),g=S=>{const A=(new Date().getTime()-S.createdAt.getTime())/6e4;return A>20?"high":A>10?"medium":"low"},y=S=>{switch(S){case"high":return"border-red-400 bg-red-50";case"medium":return"border-yellow-400 bg-yellow-50";case"low":return"border-green-400 bg-green-50";default:return"border-gray-200 bg-white"}},b=S=>S.id.slice(-4).toUpperCase(),w=S=>S.id.startsWith("balcao-"),_=S=>S.id.startsWith("comanda-"),T=async(S,A)=>{l(k=>new Set([...k,S]));try{await n(S,A),console.log(` Status do pedido ${S} atualizado para ${A}`)}catch(k){console.error("Erro ao atualizar status:",k)}finally{setTimeout(()=>{l(k=>{const j=new Set(k);return j.delete(S),j})},1e3)}},N=S=>(f.get(S)||[]).length>1,D=e.filter(S=>c==="all"?!0:(S.tableNumber||"Balco")===c);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Pedidos da Cozinha"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[Array.from(f.entries()).filter(([S,A])=>A.length>1).length>0&&a.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[Array.from(f.entries()).filter(([S,A])=>A.length>1).length," mesa(s) com mltiplos pedidos"]}),c!=="all"&&a.jsxs("button",{onClick:()=>u("all"),className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[a.jsxs("span",{children:["Filtro: ",c]}),a.jsx("span",{className:"text-blue-600",children:""})]})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[D.length," de ",e.length," pedidos"]})]}),Array.from(f.entries()).filter(([S,A])=>A.length>1).length>0&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(f.entries()).filter(([S,A])=>A.length>1).map(([S,A])=>a.jsxs("button",{onClick:()=>u(S),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors hover:shadow-md transform hover:scale-105 ${c===S?"bg-orange-400 text-white":"bg-orange-200 text-orange-800 hover:bg-orange-300"}`,title:`Filtrar pedidos da ${S}`,children:["Mesa ",S,": ",A.length," pedidos"]},S))})]}),D.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:c!=="all"?`Nenhum pedido encontrado para ${c}`:"Nenhum pedido pendente na cozinha"})}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:D.map(S=>{const A=g(S),k=p(S),j=S.items.filter(L=>{const $=t.find(I=>I.id===L.menuItemId)||L.menuItem;return $&&$.item_type!=="direct"}),M=N(S.tableNumber||"Balco");return a.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`border-2 rounded-lg p-4 ${y(A)} ${M?"ring-2 ring-orange-300 ring-offset-2":""} ${w(S)?"border-green-400 bg-green-50 shadow-lg":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cd,{size:16,className:"text-gray-500"}),a.jsxs("span",{className:"font-bold text-lg",children:["Mesa ",S.tableNumber||"N/A"]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",b(S)]}),w(S)&&a.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:" PAGO"}),_(S)&&a.jsx("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"AGUARDA PAGTO"})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[a.jsx(zt,{size:14}),a.jsx("span",{children:qt(S.createdAt,"HH:mm",{locale:ts})})]})]}),a.jsx("div",{className:"space-y-2 mb-4",children:j.map(L=>{const $=t.find(I=>I.id===L.menuItemId)||L.menuItem;return a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[L.quantity,"x ",($==null?void 0:$.name)||"Item no encontrado"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[($==null?void 0:$.preparation_time)||($==null?void 0:$.preparationTime)||0,"min"]})]},L.id)})}),S.notes&&a.jsx("div",{className:"mb-4 p-2 bg-yellow-100 rounded border",children:a.jsx("p",{className:"text-sm text-yellow-800",children:S.notes})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Tempo estimado: ",k,"min"]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${A==="high"?"bg-red-200 text-red-800":A==="medium"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:A==="high"?"Urgente":A==="medium"?"Mdio":"Normal"})]}),a.jsxs("div",{className:"space-y-2",children:[S.status==="pending"&&a.jsx("button",{onClick:()=>T(S.id,"preparing"),disabled:i.has(S.id),className:`w-full py-2 rounded-lg font-medium transition-all duration-300 ${i.has(S.id)?"bg-blue-300 text-blue-700 cursor-not-allowed animate-pulse scale-95":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg transform hover:scale-105 active:scale-95"}`,children:i.has(S.id)?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-blue-700 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Iniciando..."})]}):"Iniciar Preparo"}),S.status==="preparing"&&a.jsx("button",{onClick:()=>T(S.id,"ready"),disabled:i.has(S.id),className:`w-full py-2 rounded-lg font-medium transition-all duration-300 ${i.has(S.id)?"bg-green-300 text-green-700 cursor-not-allowed animate-pulse scale-95":"bg-green-600 text-white hover:bg-green-700 hover:shadow-lg transform hover:scale-105 active:scale-95"}`,children:i.has(S.id)?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-green-700 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Finalizando..."})]}):"Marcar como Pronto"}),S.status==="ready"&&a.jsx("div",{className:"w-full py-2 rounded-lg font-medium bg-green-100 text-green-800 border-2 border-green-300 text-center animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsx("span",{children:"Pronto para Entrega"})]})})]})]},S.id)})})]})},D5=()=>{const{kitchenOrders:e,menuItems:t}=mt(),[n,i]=v.useState("orders"),l=e.filter(h=>h.status==="pending"||h.status==="preparing"),c=t.filter(h=>h.item_type!=="direct"),u=c.filter(h=>h.preparationTime).reduce((h,f)=>h+(f.preparationTime||0),0)/c.filter(h=>h.preparationTime).length||0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Cozinha"}),a.jsx("p",{className:"text-gray-600",children:"Gesto completa da cozinha e cardpio"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>i("orders"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="orders"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Pedidos"}),a.jsx("button",{onClick:()=>i("menu"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="menu"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cardpio"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Pedidos Pendentes"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:l.length})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:a.jsx(zt,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Tempo Mdio"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[u.toFixed(0),"min"]})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:a.jsx(zt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Pratos Disponveis"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:c.filter(h=>h.available).length})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx(hA,{className:"w-6 h-6 text-green-600"})})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md",children:n==="orders"?a.jsx(O5,{orders:l,menuItems:c}):a.jsx(M5,{menuItems:c})})]})},R5=({isOpen:e,onClose:t,item:n})=>{const{addInventoryItem:i,updateInventoryItem:l,inventoryCategories:c}=mt(),{register:u,handleSubmit:h,control:f,reset:p,formState:{errors:g}}=e0(),[y,b]=v.useState(!1);v.useEffect(()=>{p(n?{name:n.name,categoryId:n.categoryId,currentStock:n.currentStock,minStock:n.minStock,unit:n.unit,cost:n.cost,supplier:n.supplier,availableForSale:n.availableForSale,image_url:n.image_url}:{name:"",categoryId:"",currentStock:void 0,minStock:void 0,unit:"unidades",cost:void 0,supplier:"",availableForSale:!1,image_url:""})},[n,p]);const w=async T=>{b(!0);try{n?await l({...n,...T}):await i(T),t()}catch(N){console.error("Falha ao salvar o item:",N)}finally{b(!1)}},_=["unidades","kg","litros","garrafas"];return a.jsx(Zn,{children:e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50 rounded-t-xl",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n?"Editar Item":"Novo Item no Estoque"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n?"Atualize as informaes do item":"Adicione um novo item ao inventrio"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-200 p-2 rounded-lg transition-colors duration-200",disabled:y,children:a.jsx(at,{size:24})})]}),a.jsxs("form",{onSubmit:h(w),className:"p-6 space-y-6",children:[a.jsx(rn,{label:"Nome do Item",error:g.name,children:a.jsx("input",{...u("name",{required:"Nome  obrigatrio"}),className:"form-input",placeholder:"Digite o nome do item",disabled:y})}),a.jsx(rn,{label:"Categoria",error:g.categoryId,children:a.jsx(Yn,{name:"categoryId",control:f,rules:{required:"Categoria  obrigatria"},render:({field:T})=>a.jsxs("select",{...T,className:"form-select",disabled:y,children:[a.jsx("option",{value:"",children:"Selecione uma categoria"}),c.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(rn,{label:"Estoque Atual",error:g.currentStock,children:a.jsx("input",{type:"number",...u("currentStock",{required:"Estoque atual  obrigatrio",valueAsNumber:!0,min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"0",disabled:y})}),a.jsx(rn,{label:"Estoque Mnimo",error:g.minStock,children:a.jsx("input",{type:"number",...u("minStock",{required:"Estoque mnimo  obrigatrio",valueAsNumber:!0,min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"0",disabled:y})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(rn,{label:"Unidade",error:g.unit,children:a.jsx(Yn,{name:"unit",control:f,rules:{required:"Unidade  obrigatria"},render:({field:T})=>a.jsx("select",{...T,className:"form-select",disabled:y,children:_.map(N=>a.jsx("option",{value:N,children:N},N))})})}),a.jsx(rn,{label:"Custo por Unidade (R$)",error:g.cost,children:a.jsx("input",{type:"number",step:"0.01",...u("cost",{required:"Custo  obrigatrio",valueAsNumber:!0,min:{value:0,message:"Valor deve ser maior ou igual a 0"}}),className:"form-input",placeholder:"0,00",disabled:y})})]}),a.jsx(rn,{label:"Fornecedor (Opcional)",error:g.supplier,children:a.jsx("input",{...u("supplier"),className:"form-input",placeholder:"Nome do fornecedor",disabled:y})}),a.jsxs(rn,{label:"URL da Imagem (Opcional)",error:g.image_url,children:[a.jsx("input",{...u("image_url"),className:"form-input",placeholder:"https://exemplo.com/imagem.jpg",disabled:y}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cole aqui o link de uma imagem para representar este item do estoque"})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx(Yn,{name:"availableForSale",control:f,render:({field:T})=>a.jsx("input",{type:"checkbox",checked:T.value||!1,onChange:N=>T.onChange(N.target.checked),onBlur:T.onBlur,name:T.name,ref:T.ref,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:y})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Disponvel para Venda"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Marque esta opo para que o produto aparea automaticamente no balco e comandas quando houver estoque"})]})]}),a.jsxs("div",{className:"pt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:y,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center justify-center space-x-2",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Salvando..."})]}):a.jsx("span",{children:n?"Salvar Alteraes":"Adicionar Item"})})]})]})]})})})},rn=({label:e,children:t,error:n})=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:e}),t,n&&a.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})}),a.jsx("span",{children:n.message})]})]}),P5=({item:e,categories:t,onEdit:n,onDelete:i})=>{const l=e.currentStock<=e.minStock,c=e.availableForSale||!1,u=t.find(h=>h.id===e.categoryId);return a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white border rounded-lg p-4 hover:shadow-lg transition-shadow relative ${l?"border-red-300":c?"border-green-300":"border-gray-200"}`,children:[e.image_url&&a.jsx("div",{className:"w-full h-32 mb-3 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:a.jsx("img",{src:e.image_url,alt:e.name,className:"max-w-full max-h-full object-contain hover:scale-105 transition-transform duration-300",onError:h=>{h.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"pr-4 flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:(u==null?void 0:u.name)||"Sem categoria"})]}),a.jsxs("div",{className:"flex space-x-2 ml-2",children:[a.jsx("button",{onClick:()=>n(e),className:"text-gray-400 hover:text-blue-600 transition-colors p-1 rounded hover:bg-gray-100",title:"Editar item","aria-label":`Editar ${e.name}`,children:a.jsx(rl,{size:16})}),a.jsx("button",{onClick:()=>i(e.id),className:"text-gray-400 hover:text-red-600 transition-colors p-1 rounded hover:bg-gray-100",title:"Excluir item","aria-label":`Excluir ${e.name}`,children:a.jsx(dd,{size:16})})]})]}),a.jsx("div",{className:"mb-3",children:c?a.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-medium w-fit",children:[a.jsx(Go,{size:12}),a.jsx("span",{children:"Disponvel para venda"})]}):a.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs font-medium w-fit",children:[a.jsx(Ib,{size:12}),a.jsx("span",{children:"No disponvel para venda"})]})}),a.jsxs("div",{className:"flex justify-between items-baseline mb-3",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-800",children:e.currentStock}),a.jsxs("span",{className:"text-sm text-gray-600",children:["/ ",e.minStock," ",e.unit]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${l?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(e.currentStock/(e.minStock*2)*100,100)}%`}})}),(l||!c)&&a.jsxs("div",{className:"flex flex-col space-y-1 mt-2",children:[l&&a.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[a.jsx(Hs,{size:14}),a.jsx("span",{children:"Estoque baixo"})]}),!c&&a.jsxs("div",{className:"flex items-center space-x-1 text-orange-600 text-xs",children:[a.jsx(Ib,{size:14}),a.jsx("span",{children:"Produto no liberado para venda no balco"})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-3 flex justify-between",children:[a.jsxs("span",{children:["Custo: R$ ",e.cost.toFixed(2)]}),a.jsxs("span",{children:["Fornecedor: ",e.supplier||"N/A"]})]})]})},z5=()=>{const e=pi(),{inventory:t,inventoryCategories:n,removeInventoryItem:i}=mt(),[l,c]=v.useState(!1),[u,h]=v.useState(null),[f,p]=v.useState(""),g=T=>{h(T),c(!0)},y=()=>{h(null),c(!0)},b=()=>{c(!1),h(null)},w=v.useMemo(()=>t.filter(T=>T.name.toLowerCase().includes(f.toLowerCase())),[t,f]),_=v.useMemo(()=>{const T=t.reduce((D,S)=>D+S.cost*S.currentStock,0),N=t.filter(D=>D.currentStock<=D.minStock).length;return{totalValue:T,lowStockCount:N,totalItems:t.length}},[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Estoque"}),a.jsx("p",{className:"text-gray-600",children:"Controle e gesto de inventrio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 mt-4 sm:mt-0",children:[a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/inventory/atualizacao-massiva"),className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[a.jsx(Xn,{size:20}),a.jsx("span",{children:"Atualizao Massiva"})]}),a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Novo Item"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(im,{icon:es,title:"Valor Total do Estoque",value:`R$ ${_.totalValue.toFixed(2)}`,color:"green"}),a.jsx(im,{icon:Xn,title:"Itens Totais",value:_.totalItems,color:"blue"}),a.jsx(im,{icon:Hs,title:"Itens com Estoque Baixo",value:_.lowStockCount,color:"orange",onClick:()=>e("/inventory/estoque-baixo"),clickable:!0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Itens do Inventrio"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ma,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar itens...",value:f,onChange:T=>p(T.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(T=>a.jsx(P5,{item:T,categories:n,onEdit:g,onDelete:i},T.id))}),w.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Nenhum item encontrado"})})]}),l&&a.jsx(R5,{isOpen:l,onClose:b,item:u})]})},im=({icon:e,title:t,value:n,color:i,onClick:l,clickable:c=!1})=>{const u={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",orange:"bg-orange-100 text-orange-600"},h="bg-white rounded-lg shadow-md p-6",f=c?"cursor-pointer hover:shadow-lg transition-shadow":"";return a.jsx(we.div,{className:`${h} ${f}`,onClick:l,whileHover:c?{scale:1.02}:{},whileTap:c?{scale:.98}:{},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:t}),a.jsx("p",{className:`text-3xl font-bold text-${i}-600`,children:n})]}),a.jsx("div",{className:`p-3 rounded-full ${u[i]}`,children:a.jsx(e,{className:"w-6 h-6"})})]})})},L5=({isOpen:e,onClose:t,itens:n,categorias:i})=>{const[l,c]=v.useState(""),[u,h]=v.useState(""),[f,p]=v.useState(""),[g,y]=v.useState("telefone"),b=M=>{const L=M.replace(/\D/g,"");return L.length<=2?L:L.length<=7?`(${L.slice(0,2)}) ${L.slice(2)}`:`(${L.slice(0,2)}) ${L.slice(2,7)}-${L.slice(7,11)}`},w=M=>{const L=M.replace(/\D/g,"");return L.length===11&&L.startsWith("11",0)||L.length===11},_=(M,L)=>Math.max(L*2-M,L),T=()=>{const M=new Date,L=M.toLocaleDateString("pt-BR"),$=M.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),I=n.reduce((J,Q)=>{var Y;const B=((Y=i.find(K=>K.id===Q.categoryId))==null?void 0:Y.name)||"Sem Categoria";return J[B]||(J[B]=[]),J[B].push(Q),J},{});let V=` *AABB - Lista de Compras*
`;return V+=` ${L} s ${$}

`,V+=` *ITENS PARA REPOSIO:*

`,Object.entries(I).forEach(([J,Q])=>{V+=` *${J.toUpperCase()}*
`,Q.forEach(B=>{const Y=_(B.currentStock,B.minStock),K=B.currentStock===0?" ESGOTADO":" BAIXO";V+=` ${B.name}
`,V+=`  ${K} - Atual: ${B.currentStock} ${B.unit}
`,V+=`  Mnimo: ${B.minStock} ${B.unit}
`,V+=`  *Sugesto: ${Y} ${B.unit}*
`,B.supplier&&(V+=`  Fornecedor: ${B.supplier}
`),B.cost&&(V+=`  Custo: R$ ${B.cost.toFixed(2)}
`),V+=`
`}),V+=`
`}),V+=` *Observaes:*
`,V+=`- Quantidades baseadas no estoque mnimo
`,V+=`- Verificar disponibilidade com fornecedores
`,V+=`- Priorizar itens esgotados

`,V+=` Solicitado pelo Sistema AABB
`,V+=` Contato: (11) 99999-9999

`,V+=`---
`,V+="Sistema AABB - Gesto de Estoque",V},N=M=>{const L=b(M.target.value);c(L),u&&h("")},D=()=>{if(!w(l)){h("Nmero de telefone invlido. Use o formato (XX) XXXXX-XXXX");return}const M=T();p(M),y("mensagem")},S=()=>{const L=`55${l.replace(/\D/g,"")}`,$=encodeURIComponent(f),I=`https://web.whatsapp.com/send?phone=${L}&text=${$}`;if(!window.open(I,"_blank")){const J=`whatsapp://send?phone=${L}&text=${$}`;window.location.href=J}t()},A=async()=>{try{await navigator.clipboard.writeText(f),alert("Mensagem copiada para a rea de transferncia!")}catch(M){console.error("Erro ao copiar mensagem:",M),alert("Erro ao copiar mensagem. Tente selecionar e copiar manualmente.")}},k=()=>{y("telefone"),p("")},j=()=>{c(""),h(""),p(""),y("telefone"),t()};return a.jsx(Zn,{children:e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:g==="telefone"?"Compartilhar no WhatsApp":"Confirmar Envio"}),a.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(at,{size:20,className:"text-gray-500"})})]}),a.jsx("div",{className:"p-6",children:g==="telefone"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Insira o nmero de telefone para enviar a lista de compras via WhatsApp."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nmero de Telefone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gc,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:l,onChange:N,placeholder:"(11) 99999-9999",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${u?"border-red-300":"border-gray-300"}`,maxLength:15})]}),u&&a.jsx("p",{className:"text-red-600 text-sm",children:u})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Resumo da Lista"}),a.jsxs("p",{className:"text-blue-700 text-sm",children:[n.length," ",n.length===1?"item":"itens"," com estoque baixo sero includos na mensagem."]})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:["Mensagem que ser enviada para ",a.jsx("strong",{children:l}),":"]}),a.jsx("div",{className:"bg-gray-50 border rounded-lg p-4 max-h-96 overflow-y-auto",children:a.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:f})})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsxs("button",{onClick:A,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(bA,{size:16}),a.jsx("span",{children:"Copiar Mensagem"})]})})]})}),a.jsx("div",{className:"flex justify-between p-6 border-t bg-gray-50",children:g==="telefone"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:j,className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:D,disabled:!l,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:a.jsx("span",{children:"Gerar Mensagem"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:k,className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Voltar"}),a.jsxs("button",{onClick:S,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[a.jsx(KA,{size:16}),a.jsx("span",{children:"Enviar WhatsApp"})]})]})})]})})})},B5=()=>{const e=pi(),{inventory:t,inventoryCategories:n}=mt(),[i,l]=v.useState(!1),c=v.useMemo(()=>t.filter(p=>p.currentStock<=p.minStock),[t]),u=v.useMemo(()=>{const p=c.reduce((g,y)=>{var w;const b=((w=n.find(_=>_.id===y.categoryId))==null?void 0:w.name)||"Sem Categoria";return g[b]||(g[b]=[]),g[b].push(y),g},{});return Object.entries(p).sort(([g],[y])=>g.localeCompare(y))},[c,n]),h=(p,g)=>Math.max(g*2-p,g),f=()=>{l(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/inventory"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(If,{size:20,className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Itens com Estoque Baixo"}),a.jsxs("p",{className:"text-gray-600",children:[c.length," ",c.length===1?"item precisa":"itens precisam"," de reposio"]})]})]}),c.length>0&&a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center space-x-2",children:[a.jsx(ZA,{size:20}),a.jsx("span",{children:"Compartilhar no WhatsApp"})]})]}),c.length===0?a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-4 bg-green-100 rounded-full",children:a.jsx(Xn,{className:"w-8 h-8 text-green-600"})})}),a.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Parabns! Todos os itens esto com estoque adequado"}),a.jsx("p",{className:"text-green-600",children:"No h itens que precisam de reposio no momento."})]}):a.jsx("div",{className:"space-y-6",children:u.map(([p,g],y)=>a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[a.jsx(Hs,{className:"w-5 h-5 text-orange-500"}),a.jsx("span",{children:p}),a.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",g.length," itens)"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(b=>{const w=h(b.currentStock,b.minStock),_=b.currentStock===0;return a.jsxs("div",{className:`p-4 rounded-lg border-2 ${_?"border-red-300 bg-red-50":"border-orange-300 bg-orange-50"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:b.name}),_&&a.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"ESGOTADO"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Estoque Atual:"}),a.jsxs("span",{className:`font-medium ${_?"text-red-600":"text-orange-600"}`,children:[b.currentStock," ",b.unit]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Estoque Mnimo:"}),a.jsxs("span",{className:"font-medium text-gray-800",children:[b.minStock," ",b.unit]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2",children:[a.jsx("span",{className:"text-gray-600",children:"Sugesto de Compra:"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[w," ",b.unit]})]}),b.supplier&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Fornecedor:"}),a.jsx("span",{className:"font-medium text-gray-800 text-xs",children:b.supplier})]}),b.cost&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Custo Unit.:"}),a.jsxs("span",{className:"font-medium text-gray-800",children:["R$ ",b.cost.toFixed(2)]})]})]})]},b.id)})})]},p))}),a.jsx(L5,{isOpen:i,onClose:()=>l(!1),itens:c,categorias:n})]})},V5=()=>{const e=pi(),{inventory:t,inventoryCategories:n,updateInventoryItem:i}=mt(),[l,c]=v.useState(""),[u,h]=v.useState(""),[f,p]=v.useState({}),[g,y]=v.useState(!1),b=v.useMemo(()=>t.filter(k=>{const j=k.name.toLowerCase().includes(l.toLowerCase()),M=!u||k.categoryId===u;return j&&M}),[t,l,u]),w=v.useMemo(()=>Object.values(f).filter(k=>k.selecionado),[f]),_=v.useMemo(()=>w.reduce((k,j)=>k+j.valorTotal,0),[w]),T=(k,j)=>{p(M=>{var L,$,I;return{...M,[k]:{...M[k],id:k,selecionado:j,quantidadeComprada:((L=M[k])==null?void 0:L.quantidadeComprada)||1,valorUnitario:(($=M[k])==null?void 0:$.valorUnitario)||0,valorTotal:((I=M[k])==null?void 0:I.valorTotal)||0}}})},N=(k,j)=>{j<0||p(M=>{const L=M[k]||{id:k,selecionado:!1,quantidadeComprada:0,valorUnitario:0,valorTotal:0},$=j*L.valorUnitario;return{...M,[k]:{...L,quantidadeComprada:j,valorTotal:$}}})},D=(k,j)=>{j<0||p(M=>{const L=M[k]||{id:k,selecionado:!1,quantidadeComprada:0,valorUnitario:0,valorTotal:0},$=L.quantidadeComprada*j;return{...M,[k]:{...L,valorUnitario:j,valorTotal:$}}})},S=async()=>{y(!0);try{const k=w.map(async j=>{const M=t.find(V=>V.id===j.id);if(!M)return;const L=M.currentStock+j.quantidadeComprada,$=j.valorUnitario>0?j.valorUnitario:M.cost,I={...M,currentStock:L,cost:$};await i(I)});await Promise.all(k),p({}),alert(`${w.length} itens atualizados com sucesso!`)}catch(k){console.error("Erro ao atualizar estoque:",k),alert("Erro ao atualizar estoque. Tente novamente.")}finally{y(!1)}},A=k=>f[k]||{id:k,selecionado:!1,quantidadeComprada:1,valorUnitario:0,valorTotal:0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e("/inventory"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(If,{size:20,className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Atualizao Massiva de Estoque"}),a.jsx("p",{className:"text-gray-600",children:"Selecione os itens comprados e atualize o estoque em lote"})]})]}),w.length>0&&a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,disabled:g,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[a.jsx(Yc,{size:20}),a.jsx("span",{children:g?"Salvando...":`Salvar ${w.length} Itens`})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ma,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:l,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:u,onChange:k=>h(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Todas as categorias"}),n.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]}),a.jsxs("button",{onClick:()=>{const k=b.filter(M=>M.currentStock<=M.minStock),j={...f};k.forEach(M=>{const L=Math.max(M.minStock*2-M.currentStock,M.minStock);j[M.id]={id:M.id,selecionado:!0,quantidadeComprada:L,valorUnitario:M.cost||0,valorTotal:L*(M.cost||0)}}),p(j)},className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(Xn,{size:16}),a.jsx("span",{children:"Selecionar Estoque Baixo"})]}),a.jsxs("button",{onClick:()=>p({}),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(at,{size:16}),a.jsx("span",{children:"Limpar Seleo"})]})]})}),w.length>0&&a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.length}),a.jsx("p",{className:"text-blue-800 text-sm",children:"Itens Selecionados"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.reduce((k,j)=>k+j.quantidadeComprada,0)}),a.jsx("p",{className:"text-blue-800 text-sm",children:"Quantidade Total"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",_.toFixed(2)]}),a.jsx("p",{className:"text-blue-800 text-sm",children:"Valor Total"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Produtos Disponveis (",b.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selecionar"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque Atual"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantidade Comprada"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Unitrio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Novo Estoque"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(k=>{const j=A(k.id),M=n.find($=>$.id===k.categoryId),L=k.currentStock+(j.selecionado?j.quantidadeComprada:0);return a.jsxs("tr",{className:j.selecionado?"bg-blue-50":"",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:j.selecionado,onChange:$=>T(k.id,$.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),a.jsx("div",{className:"text-sm text-gray-500",children:M==null?void 0:M.name})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("span",{className:`text-sm font-medium ${k.currentStock<=k.minStock?"text-red-600":"text-gray-900"}`,children:[k.currentStock," ",k.unit]}),k.currentStock<=k.minStock&&a.jsx("div",{className:"text-xs text-red-500",children:"Estoque baixo"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.selecionado?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>N(k.id,j.quantidadeComprada-1),className:"p-1 hover:bg-gray-200 rounded",children:a.jsx(ui,{size:16})}),a.jsx("input",{type:"number",min:"0",value:j.quantidadeComprada,onChange:$=>N(k.id,parseInt($.target.value)||0),className:"w-20 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:()=>N(k.id,j.quantidadeComprada+1),className:"p-1 hover:bg-gray-200 rounded",children:a.jsx(vs,{size:16})}),a.jsx("span",{className:"text-sm text-gray-500",children:k.unit})]}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.selecionado?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm",children:"R$"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:j.valorUnitario,onChange:$=>D(k.id,parseFloat($.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"0,00"})]}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.selecionado?a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["R$ ",j.valorTotal.toFixed(2)]}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("span",{className:`text-sm font-medium ${j.selecionado?"text-green-600":"text-gray-500"}`,children:[L," ",k.unit]}),j.selecionado&&j.quantidadeComprada>0&&a.jsxs("div",{className:"text-xs text-green-500",children:["+",j.quantidadeComprada," ",k.unit]})]})]},k.id)})})]})}),b.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Xn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum produto encontrado"})]})]})]})},$5=({isOpen:e,onClose:t,member:n})=>{const{addMember:i,updateMember:l}=mt(),{register:c,handleSubmit:u,control:h,reset:f,formState:{errors:p}}=e0(),[g,y]=v.useState(!1);v.useEffect(()=>{f(n||{name:"",email:"",phone:"",avatar:`https://api.dicebear.com/8.x/initials/svg?seed=${name||"user"}`,status:"active",membershipType:"individual"})},[n,f]);const b=async T=>{y(!0);try{n?await l({...n,...T}):await i(T),t()}catch(N){console.error("Falha ao salvar o membro:",N)}finally{y(!1)}},w=["active","inactive","pending"],_=["individual","family","vip"];return a.jsx(Zn,{children:e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n?"Editar Membro":"Novo Membro"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(at,{size:24})})]}),a.jsxs("form",{onSubmit:u(b),className:"p-6 space-y-4",children:[a.jsx(Zr,{label:"Nome Completo",error:p.name,children:a.jsx("input",{...c("name",{required:"Nome  obrigatrio"}),className:"form-input",disabled:g})}),a.jsx(Zr,{label:"Email",error:p.email,children:a.jsx("input",{type:"email",...c("email",{required:"Email  obrigatrio",pattern:{value:/^\S+@\S+$/i,message:"Email invlido"}}),className:"form-input",disabled:g})}),a.jsx(Zr,{label:"Telefone",error:p.phone,children:a.jsx("input",{...c("phone",{required:"Telefone  obrigatrio"}),className:"form-input",disabled:g})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Zr,{label:"Status",error:p.status,children:a.jsx(Yn,{name:"status",control:h,render:({field:T})=>a.jsx("select",{...T,className:"form-input",disabled:g,children:w.map(N=>a.jsx("option",{value:N,className:"capitalize",children:N},N))})})}),a.jsx(Zr,{label:"Tipo de Plano",error:p.membershipType,children:a.jsx(Yn,{name:"membershipType",control:h,render:({field:T})=>a.jsx("select",{...T,className:"form-input",disabled:g,children:_.map(N=>a.jsx("option",{value:N,className:"capitalize",children:N},N))})})})]}),a.jsx(Zr,{label:"URL do Avatar",error:p.avatar,children:a.jsx("input",{...c("avatar"),className:"form-input",disabled:g})}),a.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",disabled:g,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-wait",disabled:g,children:g?"Salvando...":n?"Salvar Alteraes":"Adicionar Membro"})]})]})]})})})},Zr=({label:e,children:t,error:n})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),t,n&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.message})]}),U5=({member:e,onEdit:t})=>{const n={active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800"},i={active:"Ativo",inactive:"Inativo",pending:"Pendente"};return a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg p-4 text-center hover:shadow-xl transition-shadow flex flex-col",children:[a.jsxs("div",{className:"relative self-center",children:[a.jsx("img",{src:e.avatar,alt:e.name,className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),a.jsx("span",{className:`absolute bottom-1 right-1 block h-4 w-4 rounded-full border-2 border-white ${e.status==="active"?"bg-green-500":e.status==="inactive"?"bg-red-500":"bg-yellow-500"}`})]}),a.jsx("h3",{className:"font-bold text-lg text-gray-800",children:e.name}),a.jsx("p",{className:`text-xs font-medium px-2 py-0.5 rounded-full self-center my-2 ${n[e.status]}`,children:i[e.status]}),a.jsx("div",{className:"text-sm text-gray-600 capitalize mb-4",children:e.membershipType}),a.jsxs("div",{className:"text-left space-y-2 text-xs text-gray-500 border-t pt-3 mt-auto",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pj,{size:14}),a.jsx("span",{children:e.email})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gc,{size:14}),a.jsx("span",{children:e.phone})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(al,{size:14}),a.jsxs("span",{children:["Membro desde ",qt(e.joinDate,"MMM yyyy",{locale:ts})]})]})]}),a.jsxs("button",{onClick:()=>t(e),className:"mt-4 w-full bg-gray-100 text-gray-700 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(rl,{size:14}),a.jsx("span",{children:"Editar Perfil"})]})]})},q5=()=>{const{members:e}=mt(),[t,n]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(""),[h,f]=v.useState("all"),p=_=>{l(_),n(!0)},g=()=>{l(null),n(!0)},y=()=>{n(!1),l(null)},b=v.useMemo(()=>e.filter(_=>{const T=_.name.toLowerCase().includes(c.toLowerCase()),N=h==="all"||_.status===h;return T&&N}),[e,c,h]),w=v.useMemo(()=>{const _=EM(new Date);return{total:e.length,active:e.filter(T=>T.status==="active").length,newThisMonth:e.filter(T=>CM(T.joinDate,_)).length}},[e]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Mdulo Membros"}),a.jsx("p",{className:"text-gray-600",children:"Gesto completa de scios do clube"})]}),a.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2 mt-4 sm:mt-0",children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Novo Membro"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(om,{icon:Wn,title:"Total de Membros",value:w.total,color:"blue"}),a.jsx(om,{icon:Vj,title:"Membros Ativos",value:w.active,color:"green"}),a.jsx(om,{icon:uk,title:"Novos (ltimo Ms)",value:w.newThisMonth,color:"purple"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 sm:mb-0",children:"Lista de Membros"}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ma,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar membros...",value:c,onChange:_=>u(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:h,onChange:_=>f(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Status"}),a.jsx("option",{value:"active",children:"Ativo"}),a.jsx("option",{value:"inactive",children:"Inativo"}),a.jsx("option",{value:"pending",children:"Pendente"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:b.map(_=>a.jsx(U5,{member:_,onEdit:p},_.id))}),b.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Nenhum membro encontrado"})})]}),t&&a.jsx($5,{isOpen:t,onClose:y,member:i})]})},om=({icon:e,title:t,value:n,color:i})=>{const l={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600"};return a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:t}),a.jsx("p",{className:`text-3xl font-bold text-${i}-600`,children:n})]}),a.jsx("div",{className:`p-3 rounded-full ${l[i]}`,children:a.jsx(e,{className:"w-6 h-6"})})]})})},F5=()=>{const[e,t]=v.useState(!0),n=v.useRef(null),i=v.useCallback(()=>(n.current||(n.current=new(window.AudioContext||window.webkitAudioContext)),n.current),[]),l=v.useCallback(()=>{if(e)try{const f=i(),p=(g,y,b=0)=>{setTimeout(()=>{const w=f.createOscillator(),_=f.createGain();w.connect(_),_.connect(f.destination),w.frequency.setValueAtTime(g,f.currentTime),w.type="sine",_.gain.setValueAtTime(0,f.currentTime),_.gain.linearRampToValueAtTime(.3,f.currentTime+.01),_.gain.exponentialRampToValueAtTime(.01,f.currentTime+y),w.start(f.currentTime),w.stop(f.currentTime+y)},b)};p(800,.2,0),p(1e3,.3,200)}catch(f){console.warn("Erro ao reproduzir som de notificao:",f);try{const p="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEcCTSNzPLOdSUGMIMcaYOlhAAAaYOlhAAAaYOlhAAAaYOlhAAAAA==",g=new Audio(p);g.volume=.3,g.play().catch(()=>{console.log(" Pedido pronto!")})}catch{console.log(" Pedido pronto!")}}},[e,i]),c=v.useCallback(()=>{n.current&&(n.current.close(),n.current=null)},[]),u=v.useCallback(f=>{console.log("Volume definido para:",f)},[]),h=v.useCallback(()=>{t(f=>!f)},[]);return{play:l,stop:c,setVolume:u,isEnabled:e,toggle:h}},ol=()=>{const[e,t]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),u=F5(),{refreshKitchenOrders:h,refreshBarOrders:f}=mt(),p=async()=>{try{i(!0);const{data:A,error:k}=await le.from("comandas").select(`
          *,
          table:bar_tables(*),
          customer:bar_customers(*),
          employee:profiles(*),
          items:comanda_items(
            *,
            menu_item:menu_items(*)
          )
        `).order("opened_at",{ascending:!1});if(k)throw k;t(A||[])}catch(A){c(A instanceof Error?A.message:"Erro ao carregar comandas")}finally{i(!1)}},g=async A=>{try{const{data:k,error:j}=await le.from("comandas").insert([A]).select(`
          *,
          table:bar_tables(*),
          customer:bar_customers(*),
          employee:profiles(*)
        `).single();if(j)throw j;return t(M=>[k,...M]),k}catch(k){throw new Error(k instanceof Error?k.message:"Erro ao criar comanda")}},y=async(A,k)=>{try{const j={status:k};k==="closed"&&(j.closed_at=new Date().toISOString());const{error:M}=await le.from("comandas").update(j).eq("id",A);if(M)throw M;t(L=>L.map($=>$.id===A?{...$,status:k,...j}:$))}catch(j){throw new Error(j instanceof Error?j.message:"Erro ao atualizar comanda")}},b=async(A,k)=>{try{const{data:j,error:M}=await le.from("comanda_items").insert([{comanda_id:A,...k}]).select(`
          *,
          menu_item:menu_items(*)
        `).single();if(M)throw M;return t(L=>L.map($=>$.id===A?{...$,items:[...$.items||[],j]}:$)),console.log(" Atualizando pedidos da cozinha e bar aps adicionar item..."),await Promise.all([h(),f()]),j}catch(j){throw new Error(j instanceof Error?j.message:"Erro ao adicionar item  comanda")}},w=async(A,k)=>{try{const j={status:k};k==="ready"?j.prepared_at=new Date().toISOString():k==="delivered"&&(j.delivered_at=new Date().toISOString());const{error:M}=await le.from("comanda_items").update(j).eq("id",A);if(M)throw M;k==="ready"&&u.play(),t(L=>L.map($=>{var I;return{...$,items:(I=$.items)==null?void 0:I.map(V=>V.id===A?{...V,status:k,...j}:V)}}))}catch(j){throw new Error(j instanceof Error?j.message:"Erro ao atualizar item")}},_=async A=>{try{const{data:k,error:j}=await le.from("comandas").select(`
          *,
          table:bar_tables(*),
          customer:bar_customers(*),
          employee:profiles(*),
          items:comanda_items(
            *,
            menu_item:menu_items(*)
          )
        `).eq("table_id",A).eq("status","open").single();if(j&&j.code!=="PGRST116")throw j;return k}catch(k){throw new Error(k instanceof Error?k.message:"Erro ao buscar comanda da mesa")}},T=async A=>{try{const{error:k}=await le.from("comanda_items").delete().eq("id",A);if(k)throw k;t(j=>j.map(M=>{var L;return{...M,items:(L=M.items)==null?void 0:L.filter($=>$.id!==A)}}))}catch(k){throw new Error(k instanceof Error?k.message:"Erro ao remover item da comanda")}},N=async(A,k)=>{try{const{data:j,error:M}=await le.from("bill_splits").insert([{comanda_id:A,split_type:k.type,person_count:k.person_count,splits:k.splits,service_charge_percentage:k.service_charge_percentage,discount_amount:k.discount_amount}]).select().single();if(M)throw M;return j}catch(j){throw new Error(j instanceof Error?j.message:"Erro ao criar diviso de conta")}},D=async A=>{try{const{data:k,error:j}=await le.from("bill_splits").select("*").eq("comanda_id",A).single();if(j&&j.code!=="PGRST116")throw j;return k}catch(k){throw new Error(k instanceof Error?k.message:"Erro ao buscar diviso de conta")}},S=async(A,k)=>{try{return await y(A,"closed"),console.log("Processando pagamentos mltiplos:",k),{success:!0,payments:k}}catch(j){throw new Error(j instanceof Error?j.message:"Erro ao processar pagamentos")}};return v.useEffect(()=>{p()},[]),{comandas:e,loading:n,error:l,refetch:p,createComanda:g,updateComandaStatus:y,addItemToComanda:b,updateItemStatus:w,getComandaByTable:_,removeItemFromComanda:T,createBillSplit:N,getBillSplit:D,processMultiplePayments:S}},H5=({mode:e,onModeChange:t,user:n})=>{const i={balcao:"Balco",mesas:"Mesas",comandas:"Comandas",fila:"Fila",pedidos:"Preparo"},l={balcao:"Balco",mesas:"Mesas",comandas:"Comandas",fila:"Fila de Pedidos",pedidos:"Pedidos Bar"},c={balcao:"",mesas:"",comandas:"",fila:"",pedidos:""};return a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:a.jsx("div",{className:"px-2 sm:px-4 lg:px-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center py-3 space-y-3 lg:space-y-0 min-h-16",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 min-w-0 flex-1",children:[a.jsxs("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 truncate",children:[a.jsx("span",{className:"hidden sm:inline",children:"Sistema de Atendimento - "}),"Bar"]}),n&&a.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 mt-1 sm:mt-0 truncate",children:[a.jsx("span",{className:"hidden sm:inline",children:"Atendente: "}),n.full_name||n.email]})]}),a.jsx("nav",{className:"flex flex-wrap gap-1 sm:gap-2",children:Object.keys(i).map(u=>a.jsxs("button",{onClick:()=>t(u),className:`
                  flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 rounded-lg font-medium transition-colors text-xs sm:text-sm
                  ${e===u?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}
                `,children:[a.jsx("span",{className:"text-sm sm:text-lg",children:c[u]}),a.jsx("span",{className:"hidden sm:inline",children:l[u]}),a.jsx("span",{className:"sm:hidden",children:i[u]})]},u))})]})})})};function I5({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const hv=v.forwardRef(I5);function G5({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Y5=v.forwardRef(G5);function X5({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n1=v.forwardRef(X5);function K5({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Pc=v.forwardRef(K5);function W5({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Q5=v.forwardRef(W5);function Z5({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const lm=v.forwardRef(Z5);function J5({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Xm=v.forwardRef(J5);function eO({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const tO=v.forwardRef(eO);function sO({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Km=v.forwardRef(sO);function aO({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const nO=v.forwardRef(aO);function rO({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const iO=v.forwardRef(rO);function oO({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const lO=v.forwardRef(oO);function cO({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ed=v.forwardRef(cO);function dO({title:e,titleId:t,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const t0=v.forwardRef(dO),r1=(e=!1)=>{const[t,n]=v.useState([]),[i,l]=v.useState(!0),[c,u]=v.useState(null),h=async()=>{try{l(!0),console.log("Fetching menu items...");try{const{data:N,error:D}=await le.from("menu_items").select("count").limit(1);if(D&&D.message.includes("JWT"))throw new Error("Supabase no configurado")}catch(N){console.error("Supabase no configurado. Criando dados mock...",N);const D=[{id:"mock-1",name:"Cerveja Pilsen",description:"Cerveja gelada 350ml",price:8.5,category:"Bebidas",image_url:void 0,available:!0,preparation_time:0,item_type:"prepared",direct_inventory_item_id:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"mock-2",name:"Refrigerante",description:"Coca-Cola 350ml",price:5,category:"Bebidas",image_url:void 0,available:!0,preparation_time:0,item_type:"prepared",direct_inventory_item_id:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"mock-3",name:"Poro de Batata",description:"Batata frita crocante",price:15,category:"Petiscos",image_url:void 0,available:!0,preparation_time:15,item_type:"prepared",direct_inventory_item_id:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];n(D),u("Dados de exemplo sendo exibidos. Configure o Supabase para usar dados reais.");return}const{data:g,error:y}=await le.from("menu_items").select("*");console.log("All menu items:",g,"Error:",y);let b=le.from("menu_items").select(`
          *,
          inventory_items!left(
            name,
            image_url,
            current_stock,
            min_stock,
            unit,
            available_for_sale
          )
        `).eq("available",!0).order("category",{ascending:!0}).order("name",{ascending:!0});e||(b=b.neq("item_type","direct"));const{data:w,error:_}=await b;if(console.log("Available menu items:",w,"Error:",_),_)throw _;if(!w||w.length===0){console.log("No menu items found - creating sample data");const N=[{name:"Cerveja Pilsen",description:"Cerveja gelada 350ml",price:8.5,category:"Bebidas",available:!0},{name:"Refrigerante",description:"Coca-Cola 350ml",price:5,category:"Bebidas",available:!0}],{data:D,error:S}=await le.from("menu_items").insert(N).select();if(console.log("Sample data inserted:",D,"Error:",S),!S&&D){const A=D.map(k=>({id:k.id,name:k.name,description:k.description||"",price:k.price,category:k.category||"",image_url:k.image_url||void 0,available:k.available||!1,preparation_time:k.preparation_time||0,item_type:k.item_type||"prepared",direct_inventory_item_id:k.direct_inventory_item_id||void 0,created_at:k.created_at||void 0,updated_at:k.updated_at||void 0}));n(A);return}}const T=(w||[]).map(N=>{const D=N.inventory_items,S=N.item_type==="direct";return{id:N.id,name:S&&(D!=null&&D.name)?D.name:N.name,description:N.description||"",price:typeof N.price=="string"?parseFloat(N.price):N.price||0,category:N.category||"",image_url:S&&(D!=null&&D.image_url)?D.image_url:N.image_url||void 0,available:N.available||!1,preparation_time:N.preparation_time||0,item_type:N.item_type||"prepared",direct_inventory_item_id:N.direct_inventory_item_id||void 0,created_at:N.created_at||void 0,updated_at:N.updated_at||void 0,inventory_items:D?{id:"",name:D.name||"",currentStock:D.current_stock||0,minStock:D.min_stock||0,unit:D.unit||"unidades",lastUpdated:new Date,cost:0,availableForSale:D.available_for_sale||!1,image_url:D.image_url||void 0}:void 0}});console.log("Mapped items:",T),n(T)}catch(g){console.error("Error in fetchMenuItems:",g),u(g instanceof Error?g.message:"Erro ao carregar itens do menu")}finally{l(!1)}},f=g=>t.filter(y=>y.category===g),p=()=>t.filter(g=>g.available);return v.useEffect(()=>{h()},[e]),{menuItems:t,loading:i,error:c,refetch:h,getItemsByCategory:f,getAvailableItems:p}},md=()=>{const{user:e}=Xt(),{refreshKitchenOrders:t,refreshBarOrders:n}=mt(),[i,l]=v.useState({orders:[],metrics:null,loading:!0,error:null}),c=v.useCallback(j=>{l(M=>({...M,...j}))},[]),u=v.useCallback((j,M)=>{console.error(`Erro em ${M}:`,j),c({error:`Erro em ${M}: ${j.message||"Erro desconhecido"}`,loading:!1})},[c]),h=v.useCallback(async()=>{if(e)try{c({loading:!0,error:null});const{data:j,error:M}=await le.from("balcao_orders_with_details").select("*").order("created_at",{ascending:!1}).limit(50);if(M)throw M;const L=await Promise.all((j||[]).map(async $=>{const{data:I,error:V}=await le.from("balcao_order_items").select(`
              *,
              menu_items:menu_item_id (
                id,
                name,
                category,
                price,
                preparation_time,
                item_type
              )
            `).eq("balcao_order_id",$.id);return V&&console.warn(`Erro ao carregar itens do pedido ${$.id}:`,V),{...$,items:(I==null?void 0:I.map(J=>({...J,menu_item:Array.isArray(J.menu_items)?J.menu_items[0]:J.menu_items})))||[]}}));c({orders:L,loading:!1})}catch(j){u(j,"carregamento de pedidos")}},[e,c,u]),f=v.useCallback(async j=>{if(!e)throw new Error("Usurio no autenticado");try{c({loading:!0,error:null});const{data:M,error:L}=await le.from("balcao_orders").insert({employee_id:e.id,customer_name:j.customer_name,customer_phone:j.customer_phone,discount_amount:j.discount_amount||0,notes:j.notes,customer_notes:j.customer_notes,status:"pending_payment"}).select().single();if(L)throw L;const $=j.items.map(V=>({balcao_order_id:M.id,menu_item_id:V.menu_item_id,quantity:V.quantity,unit_price:V.unit_price,notes:V.notes,status:"pending"})),{error:I}=await le.from("balcao_order_items").insert($);if(I)throw I;return await h(),M.id}catch(M){throw u(M,"criao de pedido"),M}},[e,c,u,h]),p=v.useCallback(async(j,M)=>{try{c({loading:!0,error:null});const L={status:M.status,updated_at:new Date().toISOString()};M.status==="paid"?(L.payment_method=M.payment_method,L.cash_session_id=M.cash_session_id,L.paid_at=new Date().toISOString()):M.status==="preparing"?L.preparation_started_at=new Date().toISOString():M.status==="ready"?L.preparation_completed_at=new Date().toISOString():M.status==="delivered"&&(L.delivered_at=new Date().toISOString(),L.delivered_by=M.delivered_by||(e==null?void 0:e.id)),M.notes&&(L.notes=M.notes);const{error:$}=await le.from("balcao_orders").update(L).eq("id",j);if($)throw $;await h()}catch(L){throw u(L,"atualizao de status do pedido"),L}},[c,u,h,e]),g=v.useCallback(async j=>{try{console.log(" Iniciando processamento de pagamento:",j.order_id),await p(j.order_id,{status:"paid",payment_method:j.payment_method,cash_session_id:j.cash_session_id,notes:j.notes});const{error:M}=await le.from("cash_transactions").insert({cash_session_id:j.cash_session_id,transaction_type:"sale",payment_method:j.payment_method,amount:j.amount_paid,processed_by:e.id,notes:`Pedido de balco #${j.order_id}`,processed_at:new Date().toISOString()});if(M)throw M;console.log(" Pagamento processado com sucesso!"),console.log(" Forando atualizao dos monitores em mltiplas camadas..."),setTimeout(async()=>{await Promise.all([t(),n()]),console.log(" Primeira atualizao dos monitores concluda!")},500),setTimeout(async()=>{await Promise.all([t(),n(),h()]),console.log(" Atualizao backup dos monitores concluda!")},1500)}catch(M){throw u(M,"processamento de pagamento"),M}},[p,u,e,t,n,h]),y=v.useCallback(async(j,M)=>{try{const L={status:M,updated_at:new Date().toISOString()};M==="preparing"?L.preparation_started_at=new Date().toISOString():M==="ready"&&(L.preparation_completed_at=new Date().toISOString());const{error:$}=await le.from("balcao_order_items").update(L).eq("id",j);if($)throw $;await h()}catch(L){throw u(L,"atualizao de status do item"),L}},[u,h]),b=v.useCallback(async(j,M)=>{try{await p(j,{status:"cancelled",notes:M?`Cancelado: ${M}`:"Pedido cancelado"})}catch(L){throw u(L,"cancelamento de pedido"),L}},[p,u]),w=v.useCallback(async j=>{try{let M=le.from("balcao_orders_with_details").select("*");j.status&&j.status.length>0&&(M=M.in("status",j.status)),j.employee_id&&(M=M.eq("employee_id",j.employee_id)),j.start_date&&(M=M.gte("created_at",j.start_date)),j.end_date&&(M=M.lte("created_at",j.end_date)),j.customer_name&&(M=M.ilike("customer_name",`%${j.customer_name}%`)),j.order_number&&(M=M.eq("order_number",j.order_number)),j.payment_method&&(M=M.eq("payment_method",j.payment_method));const{data:L,error:$}=await M.order("created_at",{ascending:!1}).limit(100);if($)throw $;return L||[]}catch(M){return u(M,"busca de pedidos"),[]}},[u]),_=v.useCallback(async()=>{try{const j=new Date().toISOString().split("T")[0],{data:M,error:L}=await le.from("balcao_orders").select("status, final_amount, payment_method").gte("created_at",`${j}T00:00:00.000Z`).lt("created_at",`${j}T23:59:59.999Z`);if(L)throw L;const $=M||[],I={today:{total_orders:$.length,total_revenue:$.reduce((V,J)=>V+(J.final_amount||0),0),avg_order_value:$.length>0?$.reduce((V,J)=>V+(J.final_amount||0),0)/$.length:0,pending_payment:$.filter(V=>V.status==="pending_payment").length,preparing:$.filter(V=>V.status==="preparing").length,ready_for_delivery:$.filter(V=>V.status==="ready").length},by_status:[],by_payment_method:[],hourly_breakdown:[]};c({metrics:I})}catch(j){u(j,"carregamento de mtricas")}},[c,u]),T=v.useCallback(async()=>{await Promise.all([h(),_()])},[h,_]),N=v.useCallback(j=>i.orders.filter(M=>M.status===j),[i.orders]),D=v.useCallback(j=>i.orders.find(M=>M.id===j),[i.orders]),S=N("pending_payment"),A=N("preparing"),k=N("ready");return v.useEffect(()=>{e&&T()},[e,T]),v.useEffect(()=>{if(!e)return;const j=le.channel("balcao_orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"balcao_orders"},()=>{h()}).on("postgres_changes",{event:"*",schema:"public",table:"balcao_order_items"},()=>{h()}).subscribe();return()=>{j.unsubscribe()}},[e,h]),{orders:i.orders,pendingOrders:S,preparingOrders:A,readyOrders:k,metrics:i.metrics,loading:i.loading,error:i.error,createOrder:f,updateOrderStatus:p,updateItemStatus:y,cancelOrder:b,processPayment:g,searchOrders:w,getOrdersByStatus:N,refreshData:T,getOrderById:D,loadMetrics:_}},i1=()=>{const{user:e}=Xt(),[t,n]=v.useState({currentSession:null,pendingComandas:[],todaysTransactions:[],todaysSessions:[],todaysSummary:{session_date:new Date().toISOString().split("T")[0],total_sessions:0,total_sales:0,total_transactions:0,by_payment_method:[],by_employee:[],discrepancies:[],avg_ticket:0,peak_hours:[]},loading:!0,error:null}),i=v.useCallback(f=>{n(p=>({...p,...f}))},[]),l=v.useCallback((f,p)=>{console.error(`Erro em ${p}:`,f),i({error:`Erro em ${p}: ${f.message||"Erro desconhecido"}`,loading:!1})},[i]),c=v.useCallback(async()=>{if(e)try{i({loading:!0,error:null});const{data:f,error:p}=await le.from("cash_sessions").select("*").eq("employee_id",e.id).eq("status","open").maybeSingle();if(p&&p.code!=="PGRST116")throw p;const g=f?{...f,employee:{id:e.id,name:e.email||"Usurio",role:"employee"}}:null;i({currentSession:g,pendingComandas:[],todaysTransactions:[],todaysSessions:[],loading:!1})}catch(f){l(f,"carregamento inicial")}},[e,i,l]),u=v.useCallback(async f=>{if(!e)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const p={employee_id:e.id,opening_amount:f.opening_amount,opening_notes:f.opening_notes,supervisor_approval_id:f.supervisor_approval_id,status:"open"},{data:g,error:y}=await le.from("cash_sessions").insert(p).select("*").single();if(y)throw y;await c()}catch(p){throw l(p,"abertura de caixa"),p}},[e,i,l,c]),h=v.useCallback(async f=>{if(!t.currentSession)throw new Error("Nenhuma sesso aberta");try{i({loading:!0,error:null});const p=f.closing_amount-t.currentSession.expected_amount,{error:g}=await le.from("cash_sessions").update({status:"closed",closed_at:new Date().toISOString(),closing_amount:f.closing_amount,cash_discrepancy:p,closing_notes:f.closing_notes}).eq("id",t.currentSession.id);if(g)throw g;const y=f.reconciliation.map(w=>({cash_session_id:t.currentSession.id,payment_method:w.payment_method,expected_amount:w.expected_amount,actual_amount:w.actual_amount,transaction_count:w.transaction_count,reconciled_by:e.id,notes:w.notes})),{error:b}=await le.from("payment_reconciliation").insert(y);if(b)throw b;await c()}catch(p){throw l(p,"fechamento de caixa"),p}},[t.currentSession,e,i,l,c]);return v.useEffect(()=>{c()},[c]),{currentSession:t.currentSession,pendingComandas:t.pendingComandas,todaysTransactions:t.todaysTransactions,todaysSessions:t.todaysSessions,todaysSummary:t.todaysSummary,loading:t.loading,error:t.error,openCashSession:u,closeCashSession:h,getCurrentSession:()=>t.currentSession,processComandaPayment:async()=>{throw new Error("No implementado ainda")},processRefund:async()=>{throw new Error("No implementado ainda")},processAdjustment:async()=>{throw new Error("No implementado ainda")},generateDailySummary:async()=>t.todaysSummary,generateMonthlySummary:async()=>({month:new Date().toISOString().slice(0,7),total_sessions:0,total_sales:0,total_transactions:0,employees_performance:[],top_payment_methods:[],daily_breakdown:[],avg_discrepancy:0,peak_days:[]}),getTransactionsByFilters:async()=>[],getSessionsByFilters:async()=>[],validateCashAmount:async()=>({isValid:!0,errors:[]}),validateSession:async()=>({isValid:!0,errors:[]}),reloadData:c}},Me=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),s0={dinheiro:"Dinheiro",cartao_debito:"Carto de Dbito",cartao_credito:"Carto de Crdito",pix:"PIX",transferencia:"Transferncia"},uO={sale:"Venda",refund:"Estorno",adjustment:"Ajuste",tip:"Gorjeta",cash_withdrawal:"Sada de Dinheiro",treasury_transfer:"Transferncia para Tesouraria"},hO=({isOpen:e,onClose:t,onSelectCustomer:n})=>{const[i,l]=v.useState(""),[c,u]=v.useState([]),[h,f]=v.useState(!1),[p,g]=v.useState("phone");v.useEffect(()=>{e&&(l(""),u([]))},[e]);const y=async()=>{if(i.trim()){f(!0);try{let _=le.from("bar_customers").select("*");p==="phone"?_=_.ilike("phone",`%${i}%`):_=_.ilike("name",`%${i}%`);const{data:T,error:N}=await _.eq("status","active").order("name").limit(10);if(N)throw N;if(!T||T.length===0){const D=[{id:"mock-1",phone:i.includes("11")?i:"(11) 99999-1234",name:"Joo Silva",email:"joao@exemplo.com",credit_limit:1e3,current_balance:0,status:"active",is_vip:!0,loyalty_points:250,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_visit:"2024-08-30"},{id:"mock-2",phone:"(11) 88888-5678",name:"Maria Santos",email:"maria@exemplo.com",credit_limit:500,current_balance:0,status:"active",is_vip:!1,loyalty_points:120,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_visit:"2024-08-28"}];u(p==="phone"?D.filter(S=>S.phone.includes(i)||i.includes("11")):D.filter(S=>S.name.toLowerCase().includes(i.toLowerCase())))}else u(T)}catch(_){console.error("Erro ao buscar clientes:",_),u([])}finally{f(!1)}}},b=_=>{_.key==="Enter"&&y()},w=_=>{n(_),t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Identificar Membro"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(t0,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("div",{className:"flex space-x-4 mb-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>g("phone"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${p==="phone"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(Km,{className:"h-4 w-4 inline mr-1"}),"Telefone"]}),a.jsxs("button",{onClick:()=>g("name"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${p==="name"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(ed,{className:"h-4 w-4 inline mr-1"}),"Nome"]})]})}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Xm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:p==="phone"?"Digite o telefone (ex: 11999999999)":"Digite o nome do membro",value:i,onChange:_=>l(_.target.value),onKeyPress:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),a.jsx("button",{onClick:y,disabled:h||!i.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Buscando...":"Buscar"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:[c.length," resultado(s) encontrado(s)"]}),c.map(_=>a.jsxs("div",{onClick:()=>w(_),className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 cursor-pointer transition-colors border border-gray-200",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:_.name}),_.is_vip&&a.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[a.jsx(iO,{className:"h-3 w-3 text-yellow-600"}),a.jsx("span",{className:"text-xs font-medium text-yellow-800",children:"VIP"})]})]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Km,{className:"h-4 w-4"}),a.jsx("span",{children:_.phone})]}),_.email&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Q5,{className:"h-4 w-4"}),a.jsx("span",{children:_.email})]})]})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("div",{className:"text-gray-900 font-medium",children:[_.loyalty_points," pontos"]}),_.last_visit&&a.jsxs("div",{className:"text-gray-500",children:["ltima visita: ",new Date(_.last_visit).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[a.jsx("span",{className:`px-2 py-1 rounded-full ${_.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.status==="active"?"Ativo":"Inativo"}),a.jsxs("span",{className:"text-gray-500",children:["Limite: R$ ",_.credit_limit.toFixed(2)]})]})]},_.id))]}):i&&!h?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ed,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum membro encontrado"}),a.jsxs("p",{className:"text-gray-600",children:["Tente buscar por outro ",p==="phone"?"telefone":"nome"," ou verifique se o membro est cadastrado."]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Xm,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Buscar Membro"}),a.jsxs("p",{className:"text-gray-600",children:["Digite o ",p==="phone"?"telefone":"nome"," do membro para aplicar descontos e benefcios."]})]})}),a.jsx("div",{className:"p-6 border-t bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsx("span",{children:" Membros recebem 10% de desconto automaticamente"}),a.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Continuar sem identificar"})]})})]})}):null},mv=()=>{const{user:e}=Xt(),{menuItems:t,loading:n}=r1(!0),{createOrder:i}=md(),{currentSession:l}=i1(),{inventory:c}=mt(),[u,h]=v.useState([]),[f,p]=v.useState(null),[g,y]=v.useState(""),[b,w]=v.useState(""),[_,T]=v.useState("all"),[N,D]=v.useState(""),[S,A]=v.useState(!1),[k,j]=v.useState(!1),[M,L]=v.useState({}),$=v.useMemo(()=>Array.from(new Set(t.map(F=>F.category))).sort(),[t]),I=v.useMemo(()=>{let E=t.filter(F=>F.available);return _!=="all"&&(E=E.filter(F=>F.category===_)),N&&(E=E.filter(F=>{var P;return F.name.toLowerCase().includes(N.toLowerCase())||((P=F.description)==null?void 0:P.toLowerCase().includes(N.toLowerCase()))})),E},[t,_,N]),V=v.useMemo(()=>u.reduce((E,F)=>E+F.price*F.quantity,0),[u]),J=v.useMemo(()=>f?V*.1:0,[f,V]),Q=v.useMemo(()=>V-J,[V,J]),B=(E,F)=>{if(E.item_type==="direct"&&E.direct_inventory_item_id){const P=c.find(Z=>Z.id===E.direct_inventory_item_id);return P?P.currentStock<F?{available:!1,currentStock:P.currentStock,warning:`Estoque insuficiente. Disponvel: ${P.currentStock} ${P.unit}`}:P.currentStock<=P.minStock?{available:!0,currentStock:P.currentStock,warning:`Estoque baixo! Disponvel: ${P.currentStock} ${P.unit}`}:{available:!0,currentStock:P.currentStock}:{available:!1,warning:"Item no encontrado no estoque"}}return{available:!0}},Y=E=>{const F=B(E,1);if(!F.available){alert(F.warning);return}h(P=>{const Z=P.find(ue=>ue.menu_item_id===E.id);if(Z){const ue=Z.quantity+1,ye=B(E,ue);return ye.available?(ye.warning?L(fe=>({...fe,[E.id]:ye.warning})):L(fe=>{const oe={...fe};return delete oe[E.id],oe}),P.map(fe=>fe.menu_item_id===E.id?{...fe,quantity:ue}:fe)):(alert(ye.warning),P)}else return F.warning&&L(ue=>({...ue,[E.id]:F.warning})),[...P,{menu_item_id:E.id,name:E.name,price:E.price,quantity:1}]})},K=E=>{h(F=>F.filter(P=>P.menu_item_id!==E)),L(F=>{const P={...F};return delete P[E],P})},z=(E,F)=>{if(F<=0){K(E);return}const P=t.find(Z=>Z.id===E);if(P){const Z=B(P,F);if(!Z.available){alert(Z.warning);return}Z.warning?L(ue=>({...ue,[E]:Z.warning})):L(ue=>{const ye={...ue};return delete ye[E],ye})}h(Z=>Z.map(ue=>ue.menu_item_id===E?{...ue,quantity:F}:ue))},R=()=>{h([]),p(null),y(""),w(""),L({})},q=()=>{const E=[];for(const F of u){const P=t.find(Z=>Z.id===F.menu_item_id);if(P){const Z=B(P,F.quantity);Z.available||E.push(`${P.name}: ${Z.warning}`)}}return{valid:E.length===0,errors:E}},ne=async()=>{if(u.length===0)return;const E=q();if(!E.valid){alert(`Problemas de estoque encontrados:

`+E.errors.join(`
`));return}j(!0);try{const F={customer_name:f==null?void 0:f.name,customer_phone:f==null?void 0:f.phone,customer_notes:b||void 0,items:u.map(Z=>({menu_item_id:Z.menu_item_id,quantity:Z.quantity,unit_price:Z.price,notes:Z.notes})),discount_amount:J,notes:g||void 0},P=await i(F);R(),alert(`Pedido #${P.slice(-4).toUpperCase()} criado com sucesso!

O pedido est aguardando pagamento no caixa.`)}catch(F){console.error("Erro ao criar pedido:",F),F instanceof Error&&F.message.includes("Estoque insuficiente")?alert("Estoque insuficiente para um ou mais itens. Verifique o estoque e tente novamente."):alert("Erro ao criar pedido. Tente novamente.")}finally{j(!1)}};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Criar Pedido de Balco"}),a.jsx("p",{className:"text-gray-600",children:"O pedido ficar pendente at o pagamento ser processado no caixa"})]}),a.jsx("div",{className:"flex items-center space-x-4",children:l?a.jsx("div",{className:"bg-green-100 px-4 py-2 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(n1,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-green-800 font-medium",children:"Caixa Aberto"})]})}):a.jsx("div",{className:"bg-yellow-100 px-4 py-2 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pc,{className:"h-5 w-5 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-yellow-800 font-medium",children:"Caixa Fechado"}),a.jsx("p",{className:"text-yellow-700 text-sm",children:"Pedidos sero processados quando o caixa abrir"})]})]})})})]})}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"bg-white p-4 border-b",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Xm,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar itens...",value:N,onChange:E=>D(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:_,onChange:E=>T(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todas Categorias"}),$.map(E=>a.jsx("option",{value:E,children:E},E))]})]})}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:I.map(E=>{const F=B(E,1),P=F.warning&&F.available,Z=!F.available;return a.jsxs(we.div,{whileHover:{scale:Z?1:1.02},whileTap:{scale:Z?1:.98},onClick:()=>!Z&&Y(E),className:`bg-white rounded-lg p-4 shadow-sm border transition-shadow relative ${Z?"cursor-not-allowed opacity-50 border-red-300":P?"cursor-pointer hover:shadow-md border-yellow-300":"cursor-pointer hover:shadow-md border-gray-200"}`,children:[Z&&a.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[a.jsx(lm,{className:"h-3 w-3"}),a.jsx("span",{children:"Esgotado"})]}),P&&a.jsxs("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[a.jsx(lm,{className:"h-3 w-3"}),a.jsx("span",{children:"Baixo"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:E.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:E.category}),E.item_type==="direct"&&F.currentStock!==void 0&&a.jsxs("p",{className:`text-xs mb-2 ${Z?"text-red-600":P?"text-yellow-600":"text-gray-500"}`,children:["Estoque: ",F.currentStock]}),a.jsx("p",{className:`text-lg font-bold ${Z?"text-gray-400":"text-blue-600"}`,children:Me(E.price)})]})]},E.id)})})})]}),a.jsxs("div",{className:"w-96 bg-white border-l flex flex-col",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Carrinho"}),u.length>0&&a.jsx("button",{onClick:R,className:"text-red-600 hover:text-red-700 text-sm",children:"Limpar"})]})}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:u.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500",children:"Carrinho vazio"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Adicione itens do menu"})]}):a.jsx("div",{className:"space-y-4",children:u.map(E=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:E.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Me(E.price)," cada"]}),M[E.menu_item_id]&&a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(lm,{className:"h-4 w-4 text-yellow-500"}),a.jsx("p",{className:"text-xs text-yellow-600",children:M[E.menu_item_id]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>z(E.menu_item_id,E.quantity-1),className:"p-1 rounded hover:bg-gray-200",children:a.jsx(tO,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-8 text-center font-medium",children:E.quantity}),a.jsx("button",{onClick:()=>z(E.menu_item_id,E.quantity+1),className:"p-1 rounded hover:bg-gray-200",children:a.jsx(nO,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>K(E.menu_item_id),className:"p-1 rounded hover:bg-red-100 text-red-600 ml-2",children:a.jsx(lO,{className:"h-4 w-4"})})]})]},E.menu_item_id))})}),f&&a.jsx("div",{className:"p-4 border-t bg-blue-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900",children:f.name}),a.jsx("p",{className:"text-sm text-blue-700",children:"Membro - Desconto 10%"})]}),a.jsx("button",{onClick:()=>p(null),className:"text-blue-600 hover:text-blue-700",children:a.jsx(t0,{className:"h-5 w-5"})})]})}),u.length>0&&a.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[a.jsxs("button",{onClick:()=>A(!0),className:"w-full mb-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center space-x-2",children:[a.jsx(ed,{className:"h-5 w-5"}),a.jsx("span",{children:f?"Trocar Cliente":"Identificar Cliente"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:Me(V)})]}),J>0&&a.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsx("span",{children:"Desconto (10%):"}),a.jsxs("span",{children:["-",Me(J)]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:Me(Q)})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes do Cliente"}),a.jsx("textarea",{value:b,onChange:E=>w(E.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observaes especiais..."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes Internas"}),a.jsx("textarea",{value:g,onChange:E=>y(E.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observaes sobre o pedido..."})]}),a.jsx("button",{onClick:ne,disabled:k||u.length===0,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 font-medium",children:k?"Criando Pedido...":"Enviar para Caixa"})]})]})]}),a.jsx(hO,{isOpen:S,onClose:()=>A(!1),onSelectCustomer:E=>{p(E),A(!1)}})]})},mO={pending_payment:"Aguardando Pagamento",paid:"Pago",preparing:"Preparando",ready:"Pronto",delivered:"Entregue",cancelled:"Cancelado"},fO={pending_payment:"bg-yellow-100 text-yellow-800",paid:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",ready:"bg-green-100 text-green-800",delivered:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},fv=e=>`#${e.toString().padStart(4,"0")}`,pO=()=>{var k;const{pendingOrders:e,preparingOrders:t,readyOrders:n,updateOrderStatus:i,processPayment:l,loading:c,refreshData:u}=md(),{currentSession:h}=i1(),[f,p]=v.useState(!1),[g,y]=v.useState(null),[b,w]=v.useState("dinheiro"),[_,T]=v.useState(!1),N=async()=>{if(!(!g||!h)){T(!0);try{await l({order_id:g.id,payment_method:b,cash_session_id:h.id,amount_paid:g.final_amount}),p(!1),y(null)}catch(j){console.error("Erro ao processar pagamento:",j),alert("Erro ao processar pagamento. Tente novamente.")}finally{T(!1)}}},D=async j=>{try{await i(j,{status:"ready"})}catch(M){console.error("Erro ao marcar como pronto:",M),alert("Erro ao atualizar status. Tente novamente.")}},S=async j=>{try{await i(j,{status:"delivered"})}catch(M){console.error("Erro ao marcar como entregue:",M),alert("Erro ao atualizar status. Tente novamente.")}},A=({order:j})=>{var J;const M=fO[j.status],L=mO[j.status],I=(()=>{const Q=new Date(j.created_at);return Math.floor((new Date().getTime()-Q.getTime())/(1e3*60))})(),V=I>15;return a.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg shadow-md p-4 border-l-4 ${V?"border-red-500":j.status==="ready"?"border-green-500":"border-blue-500"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:fv(j.order_number)}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M}`,children:L})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(Pc,{className:"h-4 w-4"}),a.jsxs("span",{className:V?"text-red-600 font-medium":"",children:[I,"min"]})]})]}),(j.customer_name||j.customer_phone)&&a.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[j.customer_name&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ed,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:j.customer_name})]}),j.customer_phone&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Km,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:j.customer_phone})]})]})}),a.jsx("div",{className:"space-y-2 mb-3",children:(J=j.items)==null?void 0:J.map(Q=>{var B;return a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[Q.quantity,"x ",((B=Q.menu_item)==null?void 0:B.name)||"Item",Q.notes&&a.jsxs("span",{className:"text-gray-500 italic",children:[" - ",Q.notes]})]}),a.jsx("span",{className:"font-medium",children:Me(Q.total_price)})]},Q.id)})}),(j.customer_notes||j.notes)&&a.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 rounded",children:[j.customer_notes&&a.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[a.jsx(Y5,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsx("span",{className:"text-yellow-800",children:j.customer_notes})]}),j.notes&&a.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Obs. interna: ",j.notes]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-3 pt-2 border-t",children:[a.jsx("span",{className:"font-medium text-gray-900",children:"Total:"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:Me(j.final_amount)})]}),a.jsxs("div",{className:"flex space-x-2",children:[j.status==="pending_payment"&&a.jsx("button",{onClick:()=>{y(j),p(!0)},disabled:!h,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Receber Pagamento"}),j.status==="preparing"&&a.jsx("button",{onClick:()=>D(j.id),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 text-sm font-medium",children:"Marcar como Pronto"}),j.status==="ready"&&a.jsx("button",{onClick:()=>S(j.id),className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 text-sm font-medium",children:"Entregar ao Cliente"})]})]})};return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pedidos de Balco"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[h?a.jsx("div",{className:"bg-green-100 px-3 py-1 rounded-lg",children:a.jsx("span",{className:"text-green-800 text-sm font-medium",children:"Caixa Aberto"})}):a.jsx("div",{className:"bg-red-100 px-3 py-1 rounded-lg",children:a.jsx("span",{className:"text-red-800 text-sm font-medium",children:"Caixa Fechado"})}),a.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[a.jsx(hv,{className:"h-4 w-4"}),a.jsx("span",{children:"Atualizar"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-yellow-100 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"Aguardando Pagamento"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:e.length})]}),a.jsx(Pc,{className:"h-8 w-8 text-yellow-600"})]})}),a.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Preparando"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.length})]}),a.jsx(hv,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Prontos"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.length})]}),a.jsx(n1,{className:"h-8 w-8 text-green-600"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[e.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Aguardando Pagamento (",e.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(j=>a.jsx(A,{order:j},j.id))})]}),t.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Preparando (",t.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(j=>a.jsx(A,{order:j},j.id))})]}),n.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Prontos para Entrega (",n.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(j=>a.jsx(A,{order:j},j.id))})]}),e.length===0&&t.length===0&&n.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido pendente"}),a.jsx("p",{className:"text-gray-600",children:"Todos os pedidos foram processados e entregues."})]})]}),f&&g&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Receber Pagamento - ",fv(g.order_number)]}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(t0,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Resumo do Pedido"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[(k=g.items)==null?void 0:k.map(j=>{var M;return a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[j.quantity,"x ",(M=j.menu_item)==null?void 0:M.name]}),a.jsx("span",{children:Me(j.total_price)})]},j.id)}),a.jsxs("div",{className:"border-t pt-2 flex justify-between font-medium",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:Me(g.final_amount)})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pagamento"}),a.jsxs("select",{value:b,onChange:j=>w(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"dinheiro",children:"Dinheiro"}),a.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),a.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx("option",{value:"pix",children:"PIX"}),a.jsx("option",{value:"transferencia",children:"Transferncia"})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:N,disabled:_||!h,className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:_?"Processando...":"Confirmar Pagamento"})]})]})})]})},fd=()=>{const[e,t]=v.useState([]),[n,i]=v.useState(!0),[l,c]=v.useState(null),u=async()=>{try{i(!0);const{data:p,error:g}=await le.from("bar_tables").select("*").order("number");if(g)throw g;t(p||[])}catch(p){c(p instanceof Error?p.message:"Erro ao carregar mesas")}finally{i(!1)}},h=async(p,g)=>{try{const{error:y}=await le.from("bar_tables").update({status:g}).eq("id",p);if(y)throw y;t(b=>b.map(w=>w.id===p?{...w,status:g}:w))}catch(y){throw new Error(y instanceof Error?y.message:"Erro ao atualizar mesa")}},f=async(p,g,y)=>{try{const{error:b}=await le.from("bar_tables").update({position_x:g,position_y:y}).eq("id",p);if(b)throw b;t(w=>w.map(_=>_.id===p?{..._,position_x:g,position_y:y}:_))}catch(b){throw new Error(b instanceof Error?b.message:"Erro ao atualizar posio da mesa")}};return v.useEffect(()=>{u()},[]),{tables:e,loading:n,error:l,refetch:u,updateTableStatus:h,updateTablePosition:f}},o1=({isOpen:e,onClose:t,selectedTable:n,onComandaCreated:i})=>{const{user:l}=Xt(),{tables:c}=fd(),{createComanda:u}=ol(),[h,f]=v.useState({table_id:(n==null?void 0:n.id)||"",customer_id:"",customer_name:"",people_count:1,notes:""}),[p,g]=v.useState(""),[y,b]=v.useState([]),[w,_]=v.useState(!1),[T,N]=v.useState(!1),D=async k=>{if(!k.trim()){b([]);return}try{_(!0);const{data:j,error:M}=await le.from("bar_customers").select("*").or(`phone.ilike.%${k}%,name.ilike.%${k}%`).eq("status","active").limit(10);if(M)throw M;b(j||[])}catch(j){console.error("Erro ao buscar clientes:",j)}finally{_(!1)}},S=k=>{f(j=>({...j,customer_id:k.id,customer_name:k.name})),g(k.name),b([])},A=async k=>{if(k.preventDefault(),!!l)try{N(!0);const j={table_id:h.table_id||void 0,customer_id:h.customer_id||void 0,customer_name:h.customer_name||void 0,employee_id:l.id,people_count:h.people_count,notes:h.notes||void 0};await u(j),i&&i(),t(),f({table_id:"",customer_id:"",customer_name:"",people_count:1,notes:""}),g("")}catch(j){console.error("Erro ao criar comanda:",j),alert("Erro ao criar comanda. Tente novamente.")}finally{N(!1)}};return v.useEffect(()=>{n&&f(k=>({...k,table_id:n.id}))},[n]),v.useEffect(()=>{const k=setTimeout(()=>{D(p)},300);return()=>clearTimeout(k)},[p]),e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nova Comanda"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(at,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(cd,{className:"w-4 h-4 inline mr-1"}),"Mesa (opcional)"]}),a.jsxs("select",{value:h.table_id,onChange:k=>f(j=>({...j,table_id:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Balco (sem mesa)"}),c.filter(k=>k.status==="available").map(k=>a.jsxs("option",{value:k.id,children:["Mesa ",k.number," (",k.capacity," pessoas)"]},k.id))]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Kn,{className:"w-4 h-4 inline mr-1"}),"Cliente (opcional)"]}),a.jsx("input",{type:"text",value:p,onChange:k=>{g(k.target.value),k.target.value||f(j=>({...j,customer_id:"",customer_name:""}))},placeholder:"Buscar por telefone ou nome...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-40 overflow-y-auto",children:y.map(k=>a.jsxs("button",{type:"button",onClick:()=>S(k),className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100",children:[a.jsx("div",{className:"font-medium",children:k.name}),a.jsx("div",{className:"text-sm text-gray-600",children:k.phone})]},k.id))}),w&&a.jsx("div",{className:"absolute right-3 top-9",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),p&&!h.customer_id&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do cliente"}),a.jsx("input",{type:"text",value:h.customer_name,onChange:k=>f(j=>({...j,customer_name:k.target.value})),placeholder:"Digite o nome do cliente",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Wn,{className:"w-4 h-4 inline mr-1"}),"Nmero de pessoas"]}),a.jsx("input",{type:"number",min:"1",max:"20",value:h.people_count,onChange:k=>f(j=>({...j,people_count:parseInt(k.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),a.jsx("textarea",{value:h.notes,onChange:k=>f(j=>({...j,notes:k.target.value})),placeholder:"Observaes sobre a comanda...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:T,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:T?"Criando...":"Criar Comanda"})]})]})]})}):null},gO=({isOpen:e,onClose:t})=>{const{tables:n,updateTablePosition:i}=fd(),[l,c]=v.useState([]),[u,h]=v.useState({isDragging:!1,tableId:null,startX:0,startY:0,offsetX:0,offsetY:0}),[f,p]=v.useState(!1),g=v.useRef(null);v.useEffect(()=>{c([...n])},[n]);const y=(D,S)=>{var M;if(D.preventDefault(),!((M=g.current)==null?void 0:M.getBoundingClientRect()))return;const j=D.currentTarget.getBoundingClientRect();h({isDragging:!0,tableId:S.id,startX:D.clientX,startY:D.clientY,offsetX:D.clientX-j.left,offsetY:D.clientY-j.top})},b=D=>{if(!u.isDragging||!u.tableId||!g.current)return;const S=g.current.getBoundingClientRect(),A=(D.clientX-S.left-u.offsetX)/S.width*100,k=(D.clientY-S.top-u.offsetY)/S.height*100,j=Math.max(0,Math.min(95,A)),M=Math.max(0,Math.min(95,k));c(L=>L.map($=>$.id===u.tableId?{...$,position_x:j,position_y:M}:$))},w=()=>{h({isDragging:!1,tableId:null,startX:0,startY:0,offsetX:0,offsetY:0})},_=async()=>{try{p(!0);const D=l.map(S=>{const A=n.find(k=>k.id===S.id);return A&&(A.position_x!==S.position_x||A.position_y!==S.position_y)?i(S.id,S.position_x,S.position_y):Promise.resolve()});await Promise.all(D),t(),alert("Layout salvo com sucesso!")}catch(D){console.error("Erro ao salvar layout:",D),alert("Erro ao salvar layout. Tente novamente.")}finally{p(!1)}},T=()=>{c([...n])},N=D=>{switch(D){case"available":return"bg-green-500";case"occupied":return"bg-red-500";case"reserved":return"bg-yellow-500";case"cleaning":return"bg-gray-500";case"maintenance":return"bg-orange-500";default:return"bg-gray-400"}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(VA,{className:"w-6 h-6 text-gray-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Configurar Layout do Salo"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(at,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Instrues:"})," Arraste as mesas para reposicion-las no salo. As posies so salvas em porcentagem para se adaptar a diferentes tamanhos de tela."]})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{children:"Disponvel"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),a.jsx("span",{children:"Ocupada"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsx("span",{children:"Reservada"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded"}),a.jsx("span",{children:"Limpeza"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{children:"Manuteno"})]})]}),a.jsxs("div",{ref:g,className:"relative bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg h-96 overflow-hidden select-none",onMouseMove:b,onMouseUp:w,onMouseLeave:w,children:[l.map(D=>a.jsx("div",{className:`absolute w-12 h-12 rounded-lg border-2 border-white shadow-lg cursor-move flex items-center justify-center text-white font-bold text-xs transition-transform hover:scale-110 ${N(D.status)} ${u.tableId===D.id?"scale-110 shadow-xl":""}`,style:{left:`${D.position_x}%`,top:`${D.position_y}%`,zIndex:u.tableId===D.id?10:1},onMouseDown:S=>y(S,D),title:`Mesa ${D.number} - ${D.capacity} pessoas - ${D.status}`,children:D.number},D.id)),a.jsx("div",{className:"absolute top-2 left-2 text-xs text-gray-500 bg-white px-2 py-1 rounded",children:"Salo Principal"})]}),a.jsxs("div",{className:"flex justify-between items-center mt-6",children:[a.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:[a.jsx(zj,{className:"w-4 h-4"}),a.jsx("span",{children:"Resetar"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),a.jsxs("button",{onClick:_,disabled:f,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(Yc,{className:"w-4 h-4"}),a.jsx("span",{children:f?"Salvando...":"Salvar Layout"})]})]})]})]})]})}):null},xO=({isOpen:e,onClose:t,mesa:n,onStatusChange:i})=>{if(!e||!n)return null;const{getComandaByTable:l}=ol(),[c,u]=v.useState(null),[h,f]=v.useState(!1);v.useEffect(()=>{e&&n&&n.status==="occupied"&&p()},[e,n]);const p=async()=>{if(n)try{f(!0);const N=await l(n.id);u(N)}catch(N){console.error("Erro ao carregar detalhes da comanda:",N)}finally{f(!1)}},g=N=>new Date(N).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),y=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N),b=N=>{switch(N){case"available":return"text-green-600 bg-green-100";case"occupied":return"text-red-600 bg-red-100";case"reserved":return"text-yellow-600 bg-yellow-100";case"cleaning":return"text-gray-600 bg-gray-100";case"maintenance":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},w=N=>{switch(N){case"available":return"Disponvel";case"occupied":return"Ocupada";case"reserved":return"Reservada";case"cleaning":return"Limpeza";case"maintenance":return"Manuteno";default:return"Indefinido"}},_=N=>{n&&(i(n.id,N),t())},T=N=>{const D=new Date(N),A=new Date().getTime()-D.getTime(),k=Math.floor(A/(1e3*60*60)),j=Math.floor(A%(1e3*60*60)/(1e3*60));return k>0?`${k}h ${j}min`:`${j}min`};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Mesa ",n.number]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(n.status)}`,children:w(n.status)})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(at,{size:24})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Wn,{size:20,className:"text-gray-600"}),a.jsx("span",{className:"font-medium text-gray-900",children:"Capacidade"})]}),a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[n.capacity," pessoas"]})]}),n.status==="occupied"&&n.occupiedSince&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(zt,{size:20,className:"text-gray-600"}),a.jsx("span",{className:"font-medium text-gray-900",children:"Tempo de ocupao"})]}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:T(n.occupiedSince)})]})]}),n.status==="occupied"&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes da Comanda"}),h?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2",children:"Carregando comanda..."})]}):c?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Cliente"}),a.jsx("p",{className:"font-medium",children:c.customer_name||"No informado"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pessoas"}),a.jsx("p",{className:"font-medium",children:c.people_count||n.peopleCount||1})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Aberta em"}),a.jsx("p",{className:"font-medium",children:g(c.opened_at)})]})]})}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(es,{size:20,className:"text-green-600"}),a.jsx("span",{className:"font-medium text-gray-900",children:"Total da Comanda"})]}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:y(c.total)})]})}),c.items&&c.items.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Itens da Comanda (",c.items.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:c.items.map((N,D)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[N.quantity,"x Item #",N.menu_item_id]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Adicionado em ",g(N.added_at)]}),N.notes&&a.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Obs: ",N.notes]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-gray-900",children:y(N.price*N.quantity)}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N.status==="delivered"?"bg-green-100 text-green-800":N.status==="ready"?"bg-blue-100 text-blue-800":N.status==="preparing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:N.status==="delivered"?"Entregue":N.status==="ready"?"Pronto":N.status==="preparing"?"Preparando":"Pendente"})]})]},N.id))})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma comanda encontrada para esta mesa"})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aes Rpidas"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.status==="available"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>_("occupied"),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Ocupar Mesa"}),a.jsx("button",{onClick:()=>_("reserved"),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:"Reservar Mesa"})]}),n.status==="occupied"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>_("available"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Liberar Mesa"}),a.jsx("button",{onClick:()=>_("cleaning"),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Marcar para Limpeza"})]}),(n.status==="cleaning"||n.status==="reserved")&&a.jsx("button",{onClick:()=>_("available"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors col-span-2",children:"Liberar Mesa"})]})]})]})]})})},yO=()=>{const{tables:e,loading:t,updateTableStatus:n,refetch:i}=fd(),{comandas:l,refetch:c}=ol(),[u,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(!1),[b,w]=v.useState(null),[_,T]=v.useState([]);v.useEffect(()=>{const $=e.map(I=>{const V=l.find(Q=>Q.table_id===I.id&&Q.status==="open"),J=V?"occupied":I.status;return{...I,status:J,currentComanda:V,occupiedSince:V==null?void 0:V.opened_at,currentTotal:(V==null?void 0:V.total)||0,peopleCount:(V==null?void 0:V.people_count)||void 0}});T($)},[e,l]);const N=()=>{w(null),h(!0)},D=()=>{p(!0)},S=$=>{w($),$.status==="available"?h(!0):y(!0)},A=async($,I)=>{try{await n($,I)}catch(V){console.error("Erro ao atualizar status da mesa:",V)}},j=(()=>{const $={available:0,occupied:0,reserved:0,cleaning:0,maintenance:0};return _.forEach(I=>{I.status in $&&$[I.status]++}),$})(),M=$=>{switch($){case"available":return"bg-green-100 border-green-300 text-green-800 hover:bg-green-200";case"occupied":return"bg-red-100 border-red-300 text-red-800 hover:bg-red-200";case"reserved":return"bg-yellow-100 border-yellow-300 text-yellow-800 hover:bg-yellow-200";case"cleaning":return"bg-gray-100 border-gray-300 text-gray-800 hover:bg-gray-200";case"maintenance":return"bg-orange-100 border-orange-300 text-orange-800 hover:bg-orange-200";default:return"bg-gray-100 border-gray-300 text-gray-800 hover:bg-gray-200"}},L=$=>{switch($){case"available":return"";case"occupied":return"";case"reserved":return"";case"cleaning":return"";case"maintenance":return"";default:return"?"}};return a.jsxs("div",{className:"mesas-container space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Mesas"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[_.length," mesas configuradas"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Nova Comanda"})]}),a.jsxs("button",{onClick:()=>i(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(zj,{size:20}),a.jsx("span",{children:"Atualizar"})]}),a.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(Lj,{size:20}),a.jsx("span",{children:"Configurar Layout"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.available}),a.jsx("div",{className:"text-sm text-green-700",children:"Disponveis"})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.occupied}),a.jsx("div",{className:"text-sm text-red-700",children:"Ocupadas"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j.reserved}),a.jsx("div",{className:"text-sm text-yellow-700",children:"Reservadas"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:j.cleaning}),a.jsx("div",{className:"text-sm text-gray-700",children:"Limpeza"})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:j.maintenance}),a.jsx("div",{className:"text-sm text-orange-700",children:"Manuteno"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Layout do Salo"}),a.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:a.jsx("span",{children:"Clique nas mesas para gerenciar"})})]}),t?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2",children:"Carregando mesas..."})]}):a.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-4 p-4 bg-gray-50 rounded-lg min-h-96",children:[_.map($=>a.jsxs("div",{onClick:()=>S($),className:`
                  relative aspect-square rounded-lg border-2 cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg
                  flex flex-col items-center justify-center text-center p-2
                  ${M($.status)}
                `,children:[a.jsx("div",{className:"font-bold text-sm mb-1",children:$.number}),a.jsx("div",{className:"text-xs opacity-75",children:L($.status)}),$.currentComanda&&a.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:$.peopleCount||"!"}),a.jsxs("div",{className:"text-xs mt-1 opacity-60",children:[$.capacity,"p"]})]},$.id)),Array.from({length:Math.max(0,40-_.length)}).map(($,I)=>a.jsx("div",{className:"aspect-square rounded-lg border-2 border-dashed border-gray-200 flex items-center justify-center text-gray-400 text-xs",children:"Vazio"},`empty-${I}`))]})]}),a.jsx(o1,{isOpen:u,onClose:()=>{h(!1),w(null)},selectedTable:b,onComandaCreated:()=>{c()}}),a.jsx(gO,{isOpen:f,onClose:()=>p(!1)}),a.jsx(xO,{isOpen:g,onClose:()=>{y(!1),w(null)},mesa:b,onStatusChange:A})]})},bO=({comandas:e,onComandaClick:t,onDismissAlert:n})=>{const i=()=>{const f=new Date;return e.filter(p=>{if(p.status!=="open")return!1;const g=new Date(p.opened_at);return(f.getTime()-g.getTime())/(1e3*60*60)>2})},l=()=>{const f=new Date;return e.filter(p=>{if(p.status!=="open")return!1;const g=new Date(p.opened_at);return(f.getTime()-g.getTime())/(1e3*60*60)>4})},c=f=>{const p=new Date(f),y=new Date().getTime()-p.getTime(),b=Math.floor(y/(1e3*60*60)),w=Math.floor(y%(1e3*60*60)/(1e3*60));return b>0?`${b}h ${w}m`:`${w}m`},u=i(),h=l();return u.length===0?null:a.jsxs("div",{className:"mb-6 space-y-3",children:[h.map(f=>{var p,g;return a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hs,{className:"w-6 h-6 text-red-500"}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-red-800 font-semibold",children:["Comanda Crtica - ",((p=f.table)==null?void 0:p.number)||"Balco"]}),a.jsxs("p",{className:"text-red-700 text-sm",children:[((g=f.customer)==null?void 0:g.name)||f.customer_name||"Cliente no identificado","  Aberta h ",c(f.opened_at),"  R$ ",f.total.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>t(f),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Ver Detalhes"}),n&&a.jsx("button",{onClick:()=>n(f.id),className:"p-1 text-red-500 hover:bg-red-100 rounded transition-colors",children:a.jsx(at,{className:"w-4 h-4"})})]})]})},`critical-${f.id}`)}),u.filter(f=>!h.includes(f)).map(f=>{var p,g;return a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(zt,{className:"w-5 h-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-yellow-800 font-semibold",children:["Ateno - ",((p=f.table)==null?void 0:p.number)||"Balco"]}),a.jsxs("p",{className:"text-yellow-700 text-sm",children:[((g=f.customer)==null?void 0:g.name)||f.customer_name||"Cliente no identificado","  Aberta h ",c(f.opened_at),"  R$ ",f.total.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>t(f),className:"px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",children:"Ver Detalhes"}),n&&a.jsx("button",{onClick:()=>n(f.id),className:"p-1 text-yellow-500 hover:bg-yellow-100 rounded transition-colors",children:a.jsx(at,{className:"w-4 h-4"})})]})]})},`warning-${f.id}`)}),u.length>3&&a.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded-lg text-center",children:a.jsxs("p",{className:"text-gray-600 text-sm",children:[u.length," comandas com tempo excessivo ",h.length," crticas"]})})]})},vO=({searchTerm:e,onSearchChange:t,statusFilter:n,onStatusFilterChange:i,employeeFilter:l,onEmployeeFilterChange:c,tableFilter:u,onTableFilterChange:h,timeFilter:f,onTimeFilterChange:p,employees:g,tables:y,onClearFilters:b})=>{var N,D;const w=e||n!=="all"||l||u||f!=="all",_=S=>{switch(S){case"all":return"Todos os Status";case"open":return"Abertas";case"pending_payment":return"Aguardando Pagamento";case"closed":return"Fechadas";case"cancelled":return"Canceladas";default:return S}},T=S=>{switch(S){case"all":return"Todos os Tempos";case"recent":return"Recentes (< 1h)";case"overdue":return"Atrasadas (> 2h)";case"critical":return"Crticas (> 4h)";default:return S}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Rj,{className:"w-5 h-5 text-gray-500"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),w&&a.jsxs("button",{onClick:b,className:"flex items-center space-x-1 px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(at,{className:"w-4 h-4"}),a.jsx("span",{children:"Limpar Filtros"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"xl:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",value:e,onChange:S=>t(S.target.value),placeholder:"Mesa, cliente ou funcionrio...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:n,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Status"}),a.jsx("option",{value:"open",children:"Abertas"}),a.jsx("option",{value:"pending_payment",children:"Aguardando Pagamento"}),a.jsx("option",{value:"closed",children:"Fechadas"}),a.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funcionrio"}),a.jsxs("select",{value:l,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Todos os Funcionrios"}),g.map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesa"}),a.jsxs("select",{value:u,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Todas as Mesas"}),a.jsx("option",{value:"balcao",children:"Balco"}),y.map(S=>a.jsxs("option",{value:S.id,children:["Mesa ",S.number]},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo"}),a.jsxs("select",{value:f,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Tempos"}),a.jsx("option",{value:"recent",children:"Recentes (< 1h)"}),a.jsx("option",{value:"overdue",children:"Atrasadas (> 2h)"}),a.jsx("option",{value:"critical",children:"Crticas (> 4h)"})]})]})]}),w&&a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:['Busca: "',e,'"',a.jsx("button",{onClick:()=>t(""),className:"ml-1 p-0.5 hover:bg-blue-200 rounded-full",children:a.jsx(at,{className:"w-3 h-3"})})]}),n!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:["Status: ",_(n),a.jsx("button",{onClick:()=>i("all"),className:"ml-1 p-0.5 hover:bg-green-200 rounded-full",children:a.jsx(at,{className:"w-3 h-3"})})]}),l&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:["Funcionrio: ",(N=g.find(S=>S.id===l))==null?void 0:N.name,a.jsx("button",{onClick:()=>c(""),className:"ml-1 p-0.5 hover:bg-purple-200 rounded-full",children:a.jsx(at,{className:"w-3 h-3"})})]}),u&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:["Mesa: ",u==="balcao"?"Balco":(D=y.find(S=>S.id===u))==null?void 0:D.number,a.jsx("button",{onClick:()=>h(""),className:"ml-1 p-0.5 hover:bg-orange-200 rounded-full",children:a.jsx(at,{className:"w-3 h-3"})})]}),f!=="all"&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:["Tempo: ",T(f),a.jsx("button",{onClick:()=>p("all"),className:"ml-1 p-0.5 hover:bg-red-200 rounded-full",children:a.jsx(at,{className:"w-3 h-3"})})]})]})]})},l1=()=>{const{user:e}=Xt(),[t,n]=v.useState({mesas:[],comandas:[],metricas:null,notificacoes:[],loading:!0,error:null}),i=v.useCallback(V=>{n(J=>({...J,...V}))},[]),l=v.useCallback((V,J)=>{console.error(`Erro em ${J}:`,V),i({error:`Erro em ${J}: ${V.message||"Erro desconhecido"}`,loading:!1})},[i]),c=v.useCallback(async()=>{if(e)try{i({loading:!0,error:null});const{data:V,error:J}=await le.from("bar_tables").select(`
          *,
          comandas!comandas_table_id_fkey(
            id,
            customer_name,
            people_count,
            total,
            opened_at,
            status,
            comanda_items(
              id,
              quantity,
              price,
              status
            )
          )
        `).order("number");if(J)throw J;const Q=(V==null?void 0:V.map(q=>{var E;const ne=(E=q.comandas)==null?void 0:E.find(F=>F.status==="open");return{...q,currentComanda:ne||void 0,occupiedSince:(ne==null?void 0:ne.opened_at)||void 0,currentTotal:(ne==null?void 0:ne.total)||0,peopleCount:(ne==null?void 0:ne.people_count)||0}}))||[],{data:B,error:Y}=await le.from("comandas").select(`
          *,
          bar_tables(number, capacity),
          bar_customers(name, phone),
          comanda_items(
            *,
            menu_items(name, price, category)
          )
        `).in("status",["open","pending_payment"]).order("opened_at",{ascending:!1});if(Y)throw Y;const K=(B==null?void 0:B.map(q=>({...q,items:q.comanda_items||[],table:q.bar_tables||void 0,customer:q.bar_customers||void 0})))||[],{data:z,error:R}=await le.from("attendance_metrics").select("*").eq("employee_id",e.id).eq("date",new Date().toISOString().split("T")[0]).maybeSingle();R&&console.warn("Erro ao carregar mtricas:",R),i({mesas:Q,comandas:K,metricas:z||null,loading:!1})}catch(V){l(V,"carregamento inicial")}},[e,i,l]);v.useEffect(()=>{if(!e)return;const V=[],J=le.channel("bar-tables-changes").on("postgres_changes",{event:"*",schema:"public",table:"bar_tables"},Y=>{console.log("Mudana em mesas:",Y),c()}).subscribe();V.push(J);const Q=le.channel("comandas-changes").on("postgres_changes",{event:"*",schema:"public",table:"comandas"},Y=>{console.log("Mudana em comandas:",Y),c()}).subscribe();V.push(Q);const B=le.channel("comanda-items-changes").on("postgres_changes",{event:"*",schema:"public",table:"comanda_items"},Y=>{console.log("Mudana em itens de comanda:",Y),c()}).subscribe();return V.push(B),()=>{V.forEach(Y=>le.removeChannel(Y))}},[e,c]),v.useEffect(()=>{e&&c()},[e,c]);const u=v.useCallback(async(V,J,Q)=>{if(!e)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const{data:B,error:Y}=await le.from("comandas").insert({table_id:V||null,customer_name:J||null,people_count:Q||1,employee_id:e.id,status:"open",opened_at:new Date().toISOString(),total:0}).select().single();if(Y)throw Y;return V&&await f(V,"occupied"),await c(),B.id}catch(B){throw l(B,"criao de comanda"),B}},[e,i,l,c]),h=v.useCallback(async(V,J)=>{try{i({loading:!0,error:null});const{error:Q}=await le.from("comandas").update({...J,updated_at:new Date().toISOString()}).eq("id",V);if(Q)throw Q;await c()}catch(Q){throw l(Q,"atualizao de comanda"),Q}},[i,l,c]),f=v.useCallback(async(V,J)=>{try{const{error:Q}=await le.from("bar_tables").update({status:J,updated_at:new Date().toISOString()}).eq("id",V);if(Q)throw Q;await c()}catch(Q){throw l(Q,"atualizao de status da mesa"),Q}},[l,c]),p=v.useCallback(async V=>{try{await f(V,"cleaning"),setTimeout(async()=>{await f(V,"available")},5*60*1e3)}catch(J){throw l(J,"liberao de mesa"),J}},[f,l]),g=v.useCallback(async V=>{if(e)try{const J=new Date().toISOString().split("T")[0],{data:Q,error:B}=await le.from("attendance_metrics").select("*").eq("employee_id",e.id).eq("date",J).single();if(B&&B.code!=="PGRST116")throw B;if(Q){const{error:Y}=await le.from("attendance_metrics").update({total_sales:(Q.total_sales||0)+V,orders_count:(Q.orders_count||0)+1,comandas_count:(Q.comandas_count||0)+1,updated_at:new Date().toISOString()}).eq("id",Q.id);if(Y)throw Y}else{const{error:Y}=await le.from("attendance_metrics").insert({employee_id:e.id,date:J,total_sales:V,orders_count:1,comandas_count:1});if(Y)throw Y}}catch(J){console.error("Erro ao atualizar mtricas de venda:",J)}},[e]),y=v.useCallback(async(V,J,Q)=>{try{i({loading:!0,error:null});const{data:B,error:Y}=await le.from("comandas").select("table_id, total").eq("id",V).single();if(Y)throw Y;const{error:K}=await le.from("comandas").update({status:"closed",closed_at:new Date().toISOString(),payment_method:J,notes:Q,updated_at:new Date().toISOString()}).eq("id",V);if(K)throw K;B.table_id&&await p(B.table_id),await g(B.total||0),await c()}catch(B){throw l(B,"fechamento de comanda"),B}},[i,l,c,p,g]),b=v.useCallback(async(V,J,Q,B)=>{try{i({loading:!0,error:null});const{data:Y,error:K}=await le.from("menu_items").select("price").eq("id",J).single();if(K)throw K;const{error:z}=await le.from("comanda_items").insert({comanda_id:V,menu_item_id:J,quantity:Q,price:Y.price,notes:B,status:"pending",added_at:new Date().toISOString()});if(z)throw z;const{data:R,error:q}=await le.from("comanda_items").select("quantity, price").eq("comanda_id",V);if(q)throw q;const ne=R.reduce((E,F)=>E+F.quantity*F.price,0);await h(V,{total:ne})}catch(Y){throw l(Y,"adio de item  comanda"),Y}},[i,l,h]),w=v.useCallback(async V=>{try{i({loading:!0,error:null});const{data:J,error:Q}=await le.from("comanda_items").select("comanda_id").eq("id",V).single();if(Q)throw Q;const{error:B}=await le.from("comanda_items").delete().eq("id",V);if(B)throw B;const{data:Y,error:K}=await le.from("comanda_items").select("quantity, price").eq("comanda_id",J.comanda_id);if(K)throw K;const z=Y.reduce((R,q)=>R+q.quantity*q.price,0);await h(J.comanda_id,{total:z})}catch(J){throw l(J,"remoo de item da comanda"),J}},[i,l,h]),_=v.useCallback(async(V,J)=>{try{const Q={status:J,updated_at:new Date().toISOString()};J==="ready"?Q.prepared_at=new Date().toISOString():J==="delivered"&&(Q.delivered_at=new Date().toISOString());const{error:B}=await le.from("comanda_items").update(Q).eq("id",V);if(B)throw B;await c()}catch(Q){throw l(Q,"atualizao de status do item"),Q}},[l,c]),T=v.useCallback(async(V,J)=>{try{await f(V,"occupied"),J&&await h(J,{table_id:V})}catch(Q){throw l(Q,"ocupao de mesa"),Q}},[f,h,l]),N=v.useCallback(async(V,J,Q)=>{try{const{error:B}=await le.from("bar_tables").update({status:"reserved",notes:`Reservado para ${J} s ${Q.toLocaleTimeString()}`,updated_at:new Date().toISOString()}).eq("id",V);if(B)throw B;await c()}catch(B){throw l(B,"reserva de mesa"),B}},[l,c]),D=v.useCallback(async V=>{try{await f(V,"available")}catch(J){throw l(J,"limpeza de mesa"),J}},[f,l]),S=v.useCallback(async V=>{var J;if(!e)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const{data:Q,error:B}=await le.from("comandas").insert({customer_name:((J=V.customer)==null?void 0:J.name)||"Cliente Balco",employee_id:e.id,status:"closed",opened_at:new Date().toISOString(),closed_at:new Date().toISOString(),total:V.total,payment_method:V.payment_method||"dinheiro",notes:V.notes}).select().single();if(B)throw B;const Y=V.items.map(z=>({comanda_id:Q.id,menu_item_id:z.menu_item_id,quantity:z.quantity,price:z.price,notes:z.notes,status:"delivered",added_at:new Date().toISOString(),delivered_at:new Date().toISOString()})),{error:K}=await le.from("comanda_items").insert(Y);if(K)throw K;return await g(V.total),await c(),Q.id}catch(Q){throw l(Q,"processamento de pedido do balco"),Q}},[e,i,l,c]),A=v.useCallback(async(V,J)=>{if(!e)throw new Error("Usurio no autenticado");try{i({loading:!0,error:null});const{error:Q}=await le.from("bill_splits").insert({comanda_id:V,split_type:J.type,person_count:J.person_count,splits:J.splits,total_amount:J.splits.reduce((B,Y)=>B+Y.total,0),service_charge:J.service_charge_percentage||0,discount_amount:J.discount_amount||0,created_by:e.id});if(Q)throw Q;await c()}catch(Q){throw l(Q,"diviso de conta"),Q}},[e,i,l,c]),k=v.useCallback(async()=>{if(e)try{const V=new Date().toISOString().split("T")[0],{data:J}=await le.from("attendance_metrics").select("*").eq("employee_id",e.id).eq("date",V).single(),{data:Q}=await le.from("comandas").select("total, opened_at, closed_at").eq("employee_id",e.id).gte("opened_at",`${V}T00:00:00`).lt("opened_at",`${V}T23:59:59`),B=(Q==null?void 0:Q.reduce((z,R)=>z+(R.total||0),0))||0,Y=(Q==null?void 0:Q.length)||0,K={employee_id:e.id,date:V,comandas_count:Y,total_sales:B,orders_count:Y,updated_at:new Date().toISOString()};if(J){const{error:z}=await le.from("attendance_metrics").update(K).eq("id",J.id);if(z)throw z}else{const{error:z}=await le.from("attendance_metrics").insert(K);if(z)throw z}await c()}catch(V){l(V,"atualizao de mtricas")}},[e,l,c]),j=v.useCallback(async V=>{i({notificacoes:t.notificacoes.map(J=>J.id===V?{...J,read:!0}:J)})},[t.notificacoes,i]),M=v.useCallback(async()=>{i({notificacoes:[]})},[i]),L=v.useCallback(async()=>{await c()},[c]),$=v.useCallback(V=>t.comandas.find(J=>J.table_id===V&&J.status==="open"),[t.comandas]),I=v.useCallback(V=>t.mesas.find(J=>J.number===V),[t.mesas]);return{...t,criarComanda:u,atualizarComanda:h,fecharComanda:y,adicionarItemComanda:b,removerItemComanda:w,atualizarStatusItem:_,ocuparMesa:T,liberarMesa:p,reservarMesa:N,limparMesa:D,atualizarStatusMesa:f,processarPedidoBalcao:S,dividirConta:A,atualizarMetricas:k,marcarNotificacaoLida:j,limparNotificacoes:M,recarregarDados:L,obterComandaPorMesa:$,obterMesaPorNumero:I}},wO=()=>{var Ae,ze;const{comandas:e,loading:t,refetch:n}=ol(),{tables:i}=fd(),[l,c]=v.useState(""),[u,h]=v.useState("all"),[f,p]=v.useState(""),[g,y]=v.useState(""),[b,w]=v.useState("all"),[_,T]=v.useState(!1),[N,D]=v.useState(null),[S,A]=v.useState(new Set),[k,j]=v.useState("list"),[M,L]=v.useState([]),[$,I]=v.useState("all"),[V,J]=v.useState(""),[Q,B]=v.useState(!1),[Y,K]=v.useState(!1),[z,R]=v.useState(""),[q,ne]=v.useState(!1),[E,F]=v.useState(!1),{menuItems:P,loading:Z}=r1(!0),{adicionarItemComanda:ue,fecharComanda:ye}=l1(),{refreshBarOrders:fe,refreshKitchenOrders:oe}=mt();v.useEffect(()=>{if(N&&e.length>0){const re=e.find(Oe=>Oe.id===N.id);re&&(console.log(" Atualizando comanda selecionada com novos dados:",re),D(re))}},[e,N==null?void 0:N.id]);const me=()=>{T(!0)},ke=re=>{D(re),j("details")},Ge=()=>{j("list"),D(null),L([])},ct=re=>{console.log("Adicionando item ao carrinho:",re);const Oe=M.findIndex(qe=>qe.menu_item_id===re.id);if(Oe>=0){const qe=[...M];qe[Oe].quantity+=1,L(qe),console.log("Item j existia, quantidade atualizada:",qe)}else{const qe={menu_item_id:re.id,name:re.name,price:typeof re.price=="string"?parseFloat(re.price):re.price,quantity:1,notes:""},Kt=[...M,qe];L(Kt),console.log("Novo item adicionado ao carrinho:",Kt)}},bt=(re,Oe)=>{Oe<=0?L(M.filter(qe=>qe.menu_item_id!==re)):L(M.map(qe=>qe.menu_item_id===re?{...qe,quantity:Oe}:qe))},Lt=()=>M.reduce((re,Oe)=>re+Oe.price*Oe.quantity,0),ds=async()=>{if(console.log(" Boto clicado! Iniciando adio de itens  comanda"),console.log("Comanda selecionada:",N),console.log("Itens no carrinho:",M),!N){console.error(" Nenhuma comanda selecionada");return}if(M.length===0){console.error(" Carrinho vazio");return}B(!0);try{console.log(" Adicionando",M.length,"itens  comanda",N.id);for(const Oe of M)console.log(" Adicionando item:",Oe),await ue(N.id,Oe.menu_item_id,Oe.quantity,Oe.notes||""),console.log(" Item adicionado com sucesso");console.log(" Limpando carrinho");const re=M.length;L([]),console.log(" Atualizando dados"),await n(),console.log(" Dados atualizados, comanda selecionada ser atualizada automaticamente"),console.log(" Forando atualizao dos pedidos do bar e cozinha..."),await fe(),await oe(),console.log(" Pedidos do bar e cozinha atualizados"),R(` ${re} ${re===1?"item adicionado":"itens adicionados"} com sucesso!`),K(!0),setTimeout(()=>{K(!1)},3e3),console.log(" Processo concludo com sucesso!")}catch(re){console.error(" Erro ao adicionar itens  comanda:",re),R(" Erro ao adicionar itens  comanda"),K(!0),setTimeout(()=>{K(!1)},3e3)}finally{B(!1)}},Oa=async(re,Oe)=>{if(N){F(!0);try{console.log(" Fechando comanda:",N.id,"Mtodo:",re),await ye(N.id,re,Oe),console.log(" Comanda fechada com sucesso"),await n(),await fe(),await oe(),j("list"),D(null),L([]),ne(!1),R(" Comanda fechada e enviada para o caixa!"),K(!0),setTimeout(()=>{K(!1)},3e3)}catch(qe){console.error(" Erro ao fechar comanda:",qe),R(" Erro ao fechar comanda"),K(!0),setTimeout(()=>{K(!1)},3e3)}finally{F(!1)}}},gn=re=>{A(Oe=>new Set([...Oe,re]))},St=v.useMemo(()=>e.filter(re=>{var ws,Ys,Xs,xn,vi,wi;const Oe=!l||((ws=re.customer_name)==null?void 0:ws.toLowerCase().includes(l.toLowerCase()))||((Xs=(Ys=re.table)==null?void 0:Ys.number)==null?void 0:Xs.toString().includes(l))||re.id.toLowerCase().includes(l.toLowerCase()),qe=u==="all"||re.status===u,Kt=!f||((xn=re.employee_name)==null?void 0:xn.toLowerCase().includes(f.toLowerCase())),Ft=!g||((wi=(vi=re.table)==null?void 0:vi.number)==null?void 0:wi.toString().includes(g)),us=(()=>{if(b==="all")return!0;const ji=new Date(re.opened_at),_i=(new Date().getTime()-ji.getTime())/(1e3*60*60);switch(b){case"recent":if(_i>=1)return!1;break;case"overdue":if(_i<=2)return!1;break;case"critical":if(_i<=4)return!1;break}return!0})();return Oe&&qe&&Kt&&Ft&&us}),[e,l,u,f,g,b]),Da=St.filter(re=>re.status==="open"),Rs=St.filter(re=>re.status==="pending_payment"),H=St.filter(re=>{if(re.status!=="open")return!1;const Oe=new Date(re.opened_at);return(new Date().getTime()-Oe.getTime())/(1e3*60*60)>2}),te=H.filter(re=>!S.has(re.id)),X=re=>new Date(re).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),pe=re=>{switch(re){case"open":return"Aberta";case"pending_payment":return"Aguardando Pagamento";case"closed":return"Fechada";default:return re}},xe=[...new Set(P.map(re=>re.category))],ge=P.filter(re=>{const Oe=$==="all"||re.category===$,qe=re.name.toLowerCase().includes(V.toLowerCase());return Oe&&qe&&re.available});if(console.log("Estado atual do carrinho:",M),console.log("Carrinho tem itens?",M.length>0),console.log(" Debug boto Fechar Conta:",{selectedComanda:!!N,status:N==null?void 0:N.status,shouldShow:(N==null?void 0:N.status)==="open"}),k==="details"&&N)return a.jsxs("div",{className:"comanda-details-container h-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-white flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:Ge,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(If,{size:20}),a.jsx("span",{children:"Voltar para Comandas"})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Mesa ",((Ae=N.table)==null?void 0:Ae.number)||"N/A"," - ",N.customer_name||"Cliente"]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Aberta em ",X(N.opened_at)]}),a.jsx("div",{className:"bg-green-100 px-4 py-2 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total da Comanda:"}),a.jsxs("span",{className:"text-xl font-bold text-green-900",children:["R$ ",((ze=N.total)==null?void 0:ze.toFixed(2))||"0,00"]})]})})]})]})]}),a.jsx("div",{className:"flex flex-col space-y-2",children:a.jsxs("button",{onClick:()=>ne(!0),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center space-x-2",children:[a.jsx(ld,{size:20}),a.jsx("span",{children:"Fechar Conta"})]})})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"flex-1 relative",children:a.jsx("input",{type:"text",placeholder:"Buscar itens...",value:V,onChange:re=>J(re.target.value),className:"w-full pl-4 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsxs("select",{value:$,onChange:re=>I(re.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todas as Categorias"}),xe.map(re=>a.jsx("option",{value:re,children:re},re))]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:Z?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):ge.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500 mb-2",children:"Nenhum item encontrado"})}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ge.map(re=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow group",children:[a.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center group-hover:bg-gray-200 transition-colors",children:[re.image_url?a.jsx("img",{src:re.image_url,alt:re.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:Oe=>{Oe.currentTarget.style.display="none",Oe.currentTarget.nextElementSibling.style.display="block"}}):null,a.jsx("div",{className:"text-gray-400 text-2xl",style:{display:re.image_url?"none":"block"},children:""})]}),a.jsx("h3",{className:"font-medium text-gray-900 mb-1 line-clamp-2",children:re.name}),a.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:re.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",(typeof re.price=="string"?parseFloat(re.price):re.price).toFixed(2)]}),a.jsx("button",{onClick:()=>ct(re),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",title:`Adicionar ${re.name}`,children:a.jsx(vs,{size:16})})]})]},re.id))})})]}),a.jsxs("div",{className:"w-96 bg-gray-50 border-l border-gray-200 flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pedidos da Comanda"})})}),(N==null?void 0:N.items)&&N.items.length>0&&a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("div",{className:"p-4 bg-blue-50",children:[a.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Itens j pedidos (",N.items.length,")",a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(Debug: ",new Date().toLocaleTimeString(),")"]})]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:N.items.map(re=>{var Oe;return a.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:((Oe=re.menu_item)==null?void 0:Oe.name)||"Item no encontrado"}),a.jsxs("p",{className:"text-xs text-gray-600",children:["R$ ",re.price.toFixed(2)," cada"]})]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${re.status==="pending"?"bg-yellow-100 text-yellow-800":re.status==="preparing"?"bg-blue-100 text-blue-800":re.status==="ready"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:re.status==="pending"?"Pendente":re.status==="preparing"?"Preparando":re.status==="ready"?"Pronto":re.status==="delivered"?"Entregue":re.status})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Qtd: ",re.quantity]}),a.jsxs("span",{className:"font-medium text-green-600 text-sm",children:["R$ ",(re.price*re.quantity).toFixed(2)]})]}),re.notes&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Obs: ",re.notes]})]},re.id)})})]})}),a.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Novos Itens (",M.length,")"]}),M.length>0&&a.jsx("button",{onClick:()=>L([]),className:"text-xs text-red-600 hover:text-red-800",children:"Limpar"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 min-h-0",children:M.length===0?a.jsxs("div",{className:"text-center text-gray-500 py-4 h-full flex flex-col items-center justify-center",children:[a.jsx(Go,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"Nenhum item novo selecionado"})]}):a.jsxs("div",{className:"space-y-4",children:[M.map(re=>a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:re.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",re.price.toFixed(2)," cada"]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>bt(re.menu_item_id,re.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:a.jsx(ui,{size:14})}),a.jsx("span",{className:"w-8 text-center font-medium",children:re.quantity}),a.jsx("button",{onClick:()=>bt(re.menu_item_id,re.quantity+1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:a.jsx(vs,{size:14})})]}),a.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",(re.price*re.quantity).toFixed(2)]})]})]},re.menu_item_id)),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200 mb-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-green-800",children:"Total dos Novos Itens:"}),a.jsxs("span",{className:"text-3xl font-bold text-green-900",children:["R$ ",Lt().toFixed(2)]})]})}),a.jsx("button",{onClick:ds,disabled:Q,className:`w-full py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 ${Q?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:Q?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),a.jsx("span",{children:"Adicionando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(vs,{size:20}),a.jsx("span",{children:"Adicionar  Comanda"})]})}),Y&&a.jsx("div",{className:`mt-3 p-3 rounded-lg text-sm font-medium text-center transition-all duration-300 ${z.includes("")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:z})]})]})})]})]}),a.jsx(jO,{isOpen:q,onClose:()=>ne(!1),comanda:N,onConfirm:Oa,isLoading:E})]});return a.jsxs("div",{className:"comandas-container",children:[a.jsx(bO,{comandas:te,onComandaClick:ke,onDismissAlert:gn}),a.jsx(vO,{searchTerm:l,onSearchChange:c,statusFilter:u,onStatusFilterChange:h,employeeFilter:f,onEmployeeFilterChange:p,tableFilter:g,onTableFilterChange:y,timeFilter:b,onTimeFilterChange:w,employees:[],tables:i||[],onClearFilters:()=>{c(""),h("all"),p(""),y(""),w("all")}}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Da.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Abertas"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Rs.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Aguardando Pagamento"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:H.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Com Atraso"})]})]}),a.jsx("button",{onClick:me,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"+ Nova Comanda"})]}),a.jsx("div",{className:"bg-white rounded-lg border",children:t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funcionrio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abertura"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:St.map(re=>{var Kt,Ft;const Oe=je(re.opened_at),qe=new Date().getTime()-new Date(re.opened_at).getTime()>2*60*60*1e3;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[((Kt=re.table)==null?void 0:Kt.number)||"Balco",re.customer_name&&a.jsx("div",{className:"text-xs text-gray-500",children:re.customer_name})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${re.status==="open"?"bg-green-100 text-green-800":re.status==="pending_payment"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:pe(re.status)}),qe&&re.status==="open"&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:" Atrasada"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.employee_name||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[X(re.opened_at),a.jsxs("div",{className:`text-xs ${qe?"text-red-600 font-medium":"text-gray-400"}`,children:[Oe," decorrido"]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["R$ ",((Ft=re.total)==null?void 0:Ft.toFixed(2))||"0,00"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("button",{onClick:()=>ke(re),className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:[a.jsx(nl,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})})]},re.id)})})]})})}),a.jsx(o1,{isOpen:_,onClose:()=>T(!1),onComandaCreated:()=>{n()}}),console.log(" Debug modal:",{showCloseModal:q,selectedComanda:!!N,viewMode:k}),Y&&k==="list"&&a.jsx("div",{className:"fixed top-4 right-4 z-50",children:a.jsx("div",{className:`p-4 rounded-lg shadow-lg ${z.includes("")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"}`,children:z})})]});function je(re){const Oe=new Date(re),Kt=new Date().getTime()-Oe.getTime(),Ft=Math.floor(Kt/(1e3*60*60)),us=Math.floor(Kt%(1e3*60*60)/(1e3*60));return Ft>0?`${Ft}h ${us}min`:`${us}min`}},jO=({isOpen:e,onClose:t,comanda:n,onConfirm:i,isLoading:l})=>{var g,y;const[c,u]=v.useState("dinheiro"),[h,f]=v.useState("");if(console.log(" CloseComandaModal renderizado:",{isOpen:e,comanda:!!n,isLoading:l}),!e)return console.log(" Modal no est aberto, retornando null"),null;console.log(" Modal est aberto, renderizando interface");const p=b=>{b.preventDefault(),i(c,h)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Fechar Conta"}),a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:["Mesa ",((g=n.table)==null?void 0:g.number)||"N/A"," - ",n.customer_name||"Cliente"]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Total da conta:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",((y=n.total)==null?void 0:y.toFixed(2))||"0,00"]})]})]}),a.jsxs("form",{onSubmit:p,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pagamento"}),a.jsxs("select",{value:c,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"dinheiro",children:"Dinheiro"}),a.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),a.jsx("option",{value:"pix",children:"PIX"}),a.jsx("option",{value:"vale_refeicao",children:"Vale Refeio"}),a.jsx("option",{value:"outros",children:"Outros"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes (opcional)"}),a.jsx("textarea",{value:h,onChange:b=>f(b.target.value),placeholder:"Observaes sobre o pagamento...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"button",onClick:t,disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Fechando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(ld,{size:16}),a.jsx("span",{children:"Fechar Conta"})]})})]})]})]})})})},_O=()=>{const{user:e}=Xt(),[t,n]=v.useState([]),[i,l]=v.useState({orderQueue:[],alerts:[],loading:!0,error:null}),c=v.useCallback(K=>{l(z=>({...z,...K}))},[]),u=v.useCallback((K,z)=>{console.error(`Erro em ${z}:`,K),c({error:`Erro em ${z}: ${K.message||"Erro desconhecido"}`,loading:!1})},[c]),h=v.useCallback(async()=>{if(e)try{c({loading:!0,error:null});const{data:K,error:z}=await le.rpc("get_order_queue_items");if(z)throw z;const R=(K||[]).map(ne=>{const E=w([ne]);return{...ne,priority:{level:E.priorityLevel,complexity:_(E.finalEstimate),estimatedTime:E.finalEstimate,isManuallyPrioritized:ne.is_priority||!1,createdAt:new Date(ne.added_at),timerStatus:f(new Date(ne.added_at),E.finalEstimate),alertsEnabled:!0}}}),q=k(R);c({orderQueue:q,loading:!1})}catch(K){u(K,"carregamento da fila de pedidos")}},[e,c,u]),f=(K,z)=>{const q=(new Date().getTime()-K.getTime())/(1e3*60),ne=z*.8,E=z*1.2;return q>=E?"overdue":q>=ne?"warning":"normal"},p={bebidas:{baseTime:2,complexity:"simple"},drinks:{baseTime:3,complexity:"simple"},petiscos:{baseTime:8,complexity:"medium"},pratos:{baseTime:15,complexity:"complex"},sobremesas:{baseTime:5,complexity:"simple"},cafes:{baseTime:3,complexity:"simple"}},g={simple:1,medium:1.3,complex:1.8},y=v.useCallback(K=>{let z=0,R="simple",q=0;K.forEach(P=>{var Z,ue;if(P.menu_items){const ye=P.menu_items.category.toLowerCase(),fe=P.menu_items.preparation_time||0,oe=fe>0?fe:((Z=p[ye])==null?void 0:Z.baseTime)||8;z+=oe*P.quantity;const me=((ue=p[ye])==null?void 0:ue.complexity)||"medium";b(me)>b(R)&&(R=me),ye==="pratos"&&(q+=2),ye==="petiscos"&&(q+=1)}});const ne=g[R],E=Math.ceil((z+q)*ne);let F="low";return E>=20?F="high":E>=12?F="medium":F="low",{baseTime:z,complexityMultiplier:ne,categoryBonus:q,finalEstimate:E,priorityLevel:F}},[]),b=K=>{switch(K){case"simple":return 1;case"medium":return 2;case"complex":return 3;default:return 1}},w=v.useCallback((K,z=!1,R)=>{const q=y(K);return{level:z&&R?R:q.priorityLevel,complexity:_(q.finalEstimate),estimatedTime:q.finalEstimate,isManuallyPrioritized:z,createdAt:new Date,timerStatus:"normal",alertsEnabled:!0}},[y]),_=K=>K>=15?"complex":K>=8?"medium":"simple",T=v.useCallback((K,z)=>{const R={id:K,startTime:new Date,estimatedTime:z,status:"normal",alertsSent:[]};n(q=>[...q.filter(ne=>ne.id!==K),R])},[]),N=v.useCallback(K=>{n(z=>z.filter(R=>R.id!==K))},[]),D=v.useCallback((K,z,R)=>{n(ne=>ne.map(E=>E.id===K?{...E,status:z==="urgent"?"warning":E.status}:E));const q={id:`priority-${K}-${Date.now()}`,orderId:K,type:"warning",message:`Pedido marcado como ${S(z)}${R?`: ${R}`:""}`,timestamp:new Date,acknowledged:!1};setAlerts(ne=>[q,...ne])},[]),S=K=>{switch(K){case"low":return"Baixa Prioridade";case"medium":return"Prioridade Mdia";case"high":return"Alta Prioridade";case"urgent":return"Urgente";default:return K}},A=K=>{switch(K){case"low":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"urgent":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=v.useCallback(K=>{const z={urgent:4,high:3,medium:2,low:1};return K.sort((R,q)=>{var ye,fe,oe,me,ke,Ge,ct,bt;if((ye=R.priority)!=null&&ye.isManuallyPrioritized&&!((fe=q.priority)!=null&&fe.isManuallyPrioritized))return-1;if(!((oe=R.priority)!=null&&oe.isManuallyPrioritized)&&((me=q.priority)!=null&&me.isManuallyPrioritized))return 1;const ne=((ke=R.priority)==null?void 0:ke.level)||"low",E=((Ge=q.priority)==null?void 0:Ge.level)||"low",F=z[ne],P=z[E];if(F!==P)return P-F;const Z=new Date(((ct=R.priority)==null?void 0:ct.createdAt)||R.added_at||0).getTime(),ue=new Date(((bt=q.priority)==null?void 0:bt.createdAt)||q.added_at||0).getTime();return Z-ue})},[]),j=v.useCallback(async(K,z)=>{try{const{error:R}=await le.from("comanda_items").update({is_priority:z,updated_at:new Date().toISOString()}).eq("id",K);if(R)throw R;c({orderQueue:i.orderQueue.map(q=>q.id===K&&q.priority?{...q,priority:{...q.priority,isManuallyPrioritized:z,level:z?"urgent":q.priority.level}}:q)}),await h()}catch(R){throw u(R,"marcao de prioridade"),R}},[i.orderQueue,c,u,h]),M=v.useCallback(async(K,z)=>{try{const R={status:z,updated_at:new Date().toISOString()};z==="preparing"?R.started_at=new Date().toISOString():z==="ready"?R.prepared_at=new Date().toISOString():z==="delivered"&&(R.delivered_at=new Date().toISOString());const{error:q}=await le.from("comanda_items").update(R).eq("id",K);if(q)throw q;await h()}catch(R){throw u(R,"atualizao de status"),R}},[u,h]);v.useCallback((K,z,R)=>{const q={id:`alert-${K}-${Date.now()}`,orderId:K,type:z,message:R,timestamp:new Date,acknowledged:!1};c({alerts:[q,...i.alerts]})},[i.alerts,c]);const L=v.useCallback(K=>{c({alerts:i.alerts.map(z=>z.id===K?{...z,acknowledged:!0}:z)})},[i.alerts,c]),$=v.useCallback(()=>{c({alerts:[]})},[c]),I=v.useCallback(K=>{if(K.priority)return K.priority;const z=w([K]);return{level:z.priorityLevel,complexity:_(z.finalEstimate),estimatedTime:z.finalEstimate,isManuallyPrioritized:!1,createdAt:new Date(K.added_at),timerStatus:f(new Date(K.added_at),z.finalEstimate),alertsEnabled:!0}},[]),V=v.useCallback(K=>{const z=I(K);return f(z.createdAt,z.estimatedTime)},[I]),J=v.useCallback(K=>{const z=I(K),R=(new Date().getTime()-z.createdAt.getTime())/(1e3*60);return Math.max(0,z.estimatedTime-R)},[I]),Q=v.useCallback(K=>{const z=J(K);if(z<1)return"< 1min";if(z<60)return`${Math.ceil(z)}min`;const R=Math.floor(z/60),q=Math.ceil(z%60);return q===0?`${R}h`:`${R}h ${q}min`},[J]),B=v.useCallback(()=>{const K={urgent:0,high:0,medium:0,low:0,overdue:0,warning:0};return i.orderQueue.forEach(z=>{const R=I(z);K[R.level]++,R.timerStatus==="overdue"?K.overdue++:R.timerStatus==="warning"&&K.warning++}),K},[i.orderQueue,I]),Y=v.useCallback(async()=>{await h()},[h]);return v.useEffect(()=>{if(!e)return;const K=le.channel("order-priority-changes").on("postgres_changes",{event:"*",schema:"public",table:"comanda_items"},z=>{console.log("Mudana em itens de comanda:",z),h()}).subscribe();return()=>{le.removeChannel(K)}},[e,h]),v.useEffect(()=>{e&&h()},[e,h]),v.useEffect(()=>{const K=setInterval(()=>{if(i.orderQueue.length>0){const z=i.orderQueue.map(R=>{if(R.priority){const q=f(R.priority.createdAt,R.priority.estimatedTime);return{...R,priority:{...R.priority,timerStatus:q}}}return R});c({orderQueue:z})}},6e4);return()=>clearInterval(K)},[i.orderQueue,c]),{...i,markItemAsPriority:j,updateItemStatus:M,dismissAlert:L,clearAllAlerts:$,getItemPriority:I,getTimerStatus:V,getRemainingTime:J,formatRemainingTime:Q,getPriorityStats:B,refreshQueue:Y,getPriorityLabel:S,getPriorityColor:A,sortOrdersByPriority:k,calculateOrderPriority:w,calculateAutoPriority:y,startOrderTimer:T,stopOrderTimer:N,markOrderAsPriority:D,orderTimers:t,allAlerts:i.alerts}},NO=({onUpdateItemStatus:e})=>{const{orderQueue:t,loading:n,markItemAsPriority:i,updateItemStatus:l,getItemPriority:c,getTimerStatus:u,formatRemainingTime:h,alerts:f,getPriorityLabel:p,getPriorityColor:g}=_O(),[y,b]=v.useState(!0),[w,_]=v.useState(null),T=t,D=(()=>{const I=new Map;return T.forEach(V=>{var Q,B;const J=((B=(Q=V.comandas)==null?void 0:Q.bar_tables)==null?void 0:B.number)||"Balco";I.has(J)||I.set(J,[]),I.get(J).push(V)}),I})(),S=I=>(D.get(I)||[]).length>1,A=I=>I.id.slice(-4).toUpperCase(),k=async(I,V)=>{try{e?await e(I,V):await l(I,V)}catch(J){console.error("Erro ao atualizar status:",J)}},j=async(I,V)=>{try{await i(I,V),_(null)}catch(J){console.error("Erro ao marcar prioridade:",J)}},M=I=>{switch(I){case"pending":return a.jsx(zt,{className:"h-4 w-4"});case"preparing":return a.jsx(Gb,{className:"h-4 w-4"});case"ready":return a.jsx(Hb,{className:"h-4 w-4"});default:return a.jsx(zt,{className:"h-4 w-4"})}},L=I=>{switch(I){case"pending":return"text-yellow-600 bg-yellow-100";case"preparing":return"text-blue-600 bg-blue-100";case"ready":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},$=I=>{switch(I){case"pending":return"Pendente";case"preparing":return"Preparando";case"ready":return"Pronto";default:return I}};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(Zn,{children:y&&f.length>0&&a.jsxs(we.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sA,{className:"h-5 w-5 text-red-600"}),a.jsxs("h3",{className:"text-lg font-semibold text-red-800",children:["Alertas (",f.length,")"]})]}),a.jsx("button",{onClick:()=>b(!1),className:"text-red-600 hover:text-red-800",title:"Fechar alertas","aria-label":"Fechar alertas",children:a.jsx(at,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"space-y-2",children:f.slice(0,3).map(I=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-red-800",children:I.message}),a.jsx("p",{className:"text-xs text-red-600",children:qt(I.timestamp,"HH:mm",{locale:ts})})]}),a.jsx("button",{onClick:()=>acknowledgeAlert(I.id),className:"text-red-600 hover:text-red-800 ml-2",title:"Reconhecer alerta","aria-label":"Reconhecer alerta",children:a.jsx(Hb,{className:"h-4 w-4"})})]},I.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fila de Pedidos"}),a.jsxs("p",{className:"text-gray-600",children:[T.length," itens na fila, ordenados por prioridade"]}),Array.from(D.entries()).filter(([I,V])=>V.length>1).length>0&&a.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium mt-1 inline-block",children:[Array.from(D.entries()).filter(([I,V])=>V.length>1).length," mesa(s) com mltiplos pedidos"]})]}),f.length>0&&!y&&a.jsxs("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 bg-red-100 text-red-800 px-3 py-2 rounded-lg hover:bg-red-200 transition-colors",title:"Mostrar alertas","aria-label":"Mostrar alertas",children:[a.jsx(Gf,{className:"h-4 w-4"}),a.jsxs("span",{children:[f.length," alertas"]})]})]}),Array.from(D.entries()).filter(([I,V])=>V.length>1).length>0&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(D.entries()).filter(([I,V])=>V.length>1).map(([I,V])=>a.jsxs("span",{className:"bg-orange-200 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:["Mesa ",I,": ",V.length," itens"]},I))})]}),a.jsx("div",{className:"space-y-4",children:T.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(zt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum pedido na fila"})]}):T.map((I,V)=>{var B,Y,K,z,R,q;const J=u(I),Q=c(I);return a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1},className:`bg-white rounded-lg shadow-md p-6 border-l-4 ${Q!=null&&Q.isManuallyPrioritized?"border-red-500":(Q==null?void 0:Q.level)==="high"?"border-orange-500":(Q==null?void 0:Q.level)==="medium"?"border-yellow-500":"border-green-500"} ${S(((Y=(B=I.comandas)==null?void 0:B.bar_tables)==null?void 0:Y.number)||"Balco")?"ring-2 ring-orange-300 ring-offset-2":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-medium",children:["#",V+1]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((K=I.menu_items)==null?void 0:K.name)||"Item sem nome"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["x",I.quantity]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",A(I)]})]}),(Q==null?void 0:Q.isManuallyPrioritized)&&a.jsx(Im,{className:"h-5 w-5 text-red-500"})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[((R=(z=I.comandas)==null?void 0:z.bar_tables)==null?void 0:R.number)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{children:["Mesa ",I.comandas.bar_tables.number]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",A(I)]}),S(I.comandas.bar_tables.number)&&a.jsxs("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[(D.get(I.comandas.bar_tables.number)||[]).length," itens"]})]}),((q=I.comandas)==null?void 0:q.customer_name)&&a.jsxs("span",{children:["Cliente: ",I.comandas.customer_name]}),a.jsxs("span",{children:["Pedido s ",qt(new Date(I.added_at||""),"HH:mm",{locale:ts})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${g((Q==null?void 0:Q.level)||"low")}`,children:p((Q==null?void 0:Q.level)||"low")}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Tempo estimado: ",(Q==null?void 0:Q.estimatedTime)||0,"min"]}),a.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded text-sm ${J==="overdue"?"bg-red-100 text-red-800":J==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[a.jsx(Gb,{className:"h-3 w-3"}),a.jsx("span",{children:h(I)}),J==="overdue"&&a.jsx(Hs,{className:"h-3 w-3"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${L(I.status||"pending")}`,children:[M(I.status||"pending"),a.jsx("span",{children:$(I.status||"pending")})]})})]}),a.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[a.jsxs("button",{onClick:()=>_(I.id),className:"flex items-center space-x-1 px-3 py-1 bg-orange-100 text-orange-800 rounded hover:bg-orange-200 transition-colors",title:"Marcar como prioritrio","aria-label":"Marcar como prioritrio",children:[a.jsx(Z3,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs",children:"Priorizar"})]}),I.status==="pending"&&a.jsx("button",{onClick:()=>k(I.id,"preparing"),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Iniciar"}),I.status==="preparing"&&a.jsx("button",{onClick:()=>k(I.id,"ready"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Pronto"})]})]})},I.id)})}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Definir Prioridade"}),a.jsx("div",{className:"space-y-3",children:["urgent","high","medium","low"].map(I=>a.jsxs("button",{onClick:()=>j(w||"",!0),className:`w-full p-3 rounded border-2 text-left transition-colors ${g(I)} hover:opacity-80`,children:[a.jsx("div",{className:"font-medium",children:p(I)}),a.jsxs("div",{className:"text-sm opacity-75",children:[I==="urgent"&&"Para pedidos que precisam ser feitos imediatamente",I==="high"&&"Para pedidos importantes com prazo apertado",I==="medium"&&"Para pedidos com prioridade normal",I==="low"&&"Para pedidos que podem aguardar"]})]},I))}),a.jsx("div",{className:"mt-4 flex space-x-3",children:a.jsx("button",{onClick:()=>_(null),className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded hover:bg-gray-400 transition-colors",children:"Cancelar"})})]})})]})},SO=({orders:e,menuItems:t})=>{const{updateOrderStatus:n}=mt(),[i,l]=v.useState(new Set),u=(()=>{const T=new Map;return e.forEach(N=>{const D=N.tableNumber||"Balco";T.has(D)||T.set(D,[]),T.get(D).push(N)}),T})(),h=T=>T.items.reduce((N,D)=>{const S=t.find(k=>k.id===D.menuItemId)||D.menuItem,A=(S==null?void 0:S.preparation_time)||(S==null?void 0:S.preparationTime)||0;return N+A},0),f=T=>{const N=(new Date().getTime()-T.createdAt.getTime())/6e4;return N>20?"high":N>10?"medium":"low"},p=T=>{switch(T){case"high":return"border-red-400 bg-red-50";case"medium":return"border-yellow-400 bg-yellow-50";case"low":return"border-green-400 bg-green-50";default:return"border-gray-200 bg-white"}},g=T=>T.id.slice(-4).toUpperCase(),y=T=>T.id.startsWith("balcao-"),b=T=>T.id.startsWith("comanda-"),w=async(T,N)=>{l(D=>new Set([...D,T]));try{await n(T,N),console.log(` Status do pedido ${T} atualizado para ${N}`)}catch(D){console.error("Erro ao atualizar status:",D)}finally{setTimeout(()=>{l(D=>{const S=new Set(D);return S.delete(T),S})},1e3)}},_=T=>(u.get(T)||[]).length>1;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Pedidos do Bar"}),a.jsx("div",{className:"text-sm text-gray-600",children:Array.from(u.entries()).filter(([T,N])=>N.length>1).length>0&&a.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[Array.from(u.entries()).filter(([T,N])=>N.length>1).length," mesa(s) com mltiplos pedidos"]})})]}),Array.from(u.entries()).filter(([T,N])=>N.length>1).length>0&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-2",children:" Mesas com Mltiplos Pedidos:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(u.entries()).filter(([T,N])=>N.length>1).map(([T,N])=>a.jsxs("span",{className:"bg-orange-200 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:["Mesa ",T,": ",N.length," pedidos"]},T))})]}),e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Nenhum pedido pendente no bar"})}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(T=>{const N=f(T),D=h(T),S=T.items,A=_(T.tableNumber||"Balco");return a.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`border-2 rounded-lg p-4 ${p(N)} ${A?"ring-2 ring-orange-300 ring-offset-2":""} ${y(T)?"border-green-400 bg-green-50 shadow-lg":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cd,{size:16,className:"text-gray-500"}),a.jsxs("span",{className:"font-bold text-lg",children:["Mesa ",T.tableNumber||"N/A"]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",g(T)]}),y(T)&&a.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:" PAGO"}),b(T)&&a.jsx("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"AGUARDA PAGTO"}),_(T.tableNumber||"Balco")&&a.jsxs("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[(u.get(T.tableNumber||"Balco")||[]).length," pedidos"]})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[a.jsx(zt,{size:14}),a.jsx("span",{children:qt(T.createdAt,"HH:mm",{locale:ts})})]})]}),a.jsx("div",{className:"space-y-2 mb-4",children:S.map(k=>{const j=t.find(M=>M.id===k.menuItemId)||k.menuItem;return a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[k.quantity,"x ",(j==null?void 0:j.name)||"Item no encontrado"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[(j==null?void 0:j.preparation_time)||(j==null?void 0:j.preparationTime)||0,"min"]})]},k.id)})}),T.notes&&a.jsx("div",{className:"mb-4 p-2 bg-yellow-100 rounded border",children:a.jsx("p",{className:"text-sm text-yellow-800",children:T.notes})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Tempo estimado: ",D,"min"]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N==="high"?"bg-red-200 text-red-800":N==="medium"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:N==="high"?"Urgente":N==="medium"?"Mdio":"Normal"})]}),a.jsxs("div",{className:"space-y-2",children:[T.status==="pending"&&a.jsx("button",{onClick:()=>w(T.id,"preparing"),disabled:i.has(T.id),className:`w-full py-2 rounded-lg font-medium transition-all duration-300 ${i.has(T.id)?"bg-blue-300 text-blue-700 cursor-not-allowed animate-pulse scale-95":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg transform hover:scale-105 active:scale-95"}`,children:i.has(T.id)?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-blue-700 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Iniciando..."})]}):"Iniciar Preparo"}),T.status==="preparing"&&a.jsx("button",{onClick:()=>w(T.id,"ready"),disabled:i.has(T.id),className:`w-full py-2 rounded-lg font-medium transition-all duration-300 ${i.has(T.id)?"bg-green-300 text-green-700 cursor-not-allowed animate-pulse scale-95":"bg-green-600 text-white hover:bg-green-700 hover:shadow-lg transform hover:scale-105 active:scale-95"}`,children:i.has(T.id)?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-green-700 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Finalizando..."})]}):"Marcar como Pronto"}),T.status==="ready"&&a.jsx("div",{className:"w-full py-2 rounded-lg font-medium bg-green-100 text-green-800 border-2 border-green-300 text-center animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:""})}),a.jsx("span",{children:"Pronto para Entrega"})]})})]})]},T.id)})})]})},TO=()=>null,CO=()=>{const{user:e}=Xt(),{updateItemStatus:t}=ol(),{barOrders:n,menuItems:i}=mt(),[l,c]=v.useState("balcao"),[u,h]=v.useState(!1),f=y=>{c(y)},p=async(y,b)=>{try{await t(y,b)}catch(w){throw console.error("Erro ao atualizar status do item:",w),w}},g=()=>{switch(l){case"balcao":return u?a.jsx(pO,{}):a.jsx(mv,{});case"mesas":return a.jsx(yO,{});case"comandas":return a.jsx(wO,{});case"fila":return a.jsx(NO,{onUpdateItemStatus:p});case"pedidos":return a.jsx(SO,{orders:n,menuItems:i});default:return a.jsx(mv,{})}};return a.jsxs("div",{className:"bar-attendance-container min-h-screen bg-gray-50 flex flex-col",children:[a.jsx(H5,{mode:l,onModeChange:f,user:e}),l==="balcao"&&a.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-2",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>h(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white"}`,children:" Criar Pedido"}),a.jsx("button",{onClick:()=>h(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Gerenciar Pedidos"})]})}),a.jsx("main",{className:"bar-content flex-1 p-4 md:p-6 overflow-auto",children:g()}),a.jsx(TO,{})]})},c1=()=>{const{user:e}=Xt(),{fecharComanda:t,recarregarDados:n}=l1(),{refreshKitchenOrders:i,refreshBarOrders:l}=mt(),[c,u]=v.useState({currentSession:null,pendingComandas:[],todaysTransactions:[],todaysSessions:[],todaysSummary:{session_date:new Date().toISOString().split("T")[0],total_sessions:0,total_sales:0,total_transactions:0,total_cash_withdrawals:0,total_treasury_transfers:0,cash_balance:0,by_payment_method:[],by_employee:[],discrepancies:[],avg_ticket:0,peak_hours:[]},loading:!0,error:null}),h=v.useCallback(B=>{u(Y=>({...Y,...B}))},[]),f=v.useCallback((B,Y)=>{console.error(`Erro em ${Y}:`,B),h({error:`Erro em ${Y}: ${B.message||"Erro desconhecido"}`,loading:!1})},[h]),p=v.useCallback(async()=>{if(!e){console.log("useCashManagement: Usurio no encontrado, pulando carregamento");return}try{console.log("useCashManagement: Iniciando carregamento para usurio:",e),h({loading:!0,error:null});const B=new Date().toISOString().split("T")[0];console.log("useCashManagement: Data atual:",B),console.log("useCashManagement: Buscando sesso para usurio ID:",e.id);const{data:Y,error:K}=await le.from("cash_sessions").select("*").eq("employee_id",e.id).eq("status","open").maybeSingle();if(console.log("useCashManagement: Resultado da busca de sesso:",{currentSessionData:Y,sessionError:K}),K&&K.code!=="PGRST116")throw console.error("Erro ao carregar sesso:",K),K;const{data:z,error:R}=await le.from("comandas").select("*").eq("status","pending_payment").order("opened_at",{ascending:!1});if(R)throw R;const{data:q,error:ne}=await le.from("cash_transactions").select("*").gte("processed_at",`${B}T00:00:00.000Z`).lt("processed_at",`${B}T23:59:59.999Z`).order("processed_at",{ascending:!1});if(ne)throw ne;const{data:E,error:F}=await le.from("cash_sessions").select("*").eq("session_date",B).order("opened_at",{ascending:!1});if(F)throw F;console.log("Dados da sesso atual:",Y),console.log("Usurio atual:",e);const P=Y?{...Y,employee:{id:e.id,name:e.name||e.email||"Usurio",role:e.role||"employee"},supervisor:void 0}:null;console.log("Sesso processada:",P);const Z=(z==null?void 0:z.map(oe=>({...oe,items:[],table:void 0,customer:void 0})))||[],ue=(q==null?void 0:q.map(oe=>({...oe,comanda:void 0,processed_by_employee:{id:e.id,name:e.email||"Usurio"},session:void 0})))||[],ye=(E==null?void 0:E.map(oe=>({...oe,employee:{id:e.id,name:e.email||"Usurio",role:"employee"}})))||[],fe=await S(new Date);h({currentSession:P,pendingComandas:Z,todaysTransactions:ue,todaysSessions:ye,todaysSummary:fe,loading:!1})}catch(B){f(B,"carregamento inicial")}},[e,h,f]),g=v.useCallback(async B=>{if(!e)throw new Error("Usurio no autenticado");try{console.log("Iniciando abertura de caixa para usurio:",e.id),h({loading:!0,error:null});const Y={employee_id:e.id,opening_amount:B.opening_amount,opening_notes:B.opening_notes,supervisor_approval_id:B.supervisor_approval_id,status:"open"};console.log("Dados da sesso:",Y);const{data:K,error:z}=await le.from("cash_sessions").insert(Y).select("*").single();if(z)throw console.error("Erro ao inserir sesso:",z),z;console.log("Sesso criada com sucesso:",K),await p()}catch(Y){throw f(Y,"abertura de caixa"),Y}},[e,h,f,p]),y=v.useCallback(async B=>{if(!c.currentSession)throw new Error("Nenhuma sesso aberta");try{h({loading:!0,error:null});const Y=B.closing_amount-c.currentSession.expected_amount,{error:K}=await le.from("cash_sessions").update({status:"closed",closed_at:new Date().toISOString(),closing_amount:B.closing_amount,cash_discrepancy:Y,closing_notes:B.closing_notes}).eq("id",c.currentSession.id);if(K)throw K;const z=B.reconciliation.map(q=>({cash_session_id:c.currentSession.id,payment_method:q.payment_method,expected_amount:q.expected_amount,actual_amount:q.actual_amount,transaction_count:q.transaction_count,reconciled_by:e.id,notes:q.notes})),{error:R}=await le.from("payment_reconciliation").insert(z);if(R)throw R;await p()}catch(Y){throw f(Y,"fechamento de caixa"),Y}},[c.currentSession,e,h,f,p]),b=v.useCallback(()=>c.currentSession,[c.currentSession]),w=v.useCallback(async B=>{if(!c.currentSession)throw new Error("Nenhuma sesso de caixa aberta");try{h({loading:!0,error:null}),await t(B.comanda_id,B.payment_method,B.notes);const Y={cash_session_id:c.currentSession.id,comanda_id:B.comanda_id,transaction_type:"sale",payment_method:B.payment_method,amount:B.amount,processed_by:e.id,reference_number:B.reference_number,customer_name:B.customer_name,notes:B.notes},{error:K}=await le.from("cash_transactions").insert(Y);if(K)throw K;await Q(B.amount),await p(),await n(),B.notes&&B.notes.includes("balco")&&(console.log(" Forando atualizao dos monitores aps pagamento de balco..."),setTimeout(async()=>{await Promise.all([i(),l()]),console.log(" Monitores atualizados imediatamente!")},500),setTimeout(async()=>{await Promise.all([i(),l()]),console.log(" Atualizao backup dos monitores concluda!")},2e3))}catch(Y){throw f(Y,"processamento de pagamento"),Y}},[c.currentSession,e,t,h,f,p,n]),_=v.useCallback(async B=>{if(!c.currentSession)throw new Error("Nenhuma sesso de caixa aberta");try{h({loading:!0,error:null});const Y={cash_session_id:c.currentSession.id,transaction_type:"refund",payment_method:B.refund_method,amount:-Math.abs(B.amount),processed_by:e.id,notes:`Estorno: ${B.reason}. Transao original: ${B.original_transaction_id}`},{error:K}=await le.from("cash_transactions").insert(Y);if(K)throw K;await p()}catch(Y){throw f(Y,"processamento de estorno"),Y}},[c.currentSession,e,h,f,p]),T=v.useCallback(async B=>{if(!c.currentSession)throw new Error("Nenhuma sesso de caixa aberta");try{h({loading:!0,error:null});const Y=B.adjustment_type==="add"?B.amount:-B.amount,K={cash_session_id:c.currentSession.id,transaction_type:"adjustment",payment_method:B.payment_method||"dinheiro",amount:Y,processed_by:e.id,notes:`Ajuste ${B.adjustment_type==="add"?"positivo":"negativo"}: ${B.reason}`},{error:z}=await le.from("cash_transactions").insert(K);if(z)throw z;await p()}catch(Y){throw f(Y,"processamento de ajuste"),Y}},[c.currentSession,e,h,f,p]),N=v.useCallback(async B=>{if(!c.currentSession)throw new Error("Nenhuma sesso de caixa aberta");try{h({loading:!0,error:null});const Y={cash_session_id:c.currentSession.id,transaction_type:"adjustment",payment_method:"dinheiro",amount:-Math.abs(B.amount),processed_by:e.id,notes:`[SADA] ${B.purpose}: ${B.reason}. Autorizado por: ${B.authorized_by}${B.recipient?`. Destinatrio: ${B.recipient}`:""}`},{data:K,error:z}=await le.from("cash_transactions").insert(Y).select("*").single();if(z)throw z;const R=c.currentSession.expected_amount-B.amount,{error:q}=await le.from("cash_sessions").update({expected_amount:R}).eq("id",c.currentSession.id);if(q)throw q;return await p(),K.id}catch(Y){throw f(Y,"processamento de sada de dinheiro"),Y}},[c.currentSession,e,h,f,p]),D=v.useCallback(async B=>{if(!c.currentSession)throw new Error("Nenhuma sesso de caixa aberta");try{h({loading:!0,error:null});const Y={cash_session_id:c.currentSession.id,transaction_type:"adjustment",payment_method:"dinheiro",amount:-Math.abs(B.amount),processed_by:e.id,notes:`[TRANSFERNCIA TESOURARIA] Autorizado por: ${B.authorized_by}${B.treasury_receipt_number?`. Comprovante: ${B.treasury_receipt_number}`:""}${B.notes?`. Obs: ${B.notes}`:""}`},{data:K,error:z}=await le.from("cash_transactions").insert(Y).select("*").single();if(z)throw z;const R=c.currentSession.expected_amount-B.amount,{error:q}=await le.from("cash_sessions").update({expected_amount:R}).eq("id",c.currentSession.id);if(q)throw q;return await p(),K.id}catch(Y){throw f(Y,"processamento de transferncia para tesouraria"),Y}},[c.currentSession,e,h,f,p]),S=v.useCallback(async B=>{const K=(B||new Date).toISOString().split("T")[0];try{const{data:z,error:R}=await le.from("daily_cash_summary").select("*").eq("session_date",K);if(R)return console.warn("Erro ao buscar view daily_cash_summary, usando dados padro:",R),{session_date:K,total_sessions:0,total_sales:0,total_transactions:0,total_cash_withdrawals:0,total_treasury_transfers:0,cash_balance:0,by_payment_method:[],by_employee:[],discrepancies:[],avg_ticket:0,peak_hours:[]};const q=z||[],ne=q.reduce((P,Z)=>P+(Z.cash_sales+Z.debit_sales+Z.credit_sales+Z.pix_sales),0),E=q.reduce((P,Z)=>P+Z.total_transactions,0),F=[{payment_method:"dinheiro",amount:q.reduce((P,Z)=>P+Z.cash_sales,0),transaction_count:0,percentage:0,expected_amount:0,actual_amount:0,discrepancy:0},{payment_method:"cartao_debito",amount:q.reduce((P,Z)=>P+Z.debit_sales,0),transaction_count:0,percentage:0,expected_amount:0,actual_amount:0,discrepancy:0},{payment_method:"cartao_credito",amount:q.reduce((P,Z)=>P+Z.credit_sales,0),transaction_count:0,percentage:0,expected_amount:0,actual_amount:0,discrepancy:0},{payment_method:"pix",amount:q.reduce((P,Z)=>P+Z.pix_sales,0),transaction_count:0,percentage:0,expected_amount:0,actual_amount:0,discrepancy:0}];return F.forEach(P=>{P.percentage=ne>0?P.amount/ne*100:0}),{session_date:K,total_sessions:q.length,total_sales:ne,total_transactions:E,total_cash_withdrawals:0,total_treasury_transfers:0,cash_balance:ne,by_payment_method:F,by_employee:q.map(P=>({employee_id:P.employee_id,employee_name:P.employee_name,session_count:1,total_sales:P.cash_sales+P.debit_sales+P.credit_sales+P.pix_sales,transaction_count:P.total_transactions,avg_ticket:P.total_transactions>0?(P.cash_sales+P.debit_sales+P.credit_sales+P.pix_sales)/P.total_transactions:0,cash_discrepancy:P.cash_discrepancy||0,session_duration:"8:00"})),discrepancies:q.filter(P=>Math.abs(P.cash_discrepancy||0)>0).map(P=>({employee_id:P.employee_id,employee_name:P.employee_name,session_id:P.employee_id,cash_discrepancy:P.cash_discrepancy||0,payment_discrepancies:[],total_discrepancy:P.cash_discrepancy||0})),avg_ticket:E>0?ne/E:0,peak_hours:[]}}catch(z){throw console.error("Erro ao gerar resumo dirio:",z),z}},[]),A=v.useCallback(async B=>S(B),[S]),k=v.useCallback(async B=>{throw new Error("Relatrio mensal ainda no implementado")},[]),j=v.useCallback(async(B,Y)=>{throw new Error("Relatrio de performance ainda no implementado")},[]),M=v.useCallback(async B=>{if(!c.currentSession)return{isValid:!1,warnings:[],errors:[{type:"invalid_state",message:"Nenhuma sesso ativa"}],suggestions:["Abra uma sesso de caixa primeiro"]};const Y=B-c.currentSession.expected_amount,K=Math.abs(Y/c.currentSession.expected_amount)*100,z=[],R=[],q=[];return Math.abs(Y)>10&&(z.push({type:"discrepancy",message:`Discrepncia alta: R$ ${Y.toFixed(2)}`,severity:"high",data:{discrepancy:Y,percentage:K}}),q.push("Recontagem recomendada")),{isValid:Math.abs(Y)<=5,warnings:z,errors:R,suggestions:q}},[c.currentSession]),L=v.useCallback(async B=>({isValid:!0,warnings:[],errors:[],suggestions:[]}),[]),$=v.useCallback(async()=>{await p()},[p]),I=v.useCallback(async(B,Y)=>{throw new Error("Exportao de relatrios ainda no implementada")},[]),V=v.useCallback(async B=>{try{let Y=le.from("cash_transactions").select(`
          *,
          comandas(id, customer_name, table_id, total),
          profiles!cash_transactions_processed_by_fkey(id, name),
          cash_sessions(id, session_date, employee_id)
        `);B.start_date&&(Y=Y.gte("processed_at",B.start_date)),B.end_date&&(Y=Y.lte("processed_at",B.end_date)),B.payment_method&&(Y=Y.eq("payment_method",B.payment_method)),B.transaction_type&&(Y=Y.eq("transaction_type",B.transaction_type)),B.employee_id&&(Y=Y.eq("processed_by",B.employee_id)),B.session_id&&(Y=Y.eq("cash_session_id",B.session_id)),B.min_amount&&(Y=Y.gte("amount",B.min_amount)),B.max_amount&&(Y=Y.lte("amount",B.max_amount));const{data:K,error:z}=await Y.order("processed_at",{ascending:!1});if(z)throw z;return(K==null?void 0:K.map(R=>({...R,comanda:R.comandas||void 0,processed_by_employee:R.profiles||void 0,session:R.cash_sessions||void 0})))||[]}catch(Y){throw console.error("Erro na busca de transaes:",Y),Y}},[]),J=v.useCallback(async B=>{try{let Y=le.from("cash_sessions").select(`
          *,
          profiles!cash_sessions_employee_id_fkey(id, name, role)
        `);B.start_date&&(Y=Y.gte("session_date",B.start_date)),B.end_date&&(Y=Y.lte("session_date",B.end_date)),B.employee_id&&(Y=Y.eq("employee_id",B.employee_id)),B.status&&(Y=Y.eq("status",B.status)),B.has_discrepancy&&(Y=Y.neq("cash_discrepancy",0));const{data:K,error:z}=await Y.order("session_date",{ascending:!1});if(z)throw z;return(K==null?void 0:K.map(R=>({...R,employee:R.profiles||void 0})))||[]}catch(Y){throw console.error("Erro na busca de sesses:",Y),Y}},[]),Q=v.useCallback(async B=>{if(e)try{const Y=new Date().toISOString().split("T")[0],{error:K}=await le.rpc("atualizar_metricas_venda",{p_employee_id:e.id,p_date:Y,p_sale_amount:B});K&&console.warn("Erro ao atualizar mtricas:",K)}catch(Y){console.warn("Erro ao atualizar mtricas:",Y)}},[e]);return v.useEffect(()=>{p()},[p]),v.useEffect(()=>{if(!e)return;const B=[],Y=le.channel("cash-sessions-changes").on("postgres_changes",{event:"*",schema:"public",table:"cash_sessions"},R=>{console.log("Mudana em sesses de caixa:",R),p()}).subscribe();B.push(Y);const K=le.channel("cash-transactions-changes").on("postgres_changes",{event:"*",schema:"public",table:"cash_transactions"},R=>{console.log("Mudana em transaes:",R),p()}).subscribe();B.push(K);const z=le.channel("comandas-changes").on("postgres_changes",{event:"*",schema:"public",table:"comandas"},R=>{console.log("Mudana em comandas:",R),p()}).subscribe();return B.push(z),()=>{B.forEach(R=>{le.removeChannel(R)})}},[e,p]),{...c,openCashSession:g,closeCashSession:y,getCurrentSession:b,processComandaPayment:w,processRefund:_,processAdjustment:T,processCashWithdrawal:N,processTreasuryTransfer:D,getDailySummary:A,getMonthlyCashReport:k,getEmployeePerformance:j,validateCashCount:M,validateSession:L,refreshData:$,exportReport:I,searchTransactions:V,searchSessions:J}},EO=({isOpen:e,onClose:t,onOpenCash:n})=>{const[i,l]=v.useState({opening_amount:0,opening_notes:""}),[c,u]=v.useState(!1),h=async f=>{f.preventDefault(),u(!0);try{await n(i),t(),l({opening_amount:0,opening_notes:""})}catch(p){console.error("Erro ao abrir caixa:",p)}finally{u(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:a.jsx(es,{className:"h-6 w-6 text-green-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Abrir Caixa"})]}),a.jsx("button",{onClick:t,disabled:c,className:"text-gray-400 hover:text-gray-600",children:a.jsx(at,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Inicial (R$) *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:i.opening_amount,onChange:f=>l(p=>({...p,opening_amount:parseFloat(f.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),a.jsx("textarea",{value:i.opening_notes||"",onChange:f=>l(p=>({...p,opening_notes:f.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Observaes sobre a abertura do caixa...",disabled:c})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,disabled:c,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:c?"Abrindo...":"Abrir Caixa"})]})]})]})}):null},AO=({isOpen:e,onClose:t,session:n,onCloseCash:i})=>{var j;const{preparingOrders:l,readyOrders:c}=md(),[u,h]=v.useState({closing_amount:n.expected_amount,closing_notes:"",reconciliation:[{payment_method:"dinheiro",expected_amount:0,actual_amount:0,transaction_count:0},{payment_method:"cartao_debito",expected_amount:0,actual_amount:0,transaction_count:0},{payment_method:"cartao_credito",expected_amount:0,actual_amount:0,transaction_count:0},{payment_method:"pix",expected_amount:0,actual_amount:0,transaction_count:0},{payment_method:"transferencia",expected_amount:0,actual_amount:0,transaction_count:0}]}),[f,p]=v.useState(!1),[g,y]=v.useState([]),[b,w]=v.useState(!1);v.useEffect(()=>{e&&n&&(h(M=>({...M,closing_amount:n.expected_amount})),_())},[e,n]);const _=async()=>{w(!0);try{const{data:M,error:L}=await le.from("comanda_items").select(`
          *,
          comanda:comandas!inner(
            id,
            customer_name,
            table_id,
            bar_tables(number)
          ),
          menu_item:menu_items(name)
        `).in("status",["pending","preparing","ready"]).eq("comanda.status","open").order("added_at",{ascending:!0});L?(console.error("Erro ao carregar itens pendentes:",L),y([])):y(M||[])}catch(M){console.error("Erro ao validar pedidos pendentes:",M),y([])}finally{w(!1)}},T=async M=>{M.preventDefault();const L=l.length+c.length+g.length;if(L>0){const $=`ATENO: Existem ${L} pedidos pendentes de entrega:

 ${l.length} pedidos de balco em preparo
 ${c.length} pedidos de balco prontos para entrega
 ${g.length} itens de comandas no entregues

Tem certeza que deseja fechar o caixa mesmo com pedidos pendentes?`;if(!window.confirm($))return}p(!0);try{await i(u),t()}catch($){console.error("Erro ao fechar caixa:",$)}finally{p(!1)}},N=(M,L,$)=>{h(I=>({...I,reconciliation:I.reconciliation.map(V=>V.payment_method===M?{...V,[L]:$}:V)}))},D=u.reconciliation.reduce((M,L)=>M+L.actual_amount,0),S=D-n.expected_amount,k=l.length+c.length+g.length>0;return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:a.jsx(es,{className:"h-6 w-6 text-red-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Fechar Caixa"})]}),a.jsx("button",{onClick:t,disabled:f,className:"text-gray-400 hover:text-gray-600",children:a.jsx(at,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[k&&a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Hs,{className:"h-6 w-6 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:" Ateno: Pedidos Pendentes de Entrega"}),a.jsxs("div",{className:"text-sm text-yellow-700 space-y-1",children:[l.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zt,{className:"h-4 w-4"}),a.jsxs("span",{children:[l.length," pedidos de balco em preparo"]})]}),c.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hm,{className:"h-4 w-4"}),a.jsxs("span",{children:[c.length," pedidos de balco prontos para entrega"]})]}),g.length>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zt,{className:"h-4 w-4"}),a.jsxs("span",{children:[g.length," itens de comandas no entregues"]})]})]}),a.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Recomenda-se entregar todos os pedidos antes de fechar o caixa."})]})]})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Resumo da Sesso"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Valor inicial:"}),a.jsx("span",{className:"font-medium",children:Me(n.opening_amount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Valor esperado total:"}),a.jsx("span",{className:"font-medium",children:Me(n.expected_amount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Aberta em:"}),a.jsx("span",{className:"font-medium",children:new Date(n.opened_at).toLocaleString("pt-BR")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Funcionrio:"}),a.jsx("span",{className:"font-medium",children:(j=n.employee)==null?void 0:j.name})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reconciliao por Mtodo de Pagamento"}),a.jsx("div",{className:"space-y-4",children:u.reconciliation.map((M,L)=>{const $=I=>{switch(I){case"dinheiro":return a.jsx(es,{className:"h-5 w-5"});case"cartao_debito":case"cartao_credito":return a.jsx(ld,{className:"h-5 w-5"});case"pix":return a.jsx(Bj,{className:"h-5 w-5"});case"transferencia":return a.jsx(rA,{className:"h-5 w-5"});default:return a.jsx(es,{className:"h-5 w-5"})}};return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[$(M.payment_method),a.jsx("h4",{className:"font-medium text-gray-900",children:s0[M.payment_method]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Valor Esperado"}),a.jsx("div",{className:"px-3 py-2 bg-gray-50 rounded text-sm font-medium",children:Me(M.expected_amount)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Valor Real *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:M.actual_amount,onChange:I=>N(M.payment_method,"actual_amount",parseFloat(I.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",disabled:f})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Transaes"}),a.jsx("input",{type:"number",min:"0",value:M.transaction_count,onChange:I=>N(M.payment_method,"transaction_count",parseInt(I.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",disabled:f})]})]}),Math.abs(M.actual_amount-M.expected_amount)>.01&&a.jsxs("div",{className:`mt-2 p-2 rounded text-xs ${M.actual_amount>M.expected_amount?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[M.actual_amount>M.expected_amount?"Sobra":"Falta",":",Me(Math.abs(M.actual_amount-M.expected_amount))]})]},M.payment_method)})})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"Resumo Final"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total esperado:"}),a.jsx("span",{className:"font-medium",children:Me(n.expected_amount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total contado:"}),a.jsx("span",{className:"font-medium",children:Me(D)})]}),a.jsxs("div",{className:"flex justify-between col-span-2 pt-2 border-t border-blue-200",children:[a.jsx("span",{className:"font-medium",children:"Diferena:"}),a.jsxs("span",{className:`font-bold ${Math.abs(S)<.01||S>0?"text-green-600":"text-red-600"}`,children:[S===0?"Exato":Me(S),S>0&&" (Sobra)",S<0&&" (Falta)"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes do Fechamento"}),a.jsx("textarea",{value:u.closing_notes||"",onChange:M=>h(L=>({...L,closing_notes:M.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Observaes sobre o fechamento...",disabled:f})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,disabled:f,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:f||b,className:`flex-1 px-4 py-2 text-white rounded-md disabled:opacity-50 transition-colors ${k?"bg-yellow-600 hover:bg-yellow-700":"bg-red-600 hover:bg-red-700"}`,children:f?"Fechando...":b?"Validando...":k?"Fechar Mesmo Assim":"Fechar Caixa"})]})]})]})}):null},kO=({isOpen:e,onClose:t,onProcessWithdrawal:n,currentCashBalance:i,loading:l=!1})=>{const[c,u]=v.useState({amount:0,reason:"",authorized_by:"",recipient:"",purpose:"other"}),[h,f]=v.useState({}),[p,g]=v.useState(!1),y=(N,D)=>{u(S=>({...S,[N]:D})),h[N]&&f(S=>({...S,[N]:""}))},b=()=>{var D;const N={};return(!c.amount||c.amount<=0)&&(N.amount="Valor deve ser maior que zero"),c.amount>i&&(N.amount="Valor no pode ser maior que o saldo em caixa"),c.reason.trim()||(N.reason="Motivo  obrigatrio"),c.authorized_by.trim()||(N.authorized_by="Nome do autorizador  obrigatrio"),c.purpose==="transfer"&&!((D=c.recipient)!=null&&D.trim())&&(N.recipient="Destinatrio  obrigatrio para transferncias"),f(N),Object.keys(N).length===0},w=async N=>{if(N.preventDefault(),!!b()){g(!0);try{await n(c),_()}catch(D){console.error("Erro ao processar sada:",D)}finally{g(!1)}}},_=()=>{u({amount:0,reason:"",authorized_by:"",recipient:"",purpose:"other"}),f({}),g(!1),t()},T=[{value:"change",label:"Troco"},{value:"expense",label:"Despesa"},{value:"transfer",label:"Transferncia"},{value:"other",label:"Outros"}];return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-full",children:a.jsx(ui,{className:"h-5 w-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sada de Dinheiro"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Saldo disponvel: ",Me(i)]})]})]}),a.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:p,title:"Fechar modal","aria-label":"Fechar modal",children:a.jsx(at,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-6 pb-0",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start space-x-3",children:[a.jsx(Hs,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-yellow-800",children:"Ateno"}),a.jsx("p",{className:"text-yellow-700 mt-1",children:"Esta operao reduzir o saldo em caixa e deve ser autorizada por um supervisor."})]})]})}),a.jsxs("form",{onSubmit:w,className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor da Sada *"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:i,value:c.amount||"",onChange:N=>y("amount",parseFloat(N.target.value)||0),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${h.amount?"border-red-300":"border-gray-300"}`,placeholder:"0,00",disabled:p})]}),h.amount&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.amount})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Finalidade *"}),a.jsx("select",{value:c.purpose,onChange:N=>y("purpose",N.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:p,title:"Selecione a finalidade da sada","aria-label":"Finalidade da sada de dinheiro",children:T.map(N=>a.jsx("option",{value:N.value,children:N.label},N.value))})]}),c.purpose==="transfer"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatrio *"}),a.jsx("input",{type:"text",value:c.recipient||"",onChange:N=>y("recipient",N.target.value),className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${h.recipient?"border-red-300":"border-gray-300"}`,placeholder:"Nome do destinatrio",disabled:p}),h.recipient&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.recipient})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo/Descrio *"}),a.jsx("textarea",{value:c.reason,onChange:N=>y("reason",N.target.value),rows:3,className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none ${h.reason?"border-red-300":"border-gray-300"}`,placeholder:"Descreva o motivo da sada de dinheiro...",disabled:p}),h.reason&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.reason})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Autorizado por *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",value:c.authorized_by,onChange:N=>y("authorized_by",N.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${h.authorized_by?"border-red-300":"border-gray-300"}`,placeholder:"Nome do supervisor/gerente",disabled:p})]}),h.authorized_by&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.authorized_by})]})]}),c.amount>0&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Resumo da Operao"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Saldo atual:"}),a.jsx("span",{className:"font-medium",children:Me(i)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Valor da sada:"}),a.jsxs("span",{className:"font-medium text-red-600",children:["-",Me(c.amount)]})]}),a.jsx("div",{className:"border-t pt-1 mt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-900 font-medium",children:"Saldo aps sada:"}),a.jsx("span",{className:"font-bold",children:Me(i-c.amount)})]})})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:_,className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition-colors font-medium",disabled:p,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:p||l||!c.amount||!c.reason.trim()||!c.authorized_by.trim(),children:p?"Processando...":"Processar Sada"})]})]})]})}):null},MO=({isOpen:e,onClose:t,onProcessTransfer:n,currentCashBalance:i,loading:l=!1})=>{const[c,u]=v.useState({amount:i,transfer_date:new Date().toISOString().split("T")[0],authorized_by:"",treasury_receipt_number:"",notes:""}),[h,f]=v.useState({}),[p,g]=v.useState(!1),y=(N,D)=>{u(S=>({...S,[N]:D})),h[N]&&f(S=>({...S,[N]:""}))},b=()=>{const N={};(!c.amount||c.amount<=0)&&(N.amount="Valor deve ser maior que zero"),c.amount>i&&(N.amount="Valor no pode ser maior que o saldo em caixa"),c.transfer_date||(N.transfer_date="Data da transferncia  obrigatria"),c.authorized_by.trim()||(N.authorized_by="Nome do autorizador  obrigatrio");const D=new Date(c.transfer_date),S=new Date;return S.setHours(23,59,59,999),D>S&&(N.transfer_date="Data no pode ser futura"),f(N),Object.keys(N).length===0},w=async N=>{if(N.preventDefault(),!!b()){g(!0);try{await n(c),_()}catch(D){console.error("Erro ao processar transferncia:",D)}finally{g(!1)}}},_=()=>{u({amount:i,transfer_date:new Date().toISOString().split("T")[0],authorized_by:"",treasury_receipt_number:"",notes:""}),f({}),g(!1),t()},T=()=>{y("amount",i)};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:a.jsx(Ic,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transferncia para Tesouraria"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Saldo disponvel: ",Me(i)]})]})]}),a.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:p,title:"Fechar modal","aria-label":"Fechar modal",children:a.jsx(at,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-6 pb-0",children:a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start space-x-3",children:[a.jsx(oA,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-blue-800",children:"Transferncia para Tesouraria"}),a.jsx("p",{className:"text-blue-700 mt-1",children:"Esta operao transfere o dinheiro em caixa para a tesouraria central. Um comprovante ser gerado para assinatura do conferente."})]})]})}),a.jsxs("form",{onSubmit:w,className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor da Transferncia *"}),a.jsx("button",{type:"button",onClick:T,className:"text-xs text-purple-600 hover:text-purple-700 underline",disabled:p,children:"Transferir todo o saldo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:i,value:c.amount||"",onChange:N=>y("amount",parseFloat(N.target.value)||0),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${h.amount?"border-red-300":"border-gray-300"}`,placeholder:"0,00",disabled:p})]}),h.amount&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.amount})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data da Transferncia *"}),a.jsxs("div",{className:"relative",children:[a.jsx(al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"date",value:c.transfer_date,onChange:N=>y("transfer_date",N.target.value),max:new Date().toISOString().split("T")[0],className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${h.transfer_date?"border-red-300":"border-gray-300"}`,disabled:p,title:"Selecione a data da transferncia","aria-label":"Data da transferncia"})]}),h.transfer_date&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.transfer_date})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Autorizado por *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",value:c.authorized_by,onChange:N=>y("authorized_by",N.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${h.authorized_by?"border-red-300":"border-gray-300"}`,placeholder:"Nome do supervisor/gerente",disabled:p})]}),h.authorized_by&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.authorized_by})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero do Comprovante da Tesouraria"}),a.jsxs("div",{className:"relative",children:[a.jsx(CA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",value:c.treasury_receipt_number||"",onChange:N=>y("treasury_receipt_number",N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Ex: TSR-2024-001234",disabled:p})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nmero de referncia do comprovante da tesouraria (opcional)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),a.jsx("textarea",{value:c.notes||"",onChange:N=>y("notes",N.target.value),rows:3,className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Observaes adicionais sobre a transferncia...",disabled:p})]})]}),c.amount>0&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Resumo da Transferncia"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Saldo atual em caixa:"}),a.jsx("span",{className:"font-medium",children:Me(i)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Valor a transferir:"}),a.jsx("span",{className:"font-medium text-purple-600",children:Me(c.amount)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Data da transferncia:"}),a.jsx("span",{className:"font-medium",children:qt(new Date(c.transfer_date),"dd 'de' MMMM 'de' yyyy",{locale:ts})})]}),a.jsx("div",{className:"border-t pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-900 font-medium",children:"Saldo restante em caixa:"}),a.jsx("span",{className:"font-bold",children:Me(i-c.amount)})]})})]})]}),c.amount===i&&c.amount>0&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start space-x-2",children:[a.jsx(Hs,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-yellow-800",children:"Transferncia Total"}),a.jsx("p",{className:"text-yellow-700",children:"Voc est transferindo todo o saldo em caixa. O caixa ficar zerado aps esta operao."})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:_,className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition-colors font-medium",disabled:p,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:p||l||!c.amount||!c.authorized_by.trim(),children:p?"Processando...":"Transferir e Imprimir Comprovante"})]})]})]})}):null},OO=({receiptData:e,onPrint:t})=>{const n=()=>{const i=document.getElementById("treasury-transfer-receipt");if(!i)return;const l=window.open("","_blank");l&&(l.document.write(`
      <html>
        <head>
          <title>Comprovante de Transferncia - Tesouraria</title>
          <style>
            body {
              font-family: 'Courier New', monospace;
              font-size: 12px;
              line-height: 1.4;
              margin: 0;
              padding: 20px;
              background: white;
            }
            .receipt {
              max-width: 300px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #000;
              padding-bottom: 10px;
              margin-bottom: 15px;
            }
            .company-name {
              font-size: 16px;
              font-weight: bold;
              margin-bottom: 5px;
            }
            .receipt-title {
              font-size: 14px;
              font-weight: bold;
              margin-top: 10px;
            }
            .section {
              margin-bottom: 15px;
            }
            .section-title {
              font-weight: bold;
              border-bottom: 1px solid #000;
              margin-bottom: 5px;
              text-transform: uppercase;
            }
            .row {
              display: flex;
              justify-content: space-between;
              margin-bottom: 3px;
            }
            .row-full {
              margin-bottom: 3px;
            }
            .total {
              border-top: 2px solid #000;
              border-bottom: 2px solid #000;
              padding: 8px 0;
              margin: 15px 0;
              font-weight: bold;
              font-size: 14px;
            }
            .signatures {
              margin-top: 30px;
              border-top: 1px solid #000;
              padding-top: 20px;
            }
            .signature-line {
              border-bottom: 1px solid #000;
              margin: 30px 0 10px 0;
              height: 1px;
            }
            .signature-label {
              text-align: center;
              font-size: 10px;
              margin-top: 5px;
            }
            .footer {
              text-align: center;
              margin-top: 30px;
              font-size: 10px;
              border-top: 1px solid #000;
              padding-top: 10px;
            }
            @media print {
              body { margin: 0; padding: 10px; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          ${i.innerHTML}
        </body>
      </html>
    `),l.document.close(),l.focus(),l.print(),t&&t())};return a.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[a.jsxs("div",{id:"treasury-transfer-receipt",className:"receipt",children:[a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"company-name",children:"AABB - SISTEMA DE GESTO"}),a.jsx("div",{children:"Associao Atltica Banco do Brasil"}),a.jsx("div",{className:"receipt-title",children:"COMPROVANTE DE TRANSFERNCIA"}),a.jsx("div",{className:"receipt-title",children:"TESOURARIA"})]}),a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Dados da Transferncia"}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"ID Transferncia:"}),a.jsxs("span",{children:["#",e.transferId.slice(-8).toUpperCase()]})]}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"Data/Hora:"}),a.jsx("span",{children:qt(e.timestamp,"dd/MM/yyyy HH:mm",{locale:ts})})]}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"Data Transferncia:"}),a.jsx("span",{children:qt(new Date(e.transferDate),"dd/MM/yyyy",{locale:ts})})]}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"Sesso Caixa:"}),a.jsxs("span",{children:["#",e.sessionId.slice(-6).toUpperCase()]})]})]}),a.jsx("div",{className:"total",children:a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"VALOR TRANSFERIDO:"}),a.jsx("span",{children:Me(e.amount)})]})}),a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Autorizao"}),a.jsxs("div",{className:"row-full",children:[a.jsx("strong",{children:"Autorizado por:"})," ",e.authorizedBy]}),a.jsxs("div",{className:"row-full",children:[a.jsx("strong",{children:"Operador:"})," ",e.cashierName]}),e.treasuryReceiptNumber&&a.jsxs("div",{className:"row-full",children:[a.jsx("strong",{children:"Comprovante Tesouraria:"})," ",e.treasuryReceiptNumber]})]}),e.notes&&a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Observaes"}),a.jsx("div",{className:"row-full",children:e.notes})]}),a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Informaes"}),a.jsx("div",{className:"row-full",style:{fontSize:"10px"},children:"Este comprovante confirma a transferncia de valores em dinheiro do caixa operacional para a tesouraria central."}),a.jsx("div",{className:"row-full",style:{fontSize:"10px",marginTop:"5px"},children:"Confira os dados e guarde este comprovante."})]}),a.jsxs("div",{className:"signatures",children:[a.jsx("div",{className:"section-title",children:"Assinaturas"}),a.jsxs("div",{style:{marginTop:"20px"},children:[a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-label",children:"OPERADOR DE CAIXA"}),a.jsx("div",{className:"signature-label",children:e.cashierName})]}),a.jsxs("div",{style:{marginTop:"25px"},children:[a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-label",children:"SUPERVISOR/AUTORIZAO"}),a.jsx("div",{className:"signature-label",children:e.authorizedBy})]}),a.jsxs("div",{style:{marginTop:"25px"},children:[a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-label",children:"CONFERENTE TESOURARIA"}),a.jsx("div",{className:"signature-label",children:"Nome: ___________________________"})]})]}),a.jsxs("div",{className:"footer",children:[a.jsx("div",{children:"AABB - Sistema de Gesto v1.0"}),a.jsx("div",{children:"Documento gerado automaticamente"}),a.jsx("div",{children:qt(new Date,"dd/MM/yyyy HH:mm:ss",{locale:ts})})]})]}),a.jsx("div",{className:"flex justify-center mt-6 no-print",children:a.jsxs("button",{onClick:n,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),a.jsx("span",{children:"Imprimir Comprovante"})]})})]})},DO={change:"Troco",expense:"Despesa",transfer:"Transferncia",other:"Outros"},RO=({receiptData:e,onPrint:t})=>{const n=()=>{const i=document.getElementById("cash-withdrawal-receipt");if(!i)return;const l=window.open("","_blank");l&&(l.document.write(`
      <html>
        <head>
          <title>Comprovante de Sada de Dinheiro</title>
          <style>
            body {
              font-family: 'Courier New', monospace;
              font-size: 12px;
              line-height: 1.4;
              margin: 0;
              padding: 20px;
              background: white;
            }
            .receipt {
              max-width: 300px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #000;
              padding-bottom: 10px;
              margin-bottom: 15px;
            }
            .company-name {
              font-size: 16px;
              font-weight: bold;
              margin-bottom: 5px;
            }
            .receipt-title {
              font-size: 14px;
              font-weight: bold;
              margin-top: 10px;
            }
            .section {
              margin-bottom: 15px;
            }
            .section-title {
              font-weight: bold;
              border-bottom: 1px solid #000;
              margin-bottom: 5px;
              text-transform: uppercase;
            }
            .row {
              display: flex;
              justify-content: space-between;
              margin-bottom: 3px;
            }
            .row-full {
              margin-bottom: 3px;
            }
            .total {
              border-top: 2px solid #000;
              border-bottom: 2px solid #000;
              padding: 8px 0;
              margin: 15px 0;
              font-weight: bold;
              font-size: 14px;
            }
            .signatures {
              margin-top: 30px;
              border-top: 1px solid #000;
              padding-top: 20px;
            }
            .signature-line {
              border-bottom: 1px solid #000;
              margin: 30px 0 10px 0;
              height: 1px;
            }
            .signature-label {
              text-align: center;
              font-size: 10px;
              margin-top: 5px;
            }
            .footer {
              text-align: center;
              margin-top: 30px;
              font-size: 10px;
              border-top: 1px solid #000;
              padding-top: 10px;
            }
            .highlight {
              background-color: #f0f0f0;
              padding: 5px;
              border: 1px solid #000;
              margin: 10px 0;
            }
            @media print {
              body { margin: 0; padding: 10px; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          ${i.innerHTML}
        </body>
      </html>
    `),l.document.close(),l.focus(),l.print(),t&&t())};return a.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[a.jsxs("div",{id:"cash-withdrawal-receipt",className:"receipt",children:[a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"company-name",children:"AABB - SISTEMA DE GESTO"}),a.jsx("div",{children:"Associao Atltica Banco do Brasil"}),a.jsx("div",{className:"receipt-title",children:"COMPROVANTE DE SADA"}),a.jsx("div",{className:"receipt-title",children:"DE DINHEIRO"})]}),a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Dados da Operao"}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"ID Operao:"}),a.jsxs("span",{children:["#",e.withdrawalId.slice(-8).toUpperCase()]})]}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"Data/Hora:"}),a.jsx("span",{children:qt(e.timestamp,"dd/MM/yyyy HH:mm",{locale:ts})})]}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"Sesso Caixa:"}),a.jsxs("span",{children:["#",e.sessionId.slice(-6).toUpperCase()]})]}),a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"Finalidade:"}),a.jsx("span",{children:DO[e.purpose]})]})]}),a.jsx("div",{className:"total",children:a.jsxs("div",{className:"row",children:[a.jsx("span",{children:"VALOR DA SADA:"}),a.jsx("span",{children:Me(e.amount)})]})}),a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Justificativa"}),a.jsx("div",{className:"highlight",children:a.jsx("div",{className:"row-full",children:e.reason})})]}),a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Autorizao"}),a.jsxs("div",{className:"row-full",children:[a.jsx("strong",{children:"Autorizado por:"})," ",e.authorizedBy]}),a.jsxs("div",{className:"row-full",children:[a.jsx("strong",{children:"Operador de Caixa:"})," ",e.cashierName]}),e.recipient&&a.jsxs("div",{className:"row-full",children:[a.jsx("strong",{children:"Beneficirio:"})," ",e.recipient]})]}),a.jsxs("div",{className:"section",children:[a.jsx("div",{className:"section-title",children:"Informaes"}),a.jsx("div",{className:"row-full",style:{fontSize:"10px"},children:"Este comprovante documenta a sada de dinheiro do caixa operacional."}),a.jsx("div",{className:"row-full",style:{fontSize:"10px",marginTop:"5px"},children:"Operao devidamente autorizada e registrada no sistema."}),a.jsx("div",{className:"row-full",style:{fontSize:"10px",marginTop:"5px"},children:"Confira os dados e mantenha este comprovante arquivado."})]}),a.jsxs("div",{className:"signatures",children:[a.jsx("div",{className:"section-title",children:"Assinaturas e Confirmaes"}),a.jsxs("div",{style:{marginTop:"20px"},children:[a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-label",children:"OPERADOR DE CAIXA"}),a.jsx("div",{className:"signature-label",children:e.cashierName})]}),a.jsxs("div",{style:{marginTop:"25px"},children:[a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-label",children:"SUPERVISOR/AUTORIZAO"}),a.jsx("div",{className:"signature-label",children:e.authorizedBy})]}),e.recipient&&a.jsxs("div",{style:{marginTop:"25px"},children:[a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-label",children:"BENEFICIRIO/RECEBEDOR"}),a.jsx("div",{className:"signature-label",children:e.recipient})]}),a.jsxs("div",{style:{marginTop:"25px"},children:[a.jsx("div",{className:"signature-line"}),a.jsx("div",{className:"signature-label",children:"TESTEMUNHA (se necessrio)"}),a.jsx("div",{className:"signature-label",children:"Nome: ___________________________"})]})]}),a.jsxs("div",{className:"footer",children:[a.jsx("div",{children:"AABB - Sistema de Gesto v1.0"}),a.jsx("div",{children:"Documento gerado automaticamente"}),a.jsx("div",{children:qt(new Date,"dd/MM/yyyy HH:mm:ss",{locale:ts})}),a.jsx("div",{style:{marginTop:"10px",fontSize:"8px"},children:" Este documento possui valor legal e deve ser arquivado"})]})]}),a.jsx("div",{className:"flex justify-center mt-6 no-print",children:a.jsxs("button",{onClick:n,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center space-x-2",children:[a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),a.jsx("span",{children:"Imprimir Comprovante"})]})})]})},PO=({transactions:e,onAddWithdrawal:t,onExportReport:n})=>{const[i,l]=v.useState("all"),[c,u]=v.useState("all"),h=b=>{var w,_;return(w=b.notes)!=null&&w.includes("[SADA]")?"cash_withdrawal":(_=b.notes)!=null&&_.includes("[TRANSFERNCIA TESOURARIA]")?"treasury_transfer":b.transaction_type},f=e.filter(b=>{const w=h(b),_=i==="all"||w===i,T=c==="all"||b.payment_method===c;return _&&T}),p={entradas:e.filter(b=>{const w=h(b);return["sale","adjustment"].includes(w)&&b.amount>0}).reduce((b,w)=>b+w.amount,0),saidas:e.filter(b=>{const w=h(b);return["refund","cash_withdrawal","treasury_transfer"].includes(w)||w==="adjustment"&&b.amount<0}).reduce((b,w)=>b+Math.abs(w.amount),0),saldo:0};p.saldo=p.entradas-p.saidas;const g=b=>{switch(b){case"sale":return a.jsx(Yo,{className:"h-4 w-4 text-green-600"});case"refund":return a.jsx(Yb,{className:"h-4 w-4 text-red-600"});case"adjustment":return a.jsx(Ic,{className:"h-4 w-4 text-blue-600"});case"cash_withdrawal":return a.jsx(ui,{className:"h-4 w-4 text-orange-600"});case"treasury_transfer":return a.jsx(Ic,{className:"h-4 w-4 text-purple-600"});default:return a.jsx(es,{className:"h-4 w-4 text-gray-600"})}},y=(b,w)=>b==="sale"||b==="adjustment"&&w>0?"text-green-600":["refund","cash_withdrawal","treasury_transfer"].includes(b)||b==="adjustment"&&w<0?"text-red-600":"text-gray-600";return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Movimentao do Dia"}),a.jsx("p",{className:"text-sm text-gray-600",children:qt(new Date,"dd 'de' MMMM 'de' yyyy",{locale:ts})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:t,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm",children:[a.jsx(ui,{className:"h-4 w-4"}),a.jsx("span",{children:"Sada de Dinheiro"})]}),a.jsxs("button",{onClick:n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 text-sm",children:[a.jsx(Dj,{className:"h-4 w-4"}),a.jsx("span",{children:"Exportar"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Entradas"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:Me(p.entradas)})]}),a.jsx(Yo,{className:"h-8 w-8 text-green-600"})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Sadas"}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:Me(p.saidas)})]}),a.jsx(Yb,{className:"h-8 w-8 text-red-600"})]})}),a.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`border rounded-lg p-4 ${p.saldo>=0?"bg-blue-50 border-blue-200":"bg-orange-50 border-orange-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${p.saldo>=0?"text-blue-800":"text-orange-800"}`,children:"Saldo"}),a.jsx("p",{className:`text-2xl font-bold ${p.saldo>=0?"text-blue-900":"text-orange-900"}`,children:Me(Math.abs(p.saldo))})]}),a.jsx(es,{className:`h-8 w-8 ${p.saldo>=0?"text-blue-600":"text-orange-600"}`})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:i,onChange:b=>l(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",title:"Filtrar por tipo de transao","aria-label":"Filtro por tipo de transao",children:[a.jsx("option",{value:"all",children:"Todos os Tipos"}),a.jsx("option",{value:"sale",children:"Vendas"}),a.jsx("option",{value:"refund",children:"Estornos"}),a.jsx("option",{value:"adjustment",children:"Ajustes"}),a.jsx("option",{value:"cash_withdrawal",children:"Sadas de Dinheiro"}),a.jsx("option",{value:"treasury_transfer",children:"Transferncias"})]}),a.jsxs("select",{value:c,onChange:b=>u(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",title:"Filtrar por mtodo de pagamento","aria-label":"Filtro por mtodo de pagamento",children:[a.jsx("option",{value:"all",children:"Todos os Mtodos"}),a.jsx("option",{value:"dinheiro",children:"Dinheiro"}),a.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),a.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx("option",{value:"pix",children:"PIX"}),a.jsx("option",{value:"transferencia",children:"Transferncia"})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[f.length," de ",e.length," transaes"]})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Nenhuma transao encontrada"})}):f.map(b=>{const w=h(b);return a.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[g(w),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:uO[w]||"Transao"}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[a.jsx(zt,{className:"h-3 w-3"}),a.jsx("span",{children:qt(new Date(b.processed_at),"HH:mm",{locale:ts})}),a.jsx("span",{children:""}),a.jsx("span",{children:s0[b.payment_method]}),b.processed_by_employee&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx(Kn,{className:"h-3 w-3"}),a.jsx("span",{children:b.processed_by_employee.name})]})]}),b.notes&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.notes.replace(/\[[^\]]+\]\s*/g,"")})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-sm font-bold ${y(w,b.amount)}`,children:[["refund","cash_withdrawal","treasury_transfer"].includes(w)||w==="adjustment"&&b.amount<0?"-":"+",Me(Math.abs(b.amount))]}),b.reference_number&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",b.reference_number]})]})]},b.id)})})]})},zO=({receiptData:e,onPrint:t})=>{var y;const{order:n,paymentMethod:i,amountPaid:l,cashierName:c,referenceNumber:u,timestamp:h}=e,f=b=>({dinheiro:"Dinheiro",cartao_debito:"Carto Dbito",cartao_credito:"Carto Crdito",pix:"PIX",transferencia:"Transferncia"})[b]||b,p=()=>{t&&t();const b=window.open("","_blank");b&&(b.document.write(g()),b.document.close(),b.print(),b.close())},g=()=>{var b;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Comprovante - ${n.order_number.toString().padStart(4,"0")}</title>
        <style>
          body {
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
            margin: 0;
            padding: 20px;
            width: 300px;
          }
          .header {
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
            margin-bottom: 15px;
          }
          .title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
          }
          .subtitle {
            font-size: 10px;
            color: #666;
          }
          .section {
            margin-bottom: 15px;
          }
          .section-title {
            font-weight: bold;
            border-bottom: 1px solid #ccc;
            padding-bottom: 2px;
            margin-bottom: 5px;
          }
          .item-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
          }
          .item-name {
            flex: 1;
          }
          .item-qty {
            width: 30px;
            text-align: center;
          }
          .item-price {
            width: 60px;
            text-align: right;
          }
          .total-row {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            border-top: 1px solid #000;
            padding-top: 5px;
            margin-top: 10px;
          }
          .footer {
            text-align: center;
            border-top: 2px solid #000;
            padding-top: 10px;
            margin-top: 15px;
            font-size: 10px;
          }
          .dashed-line {
            border-top: 1px dashed #666;
            margin: 10px 0;
          }
          .payment-status {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            margin: 15px 0;
          }
          @media print {
            body { margin: 0; padding: 10px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="title">CLUBE SOCIAL</div>
          <div class="subtitle">Bar & Restaurante</div>
          <div class="subtitle">CNPJ: 12.345.678/0001-90</div>
        </div>

        <div class="section">
          <div class="section-title">COMPROVANTE DE PAGAMENTO</div>
          <div>Pedido: #${n.order_number.toString().padStart(4,"0")}</div>
          <div>Data Pedido: ${new Date(n.created_at).toLocaleDateString("pt-BR")}</div>
          <div>Hora Pedido: ${new Date(n.created_at).toLocaleTimeString("pt-BR")}</div>
          <div>Data Pagto: ${h.toLocaleDateString("pt-BR")}</div>
          <div>Hora Pagto: ${h.toLocaleTimeString("pt-BR")}</div>
          <div>Atendente: ${n.employee_name||"N/A"}</div>
          <div>Caixa: ${c}</div>
          ${n.customer_name?`<div>Cliente: ${n.customer_name}</div>`:""}
          ${n.customer_phone?`<div>Telefone: ${n.customer_phone}</div>`:""}
        </div>

        <div class="dashed-line"></div>

        <div class="section">
          <div class="section-title">ITENS VENDIDOS</div>
          ${((b=n.items)==null?void 0:b.map(w=>{var _;return`
            <div class="item-row">
              <div class="item-name">${((_=w.menu_item)==null?void 0:_.name)||"Item"}</div>
              <div class="item-qty">${w.quantity}x</div>
              <div class="item-price">R$ ${(w.unit_price*w.quantity).toFixed(2)}</div>
            </div>
            ${w.notes?`<div style="font-size: 10px; color: #666; margin-left: 10px;">Obs: ${w.notes}</div>`:""}
          `}).join(""))||"<div>Nenhum item encontrado</div>"}
        </div>

        <div class="dashed-line"></div>

        <div class="section">
          <div class="item-row">
            <div>Subtotal:</div>
            <div>R$ ${n.total_amount.toFixed(2)}</div>
          </div>
          ${n.discount_amount&&n.discount_amount>0?`
            <div class="item-row" style="color: #666;">
              <div>Desconto:</div>
              <div>-R$ ${n.discount_amount.toFixed(2)}</div>
            </div>
          `:""}
          <div class="total-row">
            <div>TOTAL PAGO:</div>
            <div>R$ ${l.toFixed(2)}</div>
          </div>
        </div>

        <div class="dashed-line"></div>

        <div class="section">
          <div class="section-title">INFORMAES DE PAGAMENTO</div>
          <div>Forma de Pagamento: ${f(i)}</div>
          <div>Valor Pago: R$ ${l.toFixed(2)}</div>
          ${u?`<div>Ref. Transao: ${u}</div>`:""}
          <div>Status: PAGO </div>
        </div>

        ${n.notes?`
          <div class="dashed-line"></div>
          <div class="section">
            <div class="section-title">OBSERVAES DO PEDIDO</div>
            <div>${n.notes}</div>
          </div>
        `:""}

        ${n.customer_notes?`
          <div class="dashed-line"></div>
          <div class="section">
            <div class="section-title">OBSERVAES DO CLIENTE</div>
            <div>${n.customer_notes}</div>
          </div>
        `:""}

        <div class="payment-status">
          <div> PAGAMENTO APROVADO </div>
          <div style="margin-top: 5px; font-size: 10px;">
            Transao processada com sucesso
          </div>
        </div>

        <div class="footer">
          <div>Obrigado pela preferncia!</div>
          <div>Volte sempre!</div>
          <div style="margin-top: 10px;">
            ${n.customer_name?`Pontos acumulados: +${Math.floor(n.final_amount/10)}`:"Cadastre-se e ganhe pontos!"}
          </div>
          <div style="margin-top: 10px;">
            ID: ${n.id.substring(0,8).toUpperCase()}
          </div>
        </div>
      </body>
      </html>
    `};return a.jsxs("div",{className:"payment-receipt",children:[a.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-6 max-w-sm mx-auto font-mono text-sm",children:[a.jsxs("div",{className:"text-center border-b-2 border-black pb-3 mb-4",children:[a.jsx("div",{className:"font-bold text-lg",children:"CLUBE SOCIAL"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Bar & Restaurante"}),a.jsx("div",{className:"text-xs text-gray-600",children:"CNPJ: 12.345.678/0001-90"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"font-bold border-b border-gray-400 pb-1 mb-2",children:"COMPROVANTE DE PAGAMENTO"}),a.jsxs("div",{children:["Pedido: #",n.order_number.toString().padStart(4,"0")]}),a.jsxs("div",{children:["Data Pedido: ",new Date(n.created_at).toLocaleDateString("pt-BR")]}),a.jsxs("div",{children:["Hora Pedido: ",new Date(n.created_at).toLocaleTimeString("pt-BR")]}),a.jsxs("div",{children:["Data Pagto: ",h.toLocaleDateString("pt-BR")]}),a.jsxs("div",{children:["Hora Pagto: ",h.toLocaleTimeString("pt-BR")]}),a.jsxs("div",{children:["Atendente: ",n.employee_name||"N/A"]}),a.jsxs("div",{children:["Caixa: ",c]}),n.customer_name&&a.jsxs("div",{children:["Cliente: ",n.customer_name]}),n.customer_phone&&a.jsxs("div",{children:["Telefone: ",n.customer_phone]})]}),a.jsxs("div",{className:"border-t border-dashed border-gray-400 pt-3 mb-4",children:[a.jsx("div",{className:"font-bold border-b border-gray-400 pb-1 mb-2",children:"ITENS VENDIDOS"}),((y=n.items)==null?void 0:y.map((b,w)=>{var _;return a.jsxs("div",{className:"mb-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"flex-1",children:((_=b.menu_item)==null?void 0:_.name)||"Item"}),a.jsxs("span",{className:"w-8 text-center",children:[b.quantity,"x"]}),a.jsxs("span",{className:"w-16 text-right",children:["R$ ",(b.unit_price*b.quantity).toFixed(2)]})]}),b.notes&&a.jsxs("div",{className:"text-xs text-gray-600 ml-2",children:["Obs: ",b.notes]})]},w)}))||a.jsx("div",{className:"text-gray-500 text-center py-2",children:"Nenhum item encontrado"})]}),a.jsxs("div",{className:"border-t border-dashed border-gray-400 pt-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["R$ ",n.total_amount.toFixed(2)]})]}),n.discount_amount&&n.discount_amount>0&&a.jsxs("div",{className:"flex justify-between mb-1 text-gray-600",children:[a.jsx("span",{children:"Desconto:"}),a.jsxs("span",{children:["-R$ ",n.discount_amount.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-bold border-t border-black pt-2",children:[a.jsx("span",{children:"TOTAL PAGO:"}),a.jsxs("span",{children:["R$ ",l.toFixed(2)]})]})]}),a.jsxs("div",{className:"border-t border-dashed border-gray-400 pt-3 mb-4",children:[a.jsx("div",{className:"font-bold border-b border-gray-400 pb-1 mb-2",children:"INFORMAES DE PAGAMENTO"}),a.jsxs("div",{children:["Forma: ",f(i)]}),a.jsxs("div",{children:["Valor Pago: ",Me(l)]}),u&&a.jsxs("div",{children:["Ref.: ",u]}),a.jsx("div",{children:"Status: PAGO "})]}),n.notes&&a.jsxs("div",{className:"border-t border-dashed border-gray-400 pt-3 mb-4",children:[a.jsx("div",{className:"font-bold border-b border-gray-400 pb-1 mb-2",children:"OBSERVAES DO PEDIDO"}),a.jsx("div",{children:n.notes})]}),n.customer_notes&&a.jsxs("div",{className:"border-t border-dashed border-gray-400 pt-3 mb-4",children:[a.jsx("div",{className:"font-bold border-b border-gray-400 pb-1 mb-2",children:"OBSERVAES DO CLIENTE"}),a.jsx("div",{children:n.customer_notes})]}),a.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 p-3 text-center font-bold mb-4",children:[a.jsx("div",{children:" PAGAMENTO APROVADO "}),a.jsx("div",{className:"text-xs mt-1",children:"Transao processada com sucesso"})]}),a.jsxs("div",{className:"text-center border-t-2 border-black pt-3 text-xs",children:[a.jsx("div",{children:"Obrigado pela preferncia!"}),a.jsx("div",{children:"Volte sempre!"}),a.jsx("div",{className:"mt-2",children:n.customer_name?`Pontos acumulados: +${Math.floor(n.final_amount/10)}`:"Cadastre-se e ganhe pontos!"}),a.jsxs("div",{className:"mt-2",children:["ID: ",n.id.substring(0,8).toUpperCase()]})]})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("button",{onClick:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Imprimir Comprovante"})})]})},LO=()=>{const{user:e}=Xt(),{currentSession:t,pendingComandas:n,todaysSummary:i,todaysTransactions:l,loading:c,error:u,openCashSession:h,closeCashSession:f,processCashWithdrawal:p,processTreasuryTransfer:g}=c1(),{pendingOrders:y,processPayment:b}=md(),[w,_]=v.useState(!1),[T,N]=v.useState(!1),[D,S]=v.useState(!1),[A,k]=v.useState(!1),[j,M]=v.useState(!1),[L,$]=v.useState(!1),[I,V]=v.useState(!1),[J,Q]=v.useState(!1),[B,Y]=v.useState(null),[K,z]=v.useState("dinheiro"),[R,q]=v.useState(!1),[ne,E]=v.useState(null),[F,P]=v.useState(null),[Z,ue]=v.useState(null),[ye,fe]=v.useState(!0),[oe,me]=v.useState(!1),[ke,Ge]=v.useState(0),ct=async X=>{if(!t){alert(" necessrio ter uma sesso de caixa aberta para processar pagamentos.");return}Y(X),S(!0)},bt=async()=>{if(!(!B||!t)){q(!0);try{await b({order_id:B.id,payment_method:K,cash_session_id:t.id,amount_paid:B.final_amount}),E({order:B,paymentMethod:K,amountPaid:B.final_amount,cashierName:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"Operador de Caixa",timestamp:new Date}),S(!1),k(!0),Y(null)}catch(X){console.error("Erro ao processar pagamento:",X),alert("Erro ao processar pagamento. Tente novamente.")}finally{q(!1)}}},Lt=()=>{k(!1),E(null)},ds=async X=>{try{const pe=await p(X);ue({withdrawalId:pe,amount:X.amount,reason:X.reason,authorizedBy:X.authorized_by,recipient:X.recipient,purpose:X.purpose,cashierName:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"Operador de Caixa",timestamp:new Date,sessionId:(t==null?void 0:t.id)||""}),M(!1),Q(!0)}catch(pe){console.error("Erro ao processar sada de dinheiro:",pe),alert("Erro ao processar sada de dinheiro. Tente novamente.")}},Oa=async X=>{try{const pe=await g(X);P({transferId:pe,amount:X.amount,transferDate:X.transfer_date,authorizedBy:X.authorized_by,treasuryReceiptNumber:X.treasury_receipt_number,notes:X.notes,cashierName:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"Operador de Caixa",timestamp:new Date,sessionId:(t==null?void 0:t.id)||""}),$(!1),V(!0)}catch(pe){console.error("Erro ao processar transferncia:",pe),alert("Erro ao processar transferncia. Tente novamente.")}},gn=()=>{M(!0)},St=()=>{console.log("Exportando relatrio...")},Da=()=>{V(!1),P(null)},Rs=()=>{Q(!1),ue(null)};v.useEffect(()=>{const X=y.length;if(X>ke&&ke>0){me(!0),fe(!0);const pe=setTimeout(()=>{me(!1)},1e4);return()=>clearTimeout(pe)}Ge(X)},[y.length,ke]);const H=()=>{fe(!1),me(!1);const X=document.getElementById("pending-orders-section");X&&X.scrollIntoView({behavior:"smooth"})},te=()=>{fe(!1),me(!1)};return c?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):u?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hs,{className:"h-6 w-6 text-red-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Erro no Sistema"}),a.jsx("p",{className:"text-red-600",children:u})]})]})})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesto de Caixa"}),a.jsx("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),a.jsx("div",{className:"flex space-x-3",children:t?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>$(!0),className:"bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 flex items-center space-x-2 transition-colors",children:[a.jsx(Ic,{className:"h-5 w-5"}),a.jsx("span",{children:"Transferncia"})]}),a.jsxs("button",{onClick:()=>N(!0),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 flex items-center space-x-2 transition-colors",children:[a.jsx(es,{className:"h-5 w-5"}),a.jsx("span",{children:"Fechar Caixa"})]})]}):a.jsxs("button",{onClick:()=>_(!0),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 flex items-center space-x-2 transition-colors",children:[a.jsx(vs,{className:"h-5 w-5"}),a.jsx("span",{children:"Abrir Caixa"})]})})]}),t?a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(es,{className:"h-8 w-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Caixa Aberto"}),a.jsxs("p",{className:"text-green-600",children:["Aberto s ",new Date(t.opened_at).toLocaleTimeString("pt-BR")]}),a.jsxs("p",{className:"text-sm text-green-600",children:["Valor inicial: ",Me(t.opening_amount)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-green-800",children:Me(t.expected_amount)}),a.jsx("p",{className:"text-sm text-green-600",children:"Valor esperado"})]})]})}):a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:a.jsx(Hs,{className:"h-8 w-8 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Caixa Fechado"}),a.jsx("p",{className:"text-yellow-600",children:" necessrio abrir o caixa para processar pagamentos"})]})]})}),y.length>0&&ye&&a.jsx("div",{className:`mb-8 transition-all duration-300 ${oe?"animate-pulse":""}`,children:a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-300 rounded-lg p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-full ${oe?"bg-red-200 animate-bounce":"bg-orange-100"}`,children:a.jsxs("div",{className:"relative",children:[a.jsx(Hm,{className:`h-8 w-8 ${oe?"text-red-600":"text-orange-600"}`}),y.length>0&&a.jsx("div",{className:`absolute -top-2 -right-2 h-6 w-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${oe?"bg-red-500 animate-ping":"bg-orange-500"}`,children:y.length})]})}),a.jsxs("div",{children:[a.jsxs("h3",{className:`text-xl font-bold flex items-center space-x-2 ${oe?"text-red-800":"text-orange-800"}`,children:[a.jsx("span",{children:"Pedidos Aguardando Pagamento"}),oe&&a.jsx(Gf,{className:"h-5 w-5 text-red-600 animate-bounce"})]}),a.jsxs("p",{className:`${oe?"text-red-600":"text-orange-600"} font-medium`,children:[y.length," ",y.length===1?"pedido pendente":"pedidos pendentes"]}),a.jsx("div",{className:"mt-2 text-sm text-gray-700",children:a.jsxs("p",{children:["Valor total: ",a.jsx("span",{className:"font-semibold text-green-600",children:Me(y.reduce((X,pe)=>X+pe.final_amount,0))})]})})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:H,className:`px-6 py-3 rounded-lg font-medium flex items-center space-x-2 transition-all duration-200 ${oe?"bg-red-600 hover:bg-red-700 text-white shadow-lg transform hover:scale-105":"bg-orange-600 hover:bg-orange-700 text-white"}`,children:[a.jsx(nl,{className:"h-5 w-5"}),a.jsx("span",{children:"Ver Pedidos"})]}),a.jsx("button",{onClick:te,className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",title:"Dispensar alerta","aria-label":"Dispensar alerta",children:a.jsx(at,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-orange-200",children:[a.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-3",children:"Pedidos mais recentes:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:y.slice(0,3).map(X=>a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-orange-200 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("span",{className:"font-bold text-gray-900",children:["#",X.order_number.toString().padStart(4,"0")]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(X.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),X.customer_name&&a.jsx("p",{className:"text-sm text-gray-700 mb-1 truncate",children:X.customer_name}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[(X.items||[]).length," ",(X.items||[]).length===1?"item":"itens"]}),a.jsx("span",{className:"font-bold text-green-600",children:Me(X.final_amount)})]})]},X.id))}),y.length>3&&a.jsxs("p",{className:"text-sm text-orange-600 mt-3 text-center",children:["+",y.length-3," pedidos adicionais aguardando pagamento"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx(Yo,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendas Hoje"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Me(i.total_sales)})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:a.jsx(HA,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Transaes"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total_transactions})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(Oj,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Mdio"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Me(i.avg_ticket)})]})]})}),a.jsx("div",{className:`bg-white rounded-lg shadow p-6 relative ${n.length>0?"ring-2 ring-orange-300":""}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-3 rounded-full ${n.length>0,"bg-orange-100"}`,children:a.jsx(zt,{className:`h-6 w-6 ${n.length>0,"text-orange-600"}`})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Comandas Pendentes"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),n.length>0&&a.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 bg-orange-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold animate-pulse",children:"!"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vendas por Mtodo de Pagamento"}),a.jsx("div",{className:"space-y-4",children:i.by_payment_method.map(X=>{const pe=X.payment_method==="dinheiro"?eA:X.payment_method==="pix"?Bj:ld;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pe,{className:"h-5 w-5 text-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s0[X.payment_method]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Me(X.amount)}),a.jsxs("p",{className:"text-xs text-gray-600",children:[X.percentage.toFixed(1),"%"]})]})]},X.payment_method)})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance por Funcionrio"}),a.jsx("div",{className:"space-y-4",children:i.by_employee.map(X=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:a.jsx(Wn,{className:"h-4 w-4 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:X.employee_name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[X.transaction_count," transaes"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Me(X.total_sales)}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Mdia: ",Me(X.avg_ticket)]})]})]},X.employee_id))})]})]}),a.jsx(PO,{transactions:l,onAddWithdrawal:gn,onExportReport:St}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(zt,{className:"h-6 w-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comandas Pendentes de Pagamento"}),a.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:n.length})]}),n.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(zt,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Todas as comandas foram pagas!"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"No h comandas aguardando pagamento no momento."})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Sistema de comandas ser integrado aps criao das tabelas."})})]}),a.jsxs("div",{id:"pending-orders-section",className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Go,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pedidos de Balco Aguardando Pagamento"}),a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:y.length})]}),y.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Go,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Todos os pedidos foram pagos!"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"No h pedidos de balco aguardando pagamento."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(X=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["#",X.order_number.toString().padStart(4,"0")]}),a.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Aguardando Pagamento"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(X.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),X.customer_name&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:X.customer_name}),X.customer_phone&&a.jsx("p",{className:"text-xs text-gray-600",children:X.customer_phone})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-1",children:[(X.items||[]).length," ",(X.items||[]).length===1?"item":"itens"]}),a.jsxs("div",{className:"space-y-1",children:[(X.items||[]).slice(0,3).map((pe,xe)=>{var ge;return a.jsxs("p",{className:"text-xs text-gray-600",children:[pe.quantity,"x ",((ge=pe.menu_item)==null?void 0:ge.name)||"Item"]},xe)}),(X.items||[]).length>3&&a.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",(X.items||[]).length-3," mais..."]})]})]}),X.customer_notes&&a.jsx("div",{className:"mb-3 p-2 bg-yellow-50 rounded border",children:a.jsx("p",{className:"text-xs text-yellow-800",children:X.customer_notes})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg font-bold text-green-600",children:Me(X.final_amount)}),a.jsx("button",{onClick:()=>ct(X),disabled:!t,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:"Receber Pagamento"})]})]},X.id))})]}),a.jsx(EO,{isOpen:w,onClose:()=>_(!1),onOpenCash:h}),t&&a.jsx(AO,{isOpen:T,onClose:()=>N(!1),session:t,onCloseCash:f}),D&&B&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-h-screen overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Receber Pagamento - #",B.order_number.toString().padStart(4,"0")]}),a.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Fechar modal",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Resumo do Pedido"}),B.customer_name&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Cliente: ",B.customer_name]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[(B.items||[]).map((X,pe)=>{var xe;return a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:[X.quantity,"x ",(xe=X.menu_item)==null?void 0:xe.name]}),a.jsx("span",{children:Me(X.unit_price*X.quantity)})]},pe)}),(B.discount_amount||0)>0&&a.jsxs("div",{className:"flex justify-between text-green-600 border-t pt-1",children:[a.jsx("span",{children:"Desconto:"}),a.jsxs("span",{children:["-",Me(B.discount_amount||0)]})]}),a.jsxs("div",{className:"border-t pt-2 flex justify-between font-medium",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:Me(B.final_amount)})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pagamento"}),a.jsxs("select",{value:K,onChange:X=>z(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Mtodo de pagamento",children:[a.jsx("option",{value:"dinheiro",children:"Dinheiro"}),a.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),a.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx("option",{value:"pix",children:"PIX"}),a.jsx("option",{value:"transferencia",children:"Transferncia"})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>S(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:bt,disabled:R||!t,className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:R?"Processando...":"Processar e Imprimir"})]})]})}),A&&ne&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-white pb-4 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pagamento Processado!"})]}),a.jsx("button",{onClick:Lt,className:"text-gray-400 hover:text-gray-600",title:"Fechar modal de comprovante","aria-label":"Fechar modal de comprovante",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsxs("div",{className:"mb-6 text-center",children:[a.jsxs("p",{className:"text-gray-600 mb-2",children:["Pagamento de #",ne.order.order_number.toString().padStart(4,"0")," processado com sucesso!"]}),a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Comprovante de pagamento gerado"})]}),a.jsx("div",{className:"mb-6",children:a.jsx(zO,{receiptData:ne,onPrint:Lt})}),a.jsxs("div",{className:"flex space-x-3 sticky bottom-0 bg-white pt-4 border-t",children:[a.jsx("button",{onClick:Lt,className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Fechar"}),a.jsxs("button",{onClick:()=>{console.log("Reimprimindo comprovante de pagamento...")},className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),a.jsx("span",{children:"Reimprimir"})]})]})]})}),a.jsx(kO,{isOpen:j,onClose:()=>M(!1),onProcessWithdrawal:ds,currentCashBalance:(t==null?void 0:t.expected_amount)||0,loading:R}),a.jsx(MO,{isOpen:L,onClose:()=>$(!1),onProcessTransfer:Oa,currentCashBalance:(t==null?void 0:t.expected_amount)||0,loading:R}),I&&F&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transferncia Processada!"})]}),a.jsx("button",{onClick:Da,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Fechar modal de comprovante","aria-label":"Fechar modal de comprovante",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-gray-600 mb-4 text-center",children:"Transferncia para tesouraria processada com sucesso!"}),a.jsx("p",{className:"text-sm text-green-600 font-medium text-center mb-4",children:"Comprovante de transferncia gerado"}),a.jsx(OO,{receiptData:F,onPrint:Da})]}),a.jsx("div",{className:"flex space-x-3 p-6 pt-0 border-t border-gray-200",children:a.jsx("button",{onClick:Da,className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Fechar"})})]})}),J&&Z&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sada de Dinheiro Processada!"})]}),a.jsx("button",{onClick:Rs,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Fechar modal de comprovante","aria-label":"Fechar modal de comprovante",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-gray-600 mb-4 text-center",children:"Sada de dinheiro processada com sucesso!"}),a.jsx("p",{className:"text-sm text-orange-600 font-medium text-center mb-4",children:"Comprovante gerado para assinatura"}),a.jsx(RO,{receiptData:Z,onPrint:Rs})]}),a.jsx("div",{className:"flex space-x-3 p-6 pt-0 border-t border-gray-200",children:a.jsx("button",{onClick:Rs,className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Fechar"})})]})}),y.length>0&&!ye&&a.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:a.jsxs("button",{onClick:H,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-full p-4 shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200 flex items-center space-x-2 animate-bounce",title:`${y.length} pedidos aguardando pagamento`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hm,{className:"h-6 w-6"}),a.jsx("div",{className:"absolute -top-2 -right-2 h-5 w-5 bg-white rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-orange-600 text-xs font-bold",children:y.length})})]}),a.jsx("span",{className:"hidden sm:block font-medium",children:"Pedidos Pendentes"})]})})]})},BO=()=>a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Relatrios de Caixa"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Anlise detalhada das operaes financeiras"})]}),a.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[a.jsx(Dj,{className:"h-5 w-5"}),a.jsx("span",{children:"Exportar"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtros"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perodo"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{children:"Hoje"}),a.jsx("option",{children:"Esta Semana"}),a.jsx("option",{children:"Este Ms"}),a.jsx("option",{children:"Personalizado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funcionrio"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{children:"Todos"}),a.jsx("option",{children:"Joo Silva"}),a.jsx("option",{children:"Maria Santos"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pagamento"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{children:"Todos"}),a.jsx("option",{children:"Dinheiro"}),a.jsx("option",{children:"Carto"}),a.jsx("option",{children:"PIX"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Aplicar Filtros"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:a.jsx(Yo,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendas Totais"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"R$ 12.450,00"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx(Oj,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Transaes"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"247"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:a.jsx(al,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sesses"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:a.jsx(Yo,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Mdio"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"R$ 50,40"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vendas por Dia"}),a.jsx("div",{className:"h-64 bg-gray-100 rounded flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Grfico de vendas dirias (a implementar)"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mtodos de Pagamento"}),a.jsx("div",{className:"h-64 bg-gray-100 rounded flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Grfico de pizza (a implementar)"})})]})]})]}),VO=()=>a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Histrico de Transaes"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Todas as transaes registradas no sistema"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente, valor, mtodo...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx(Rj,{className:"h-4 w-4"}),a.jsx("span",{children:"Filtros"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx(al,{className:"h-4 w-4"}),a.jsx("span",{children:"Perodo"})]}),a.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx(W3,{className:"h-4 w-4"}),a.jsx("span",{children:"Ordenar"})]})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funcionrio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"08/09/2025 14:30"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Venda"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Maria Silva"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"PIX"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"R$ 45,80"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Joo Santos"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Concluda"})})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx("p",{children:"Carregando transaes..."}),a.jsx("p",{className:"text-sm mt-1",children:"A integrao com dados reais ser implementada"})]})})]})]})}),a.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Anterior"}),a.jsx("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Prximo"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",a.jsx("span",{className:"font-medium",children:"1"})," at ",a.jsx("span",{className:"font-medium",children:"10"})," de"," ",a.jsx("span",{className:"font-medium",children:"247"})," resultados"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Anterior"}),a.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),a.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-blue-600 text-sm font-medium text-white",children:"2"}),a.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"3"}),a.jsx("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Prximo"})]})})]})]})]})]}),$O=()=>{const{user:e}=Xt(),{currentSession:t,loading:n,error:i}=c1();return v.useEffect(()=>{console.log("CashTest: Usurio:",e),console.log("CashTest: Sesso atual:",t),console.log("CashTest: Loading:",n),console.log("CashTest: Error:",i)},[e,t,n,i]),a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teste de Cash Management"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[a.jsx("h3",{className:"font-semibold",children:"Usurio:"}),a.jsx("pre",{children:JSON.stringify(e,null,2)})]}),a.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[a.jsx("h3",{className:"font-semibold",children:"Sesso Atual:"}),a.jsx("pre",{children:JSON.stringify(t,null,2)})]}),a.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[a.jsx("h3",{className:"font-semibold",children:"Status:"}),a.jsxs("p",{children:["Loading: ",n.toString()]}),a.jsxs("p",{children:["Error: ",i||"Nenhum erro"]})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Pgina"})]})]})},UO=()=>a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs(Sv,{children:[a.jsx(_t,{path:"/",element:a.jsx(LO,{})}),a.jsx(_t,{path:"/reports",element:a.jsx(BO,{})}),a.jsx(_t,{path:"/transactions",element:a.jsx(VO,{})}),a.jsx(_t,{path:"/test",element:a.jsx($O,{})})]})}),qO=()=>{const{user:e}=Xt();return e?a.jsxs(lC,{children:[a.jsx(vk,{})," "]}):a.jsx(sf,{to:"/login",replace:!0})},FO=()=>{const{user:e}=Xt();return e?a.jsx(sf,{to:"/",replace:!0}):a.jsx(xk,{})};function HO(){return a.jsx(G2,{children:a.jsx(iC,{children:a.jsxs(Sv,{children:[a.jsx(_t,{path:"/login",element:a.jsx(FO,{})}),a.jsxs(_t,{element:a.jsx(qO,{}),children:[a.jsx(_t,{index:!0,element:a.jsx(n5,{})}),a.jsx(_t,{path:"bar",element:a.jsx(o5,{})}),a.jsx(_t,{path:"bar-customers",element:a.jsx(l5,{})}),a.jsx(_t,{path:"bar-employees",element:a.jsx(d5,{})}),a.jsx(_t,{path:"cash/*",element:a.jsx(UO,{})}),a.jsx(_t,{path:"kitchen",element:a.jsx(D5,{})}),a.jsx(_t,{path:"inventory",element:a.jsx(z5,{})}),a.jsx(_t,{path:"inventory/estoque-baixo",element:a.jsx(B5,{})}),a.jsx(_t,{path:"inventory/atualizacao-massiva",element:a.jsx(V5,{})}),a.jsx(_t,{path:"members",element:a.jsx(q5,{})}),a.jsx(_t,{path:"bar/attendance",element:a.jsx(CO,{})}),a.jsx(_t,{path:"settings",element:a.jsx("div",{className:"p-6",children:a.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes (Em Desenvolvimento)"})})})]}),a.jsx(_t,{path:"*",element:a.jsx(sf,{to:"/",replace:!0})})]})})})}MN.createRoot(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(HO,{})}));
